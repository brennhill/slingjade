/* Build #1714 */ 
;function X2JS(a){"use strict";function b(){void 0===a.escapeMode&&(a.escapeMode=!0),a.attributePrefix=a.attributePrefix||"_",a.arrayAccessForm=a.arrayAccessForm||"none",a.emptyNodeForm=a.emptyNodeForm||"text",void 0===a.enableToStringFunc&&(a.enableToStringFunc=!0),a.arrayAccessFormPaths=a.arrayAccessFormPaths||[],void 0===a.skipEmptyTextNodesForObj&&(a.skipEmptyTextNodesForObj=!0),void 0===a.stripWhitespaces&&(a.stripWhitespaces=!0),a.datetimeAccessFormPaths=a.datetimeAccessFormPaths||[],void 0===a.useDoubleQuotes&&(a.useDoubleQuotes=!1)}function c(){function a(a){var b=String(a);return 1===b.length&&(b="0"+b),b}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function d(a){var b=a.localName;return null==b&&(b=a.baseName),(null==b||""==b)&&(b=a.nodeName),b}function e(a){return a.prefix}function f(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):a}function g(b,c,d){switch(a.arrayAccessForm){case"property":b[c]instanceof Array?b[c+"_asArray"]=b[c]:b[c+"_asArray"]=[b[c]]}if(!(b[c]instanceof Array)&&a.arrayAccessFormPaths.length>0){for(var e=0;e<a.arrayAccessFormPaths.length;e++){var f=a.arrayAccessFormPaths[e];if("string"==typeof f){if(f==d)break}else if(f instanceof RegExp){if(f.test(d))break}else if("function"==typeof f&&f(b,c,d))break}e!=a.arrayAccessFormPaths.length&&(b[c]=[b[c]])}}function h(a){var b=a.split(/[-T:+Z]/g),c=new Date(b[0],b[1]-1,b[2]),d=b[5].split(".");if(c.setHours(b[3],b[4],d[0]),d.length>1&&c.setMilliseconds(d[1]),b[6]&&b[7]){var e=60*b[6]+Number(b[7]),f=/\d\d-\d\d:\d\d$/.test(a)?"-":"+";e=0+("-"==f?-1*e:e),c.setMinutes(c.getMinutes()-e-c.getTimezoneOffset())}else-1!==a.indexOf("Z",a.length-1)&&(c=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())));return c}function i(b,c,d){if(a.datetimeAccessFormPaths.length>0){for(var e=d.split(".#")[0],f=0;f<a.datetimeAccessFormPaths.length;f++){var g=a.datetimeAccessFormPaths[f];if("string"==typeof g){if(g==e)break}else if(g instanceof RegExp){if(g.test(e))break}else if("function"==typeof g&&g(obj,c,e))break}return f!=a.datetimeAccessFormPaths.length?h(b):b}return b}function j(b,c){if(b.nodeType==v.DOCUMENT_NODE){for(var f=new Object,h=b.childNodes,k=0;k<h.length;k++){var l=h.item(k);if(l.nodeType==v.ELEMENT_NODE){var m=d(l);f[m]=j(l,m)}}return f}if(b.nodeType==v.ELEMENT_NODE){var f=new Object;f.__cnt=0;for(var h=b.childNodes,k=0;k<h.length;k++){var l=h.item(k),m=d(l);l.nodeType!=v.COMMENT_NODE&&(f.__cnt++,null==f[m]?(f[m]=j(l,c+"."+m),g(f,m,c+"."+m)):(null!=f[m]&&(f[m]instanceof Array||(f[m]=[f[m]],g(f,m,c+"."+m))),f[m][f[m].length]=j(l,c+"."+m)))}for(var n=0;n<b.attributes.length;n++){var o=b.attributes.item(n);f.__cnt++,f[a.attributePrefix+o.name]=o.value}var p=e(b);return null!=p&&""!=p&&(f.__cnt++,f.__prefix=p),null!=f["#text"]&&(f.__text=f["#text"],f.__text instanceof Array&&(f.__text=f.__text.join("\n")),a.stripWhitespaces&&(f.__text=f.__text.trim()),delete f["#text"],"property"==a.arrayAccessForm&&delete f["#text_asArray"],f.__text=i(f.__text,m,c+"."+m)),null!=f["#cdata-section"]&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],"property"==a.arrayAccessForm&&delete f["#cdata-section_asArray"]),1==f.__cnt&&null!=f.__text?f=f.__text:0==f.__cnt&&"text"==a.emptyNodeForm?f="":f.__cnt>1&&null!=f.__text&&a.skipEmptyTextNodesForObj&&(a.stripWhitespaces&&""==f.__text||""==f.__text.trim())&&delete f.__text,delete f.__cnt,!a.enableToStringFunc||null==f.__text&&null==f.__cdata||(f.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),f}return b.nodeType==v.TEXT_NODE||b.nodeType==v.CDATA_SECTION_NODE?b.nodeValue:void 0}function k(b,c,d,e){var g="<"+(null!=b&&null!=b.__prefix?b.__prefix+":":"")+c;if(null!=d)for(var h=0;h<d.length;h++){var i=d[h],j=b[i];a.escapeMode&&(j=f(j)),g+=" "+i.substr(a.attributePrefix.length)+"=",g+=a.useDoubleQuotes?'"'+j+'"':"'"+j+"'"}return g+=e?"/>":">"}function l(a,b){return"</"+(null!=a.__prefix?a.__prefix+":":"")+b+">"}function m(a,b){return-1!==a.indexOf(b,a.length-b.length)}function n(b,c){return"property"==a.arrayAccessForm&&m(c.toString(),"_asArray")||0==c.toString().indexOf(a.attributePrefix)||0==c.toString().indexOf("__")||b[c]instanceof Function?!0:!1}function o(a){var b=0;if(a instanceof Object)for(var c in a)n(a,c)||b++;return b}function p(b){var c=[];if(b instanceof Object)for(var d in b)-1==d.toString().indexOf("__")&&0==d.toString().indexOf(a.attributePrefix)&&c.push(d);return c}function q(b){var c="";return null!=b.__cdata&&(c+="<![CDATA["+b.__cdata+"]]>"),null!=b.__text&&(c+=a.escapeMode?f(b.__text):b.__text),c}function r(b){var c="";return b instanceof Object?c+=q(b):null!=b&&(c+=a.escapeMode?f(b):b),c}function s(a,b,c){var d="";if(0==a.length)d+=k(a,b,c,!0);else for(var e=0;e<a.length;e++)d+=k(a[e],b,p(a[e]),!1),d+=t(a[e]),d+=l(a[e],b);return d}function t(a){var b="",c=o(a);if(c>0)for(var d in a)if(!n(a,d)){var e=a[d],f=p(e);if(null==e||void 0==e)b+=k(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array)b+=s(e,d,f);else if(e instanceof Date)b+=k(e,d,f,!1),b+=e.toISOString(),b+=l(e,d);else{var g=o(e);g>0||null!=e.__text||null!=e.__cdata?(b+=k(e,d,f,!1),b+=t(e),b+=l(e,d)):b+=k(e,d,f,!0)}else b+=k(e,d,f,!1),b+=r(e),b+=l(e,d)}return b+=r(a)}var u="1.1.7";a=a||{},b(),c();var v={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(a){var b=window.ActiveXObject||"ActiveXObject"in window;if(void 0===a)return null;var c;if(window.DOMParser){var d=new window.DOMParser,e=null;if(!b)try{e=d.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(f){e=null}try{c=d.parseFromString(a,"text/xml"),null!=e&&c.getElementsByTagNameNS(e,"parsererror").length>0&&(c=null)}catch(f){c=null}}else 0==a.indexOf("<?")&&(a=a.substr(a.indexOf("?>")+2)),c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a);return c},this.asArray=function(a){return void 0===a||null==a?[]:a instanceof Array?a:[a]},this.toXmlDateTime=function(a){return a instanceof Date?a.toISOString():"number"==typeof a?new Date(a).toISOString():null},this.asDateTime=function(a){return"string"==typeof a?h(a):a},this.xml2json=function(a){return j(a)},this.xml_str2json=function(a){var b=this.parseXmlString(a);return null!=b?this.xml2json(b):null},this.json2xml_str=function(a){return t(a)},this.json2xml=function(a){var b=this.json2xml_str(a);return this.parseXmlString(b)},this.getVersion=function(){return u}}!function(undefined){var __m4=function(){var a=window.can||{};("undefined"==typeof GLOBALCAN||GLOBALCAN!==!1)&&(window.can=a),a.k=function(){},a.isDeferred=function(a){return a&&"function"==typeof a.then&&"function"==typeof a.pipe};var b=0;return a.cid=function(a,c){return a._cid||(b++,a._cid=(c||"")+b),a._cid},a.VERSION="@EDGE",a.simpleExtend=function(a,b){for(var c in b)a[c]=b[c];return a},a.frag=function(b){var c;return b&&"string"!=typeof b?11===b.nodeType?b:"number"==typeof b.nodeType?(c=document.createDocumentFragment(),c.appendChild(b),c):"number"==typeof b.length?(c=document.createDocumentFragment(),a.each(b,function(b){c.appendChild(a.frag(b))}),c):(c=a.buildFragment(""+b,document.body),c.childNodes.length||c.appendChild(document.createTextNode("")),c):(c=a.buildFragment(null==b?"":""+b,document.body),c.childNodes.length||c.appendChild(document.createTextNode("")),c)},a.__reading=function(){},a}(),__m5=function(a){var b=window.setImmediate||function(a){return setTimeout(a,0)},c={MutationObserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,map:{"class":"className",value:"value",innerText:"innerText",textContent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0,src:function(a,b){return null==b||""===b?(a.removeAttribute("src"),null):(a.setAttribute("src",b),b)},style:function(a,b){return a.style.cssText=b||""}},defaultValue:["input","textarea"],set:function(b,d,e){var f;c.MutationObserver||(f=c.get(b,d));var g,h=b.nodeName.toString().toLowerCase(),i=c.map[d];"function"==typeof i?g=i(b,e):i===!0?(g=b[d]=!0,"checked"===d&&"radio"===b.type&&a.inArray(h,c.defaultValue)>=0&&(b.defaultChecked=!0)):i?(g=b[i]=e,"value"===i&&a.inArray(h,c.defaultValue)>=0&&(b.defaultValue=e)):(b.setAttribute(d,e),g=e),c.MutationObserver||g===f||c.trigger(b,d,f)},trigger:function(c,d,e){return a.data(a.$(c),"canHasAttributesBindings")?b(function(){a.trigger(c,{type:"attributes",attributeName:d,target:c,oldValue:e,bubbles:!1},[])}):void 0},get:function(a,b){var d=c.map[b];return"string"==typeof d&&a[d]?a[d]:a.getAttribute(b)},remove:function(a,b){var d;c.MutationObserver||(d=c.get(a,b));var e=c.map[b];"function"==typeof e&&e(a,undefined),e===!0?a[b]=!1:"string"==typeof e?a[e]="":a.removeAttribute(b),c.MutationObserver||null==d||c.trigger(a,b,d)},has:function(){var a=document.createElement("div");return a.hasAttribute?function(a,b){return a.hasAttribute(b)}:function(a,b){return null!==a.getAttribute(b)}}()};return c}(__m4),__m6=function(a){return a.addEvent=function(a,b){var c=this.__bindEvents||(this.__bindEvents={}),d=c[a]||(c[a]=[]);return d.push({handler:b,name:a}),this},a.listenTo=function(b,c,d){var e=this.__listenToEvents;e||(e=this.__listenToEvents={});var f=a.cid(b),g=e[f];g||(g=e[f]={obj:b,events:{}});var h=g.events[c];h||(h=g.events[c]=[]),h.push(d),a.bind.call(b,c,d)},a.stopListening=function(b,c,d){var e=this.__listenToEvents,f=e,g=0;if(!e)return this;if(b){var h=a.cid(b);if((f={})[h]=e[h],!e[h])return this}for(var i in f){var j,k=f[i];b=e[i].obj,c?(j={})[c]=k.events[c]:j=k.events;for(var l in j){var m=j[l]||[];for(g=0;g<m.length;)d&&d===m[g]||!d?(a.unbind.call(b,l,m[g]),m.splice(g,1)):g++;m.length||delete k.events[l]}a.isEmptyObject(k.events)&&delete e[i]}return this},a.removeEvent=function(a,b,c){if(!this.__bindEvents)return this;for(var d,e=this.__bindEvents[a]||[],f=0,g="function"==typeof b;f<e.length;)d=e[f],(c?c(d,a,b):g&&d.handler===b||!g&&(d.cid===b||!b))?e.splice(f,1):f++;return this},a.dispatch=function(a,b){var c=this.__bindEvents;if(c){"string"==typeof a&&(a={type:a});var d=a.type,e=(c[d]||[]).slice(0),f=[a];b&&f.push.apply(f,b);for(var g=0,h=e.length;h>g;g++)e[g].handler.apply(this,f);return a}},a.one=function(b,c){var d=function(){return a.unbind.call(this,b,d),c.apply(this,arguments)};return a.bind.call(this,b,d),this},a.event={on:function(){return 0===arguments.length&&a.Control&&this instanceof a.Control?a.Control.prototype.on.call(this):a.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&a.Control&&this instanceof a.Control?a.Control.prototype.off.call(this):a.removeEvent.apply(this,arguments)},bind:a.addEvent,unbind:a.removeEvent,delegate:function(b,c,d){return a.addEvent.call(this,c,d)},undelegate:function(b,c,d){return a.removeEvent.call(this,c,d)},trigger:a.dispatch,one:a.one,addEvent:a.addEvent,removeEvent:a.removeEvent,listenTo:a.listenTo,stopListening:a.stopListening,dispatch:a.dispatch},a.event}(__m4),__m7=function(a){var b=function(a){var b=a.length;return"function"!=typeof arr&&(0===b||"number"==typeof b&&b>0&&b-1 in a)};return a.each=function(c,d,e){var f,g,h,i=0;if(c)if(b(c))if(a.List&&c instanceof a.List)for(g=c.attr("length");g>i&&(h=c.attr(i),d.call(e||h,h,i,c)!==!1);i++);else for(g=c.length;g>i&&(h=c[i],d.call(e||h,h,i,c)!==!1);i++);else if("object"==typeof c)if(a.Map&&c instanceof a.Map||c===a.route){var j=a.Map.keys(c);for(i=0,g=j.length;g>i&&(f=j[i],h=c.attr(f),d.call(e||h,h,f,c)!==!1);i++);}else for(f in c)if(c.hasOwnProperty(f)&&d.call(e||c[f],c[f],f,c)===!1)break;return c},a}(__m4),__m8=function(a){a.inserted=function(b){b=a.makeArray(b);for(var c,d,e=!1,f=a.$(document.contains?document:document.body),g=0;(d=b[g])!==undefined;g++){if(!e){if(!d.getElementsByTagName)continue;if(!a.has(f,d).length)return;e=!0}if(e&&d.getElementsByTagName){c=a.makeArray(d.getElementsByTagName("*")),a.trigger(d,"inserted",[],!1);for(var h,i=0;(h=c[i])!==undefined;i++)a.trigger(h,"inserted",[],!1)}}},a.appendChild=function(b,c){var d;d=11===c.nodeType?a.makeArray(c.childNodes):[c],b.appendChild(c),a.inserted(d)},a.insertBefore=function(b,c,d){var e;e=11===c.nodeType?a.makeArray(c.childNodes):[c],b.insertBefore(c,d),a.inserted(e)}}(__m4),__m2=function(a,b,c,d){var e=function(a){return a.nodeName&&(1===a.nodeType||9===a.nodeType)||a==window};a.extend(b,a,{trigger:function(c,d,f,g){e(c)?a.event.trigger(d,f,c,!g):c.trigger?c.trigger(d,f):("string"==typeof d&&(d={type:d}),d.target=d.target||c,f&&(f.length&&"string"==typeof f?f=[f]:f.length||(f=[f])),f||(f=[]),b.dispatch.call(c,d,f))},event:b.event,addEvent:b.addEvent,removeEvent:b.removeEvent,buildFragment:function(b,c){var d;return b=[b],c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d=a.buildFragment(b,c),d.cacheable?a.clone(d.fragment):d.fragment||d},$:a,each:b.each,bind:function(c,d){return this.bind&&this.bind!==b.bind?this.bind(c,d):e(this)?a.event.add(this,c,d):b.addEvent.call(this,c,d),this},unbind:function(c,d){return this.unbind&&this.unbind!==b.unbind?this.unbind(c,d):e(this)?a.event.remove(this,c,d):b.removeEvent.call(this,c,d),this},delegate:function(c,d,f){return this.delegate?this.delegate(c,d,f):e(this)?a(this).delegate(c,d,f):b.bind.call(this,d,f),this},undelegate:function(c,d,f){return this.undelegate?this.undelegate(c,d,f):e(this)?a(this).undelegate(c,d,f):b.unbind.call(this,d,f),this},proxy:function(a,b){return function(){return a.apply(b,arguments)}},attr:c}),b.on=b.bind,b.off=b.unbind,a.each(["append","filter","addClass","remove","data","get","has"],function(a,c){b[c]=function(a){return a[c].apply(a,b.makeArray(arguments).slice(1))}});var f=a.cleanData;a.cleanData=function(c){a.each(c,function(a,c){c&&b.trigger(c,"removed",[],!1)}),f(c)};var g,h=a.fn.domManip;if(a.fn.domManip=function(a,b,c){for(var d=1;d<arguments.length;d++)if("function"==typeof arguments[d]){g=d;break}return h.apply(this,arguments)},a(document.createElement("div")).append(document.createElement("div")),a.fn.domManip=2===g?function(a,c,d){return h.call(this,a,c,function(a){var c;11===a.nodeType&&(c=b.makeArray(a.childNodes));var e=d.apply(this,arguments);return b.inserted(c?c:[a]),e})}:function(a,c){return h.call(this,a,function(a){var d;11===a.nodeType&&(d=b.makeArray(a.childNodes));var e=c.apply(this,arguments);return b.inserted(d?d:[a]),e})},b.attr.MutationObserver)a.event.special.attributes={setup:function(){var a=this,c=new b.attr.MutationObserver(function(c){c.forEach(function(c){var d=b.simpleExtend({},c);b.trigger(a,d,[])})});c.observe(this,{attributes:!0,attributeOldValue:!0}),b.data(b.$(this),"canAttributesObserver",c)},teardown:function(){b.data(b.$(this),"canAttributesObserver").disconnect(),a.removeData(this,"canAttributesObserver")}};else{var i=a.attr;a.attr=function(a,c){var d,e;arguments.length>=3&&(d=i.call(this,a,c));var f=i.apply(this,arguments);return arguments.length>=3&&(e=i.call(this,a,c)),e!==d&&b.attr.trigger(a,c,d),f};var j=a.removeAttr;a.removeAttr=function(a,c){var d=i.call(this,a,c),e=j.apply(this,arguments);return null!=d&&b.attr.trigger(a,c,d),e},a.event.special.attributes={setup:function(){b.data(b.$(this),"canHasAttributesBindings",!0)},teardown:function(){a.removeData(this,"canHasAttributesBindings")}}}return function(){var a="<-\n>",c=b.buildFragment(a,document);if(a!==c.childNodes[0].nodeValue){var d=b.buildFragment;b.buildFragment=function(a,b){var c=d(a,b);return 1===c.childNodes.length&&3===c.childNodes[0].nodeType&&(c.childNodes[0].nodeValue=a),c}}}(),a.event.special.inserted={},a.event.special.removed={},b}(jQuery,__m4,__m5,__m6,__m7,__m8),__m10=function(a){var b=a.isFunction,c=a.makeArray,d=1,e=function(a){var b=function(){return j.frag(a.apply(this,arguments))};return b.render=function(){return a.apply(a,arguments)},b},f=function(a,b){if(!a.length)throw"can.view: No template or empty template:"+b},g=function(c,d){if(b(c)){var e=a.Deferred();return e.resolve(c)}var g,h,i,k="string"==typeof c?c:c.url,l=c.engine&&"."+c.engine||k.match(/\.[\w\d]+$/);if(k.match(/^#/)&&(k=k.substr(1)),(h=document.getElementById(k))&&(l="."+h.type.match(/\/(x\-)?(.+)/)[2]),l||j.cached[k]||(k+=l=j.ext),a.isArray(l)&&(l=l[0]),i=j.toId(k),k.match(/^\/\//)&&(k=k.substr(2),k=window.steal?steal.config().root.mapJoin(""+steal.id(k)):k),window.require&&require.toUrl&&(k=require.toUrl(k)),g=j.types[l],j.cached[i])return j.cached[i];if(h)return j.registerView(i,h.innerHTML,g);var m=new a.Deferred;return a.ajax({async:d,url:k,dataType:"text",error:function(a){f("",k),m.reject(a)},success:function(a){f(a,k),j.registerView(i,a,g,m)}}),m},h=function(b){var c=[];if(a.isDeferred(b))return[b];for(var d in b)a.isDeferred(b[d])&&c.push(b[d]);return c},i=function(b){return a.isArray(b)&&"success"===b[1]?b[0]:b},j=a.view=a.template=function(a,c,d,e){return b(d)&&(e=d,d=undefined),j.renderAs("fragment",a,c,d,e)};return a.extend(j,{frag:function(a,b){return j.hookup(j.fragment(a),b)},fragment:function(b){if("string"!=typeof b&&11===b.nodeType)return b;var c=a.buildFragment(b,document.body);return c.childNodes.length||c.appendChild(document.createTextNode("")),c},toId:function(b){return a.map(b.toString().split(/\/|\./g),function(a){return a?a:void 0}).join("_")},toStr:function(a){return null==a?"":""+a},hookup:function(b,c){var d,e,f=[];return a.each(b.childNodes?a.makeArray(b.childNodes):b,function(b){1===b.nodeType&&(f.push(b),f.push.apply(f,a.makeArray(b.getElementsByTagName("*"))))}),a.each(f,function(a){a.getAttribute&&(d=a.getAttribute("data-view-id"))&&(e=j.hookups[d])&&(e(a,c,d),delete j.hookups[d],a.removeAttribute("data-view-id"))}),b},hookups:{},hook:function(a){return j.hookups[++d]=a," data-view-id='"+d+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(b){this.types["."+b.suffix]=b,a[b.suffix]=j[b.suffix]=function(a,c){var d,f;if(!c)return f=function(){return d||(d=b.fragRenderer?b.fragRenderer(null,a):e(b.renderer(null,a))),d.apply(this,arguments)},f.render=function(){var c=b.renderer(null,a);return c.apply(c,arguments)},f;var g=function(){return d||(d=b.fragRenderer?b.fragRenderer(a,c):b.renderer(a,c)),d.apply(this,arguments)};return b.fragRenderer?j.preload(a,g):j.preloadStringRenderer(a,g)}},types:{},ext:".ejs",registerScript:function(a,b,c){return"can.view.preloadStringRenderer('"+b+"',"+j.types["."+a].script(b,c)+");"},preload:function(b,c){var d=j.cached[b]=(new a.Deferred).resolve(function(a,b){return c.call(a,a,b)});return d.__view_id=b,j.cachedRenderers[b]=c,c},preloadStringRenderer:function(a,b){return this.preload(a,e(b))},render:function(b,c,d,e){return a.view.renderAs("string",b,c,d,e)},renderTo:function(a,b,c,d){return("string"===a&&b.render?b.render:b)(c,d)},renderAs:function(d,e,f,k,l){b(k)&&(l=k,k=undefined);var m,n,o,p,q,r=h(f);if(r.length)return n=new a.Deferred,o=a.extend({},f),r.push(g(e,!0)),a.when.apply(a,r).then(function(b){var e,g=c(arguments),h=g.pop();if(a.isDeferred(f))o=i(b);else for(var j in f)a.isDeferred(f[j])&&(o[j]=i(g.shift()));e=a.view.renderTo(d,h,o,k),n.resolve(e,o),l&&l(e,o)},function(){n.reject.apply(n,arguments)}),n;if(m=a.__clearReading(),p=b(l),n=g(e,p),m&&a.__setReading(m),p)q=n,n.then(function(b){l(f?a.view.renderTo(d,b,f,k):b)});else{if("resolved"===n.state()&&n.__view_id){var s=j.cachedRenderers[n.__view_id];return f?a.view.renderTo(d,s,f,k):s}n.then(function(b){q=f?a.view.renderTo(d,b,f,k):b})}return q},registerView:function(b,c,d,f){var g,h="object"==typeof d?d:j.types[d||j.ext];return g=h.fragRenderer?h.fragRenderer(b,c):e(h.renderer(b,c)),f=f||new a.Deferred,j.cache&&(j.cached[b]=f,f.__view_id=b,j.cachedRenderers[b]=g),f.resolve(g)}}),a}(__m2),__m9=function(a){var b=a.view.attr=function(a,b){if(!b){var e=c[a];if(!e)for(var f=0,g=d.length;g>f;f++){var h=d[f];if(h.match.test(a)){e=h.handler;break}}return e}"string"==typeof a?c[a]=b:d.push({match:a,handler:b})},c={},d=[],e=/[-\:]/,f=a.view.tag=function(a,b){if(!b){var c=g[a.toLowerCase()];return!c&&e.test(a)&&(c=function(){}),c}window.html5&&(window.html5.elements+=" "+a,window.html5.shivDocument()),g[a.toLowerCase()]=b},g={};return a.view.callbacks={_tags:g,_attributes:c,_regExpAttributes:d,tag:f,attr:b,tagHandler:function(b,c,d){var e,f=d.options.attr("tags."+c),h=f||g[c],i=d.scope;if(h){var j=a.__clearReading();e=h(b,d),a.__setReading(j)}else e=i;if(e&&d.subtemplate){i!==e&&(i=i.add(e));var k=d.subtemplate(i,d.options),l="string"==typeof k?a.view.frag(k):k;a.appendChild(b,l)}}},a.view.callbacks}(__m2,__m10),__m13=function(a){var b=/_|-/,c=/\=\=/,d=/([A-Z]+)([A-Z][a-z])/g,e=/([a-z\d])([A-Z])/g,f=/([a-z\d])([A-Z])/g,g=/\{([^\}]+)\}/g,h=/"/g,i=/'/g,j=/-+(.)?/g,k=/[a-z][A-Z]/g,l=function(a,b,c){var d=a[b];return d===undefined&&c===!0&&(d=a[b]={}),d},m=function(a){return/^f|^o/.test(typeof a)},n=function(a){var b=null===a||a===undefined||isNaN(a)&&""+a=="NaN";return""+(b?"":a)};return a.extend(a,{esc:function(a){return n(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(h,"&#34;").replace(i,"&#39;")},getObject:function(b,c,d){var e,f,g,h,i=b?b.split("."):[],j=i.length,k=0;if(c=a.isArray(c)?c:[c||window],h=c.length,!j)return c[0];for(k;h>k;k++){for(e=c[k],g=undefined,f=0;j>f&&m(e);f++)g=e,e=l(g,i[f]);if(g!==undefined&&e!==undefined)break}if(d===!1&&e!==undefined&&delete g[i[f-1]],d===!0&&e===undefined)for(e=c[0],f=0;j>f&&m(e);f++)e=l(e,i[f],!0);return e},capitalize:function(a,b){return a.charAt(0).toUpperCase()+a.slice(1)},camelize:function(a){return n(a).replace(j,function(a,b){return b?b.toUpperCase():""})},hyphenate:function(a){return n(a).replace(k,function(a,b){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})},underscore:function(a){return a.replace(c,"/").replace(d,"$1_$2").replace(e,"$1_$2").replace(f,"_").toLowerCase()},sub:function(b,c,d){var e=[];return b=b||"",e.push(b.replace(g,function(b,f){var g=a.getObject(f,c,d===!0?!1:undefined);return g===undefined||null===g?(e=null,""):m(g)&&e?(e.push(g),""):""+g})),null===e?e:e.length<=1?e[0]:e},replacer:g,undHash:b}),a}(__m2),__m12=function(a){var b=0,c=function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return c&&(c.get||c.set)?c:null},d=function(b,d,e){e=e||b;var f;for(var g in b)(f=c(b,g))?this._defineProperty(e,d,g,f):a.Construct._overwrite(e,d,g,b[g])},e=function(b,c,d){d=d||b;for(var e in b)a.Construct._overwrite(d,c,e,b[e])};return a.Construct=function(){return arguments.length?a.Construct.extend.apply(a.Construct,arguments):void 0},a.extend(a.Construct,{constructorExtends:!0,newInstance:function(){var a,b=this.instance();return b.setup&&(a=b.setup.apply(b,arguments)),b.init&&b.init.apply(b,a||arguments),b},_inherit:Object.getOwnPropertyDescriptor?d:e,_defineProperty:function(a,b,c,d){Object.defineProperty(a,c,d)},_overwrite:function(a,b,c,d){a[c]=d},setup:function(b,c){this.defaults=a.extend(!0,{},b.defaults,this.defaults)},instance:function(){b=1;var a=new this;return b=0,a},extend:function(c,d,e){function f(){return b?void 0:this.constructor!==f&&arguments.length&&f.constructorExtends?f.extend.apply(f,arguments):f.newInstance.apply(f,arguments)}var g=c,h=d,i=e;"string"!=typeof g&&(i=h,h=g,g=null),i||(i=h,h=null),i=i||{};var j,k,l,m,n,o,p,q,r=this,s=this.prototype;q=this.instance(),a.Construct._inherit(i,s,q);for(n in r)r.hasOwnProperty(n)&&(f[n]=r[n]);a.Construct._inherit(h,r,f),g&&(j=g.split("."),o=j.pop(),k=a.getObject(j.join("."),window,!0),p=k,l=a.underscore(g.replace(/\./g,"_")),m=a.underscore(o),k[o]=f),a.extend(f,{constructor:f,prototype:q,namespace:p,_shortName:m,fullName:g,_fullName:l}),o!==undefined&&(f.shortName=o),f.prototype.constructor=f;var t=[r].concat(a.makeArray(arguments)),u=f.setup.apply(f,t);return f.init&&f.init.apply(f,u||t),f}}),a.Construct.prototype.setup=function(){},a.Construct.prototype.init=function(){},a.Construct}(__m13),__m11=function(a){var b,c=function(b,c,d){return a.bind.call(b,c,d),function(){a.unbind.call(b,c,d)}},d=a.isFunction,e=a.extend,f=a.each,g=[].slice,h=/\{([^\}]+)\}/g,i=a.getObject("$.event.special",[a])||{},j=function(b,c,d,e){return a.delegate.call(b,c,d,e),function(){a.undelegate.call(b,c,d,e)}},k=function(b,d,e,f){return f?j(b,a.trim(f),d,e):c(b,d,e)},l=a.Control=a.Construct({setup:function(){if(a.Construct.setup.apply(this,arguments),a.Control){var b,c=this;c.actions={};for(b in c.prototype)c._isAction(b)&&(c.actions[b]=c._action(b))}},_shifter:function(b,c){var e="string"==typeof c?b[c]:c;return d(e)||(e=b[e]),function(){return b.called=c,e.apply(b,[this.nodeName?a.$(this):this].concat(g.call(arguments,0)))}},_isAction:function(a){var b=this.prototype[a],c=typeof b;return"constructor"!==a&&("function"===c||"string"===c&&d(this.prototype[b]))&&!!(i[a]||m[a]||/[^\w]/.test(a))},_action:function(c,d){if(h.lastIndex=0,d||!h.test(c)){var e=d?a.sub(c,this._lookup(d)):c;if(!e)return null;var f=a.isArray(e),g=f?e[1]:e,i=g.split(/\s+/g),j=i.pop();return{processor:m[j]||b,parts:[g,i.join(" "),j],delegate:f?e[0]:undefined}}},_lookup:function(a){return[a,window]},processors:{},defaults:{}},{setup:function(b,c){var d,f=this.constructor,g=f.pluginName||f._fullName;return this.element=a.$(b),g&&"can_control"!==g&&this.element.addClass(g),d=a.data(this.element,"controls"),d||(d=[],a.data(this.element,"controls",d)),d.push(this),this.options=e({},f.defaults,c),this.on(),[this.element,this.options]},on:function(b,c,d,e){if(!b){this.off();var f,g,h=this.constructor,i=this._bindings,j=h.actions,l=this.element,m=a.Control._shifter(this,"destroy");for(f in j)j.hasOwnProperty(f)&&(g=j[f]||h._action(f,this.options,this),g&&(i.control[f]=g.processor(g.delegate||l,g.parts[2],g.parts[1],f,this)));return a.bind.call(l,"removed",m),i.user.push(function(b){a.unbind.call(b,"removed",m)}),i.user.length}return"string"==typeof b&&(e=d,d=c,c=b,b=this.element),e===undefined&&(e=d,d=c,c=null),"string"==typeof e&&(e=a.Control._shifter(this,e)),this._bindings.user.push(k(b,d,e,c)),this._bindings.user.length},off:function(){var a=this.element[0],b=this._bindings;b&&(f(b.user||[],function(b){b(a)}),f(b.control||{},function(b){b(a)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var b,c=this.constructor,d=c.pluginName||c._fullName;this.off(),d&&"can_control"!==d&&this.element.removeClass(d),b=a.data(this.element,"controls"),b.splice(a.inArray(this,b),1),a.trigger(this,"destroyed"),this.element=null}}}),m=a.Control.processors;return b=function(b,c,d,e,f){return k(b,c,a.Control._shifter(f,e),d)},f(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed"],function(a){m[a]=b}),l}(__m2,__m12),__m16=function(a){return a.bindAndSetup=function(){return a.addEvent.apply(this,arguments),this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},a.unbindAndTeardown=function(b,c){return a.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings--,!this._bindings&&this._bindteardown&&this._bindteardown(),this},a}(__m2),__m17=function(a){var b=a.bubble={event:function(a,b){return a.constructor._bubbleRule(b,a)},childrenOf:function(a,c){a._each(function(d,e){d&&d.bind&&b.toParent(d,a,e,c)})},teardownChildrenFrom:function(a,c){a._each(function(d){b.teardownFromParent(a,d,c)})},toParent:function(b,c,d,e){a.listenTo.call(c,b,e,function(){var e=a.makeArray(arguments),f=e.shift();e[0]=(a.List&&c instanceof a.List?c.indexOf(b):d)+(e[0]?"."+e[0]:""),f.triggeredNS=f.triggeredNS||{},f.triggeredNS[c._cid]||(f.triggeredNS[c._cid]=!0,a.trigger(c,f,e))})},teardownFromParent:function(b,c,d){c&&c.unbind&&a.stopListening.call(b,c,d)},isBubbling:function(a,b){return a._bubbleBindings&&a._bubbleBindings[b]},bind:function(a,c){if(!a._init){var d=b.event(a,c);d&&(a._bubbleBindings||(a._bubbleBindings={}),a._bubbleBindings[d]?a._bubbleBindings[d]++:(a._bubbleBindings[d]=1,b.childrenOf(a,d)))}},unbind:function(c,d){var e=b.event(c,d);e&&(c._bubbleBindings&&c._bubbleBindings[e]--,c._bubbleBindings&&!c._bubbleBindings[e]&&(delete c._bubbleBindings[e],b.teardownChildrenFrom(c,e),a.isEmptyObject(c._bubbleBindings)&&delete c._bubbleBindings))},add:function(c,d,e){if(d instanceof a.Map&&c._bubbleBindings)for(var f in c._bubbleBindings)c._bubbleBindings[f]&&(b.teardownFromParent(c,d,f),b.toParent(d,c,e,f))},removeMany:function(a,c){for(var d=0,e=c.length;e>d;d++)b.remove(a,c[d])},remove:function(c,d){if(d instanceof a.Map&&c._bubbleBindings)for(var e in c._bubbleBindings)c._bubbleBindings[e]&&b.teardownFromParent(c,d,e)},set:function(c,d,e,f){return a.Map.helpers.isObservable(e)&&b.add(c,e,d),a.Map.helpers.isObservable(f)&&b.remove(c,f),e}};return b}(__m2),__m18=function(a){var b=1,c=0,d=[],e=[];a.batch={start:function(a){c++,a&&e.push(a)},stop:function(f,g){if(f?c=0:c--,0===c){var h,i,j=d.slice(0),k=e.slice(0);for(d=[],e=[],b++,g&&a.batch.start(),h=0,i=j.length;i>h;h++)a.dispatch.apply(j[h][0],j[h][1]);for(h=0,i=k.length;h<k.length;h++)k[h]()}},trigger:function(e,f,g){if(!e._init){if(0===c)return a.dispatch.call(e,f,g);f="string"==typeof f?{type:f}:f,f.batchNum=b,d.push([e,[f,g]])}}}}(__m4),__m15=function(a,b,c){var d=null,e=function(){for(var a in d)d[a].added&&delete d[a].obj._cid;d=null},f=function(a){return d&&d[a._cid]&&d[a._cid].instance},g=null,h=a.Map=a.Construct.extend({setup:function(){if(a.Construct.setup.apply(this,arguments),a.Map){this.defaults||(this.defaults={}),this._computes=[];for(var b in this.prototype)"define"!==b&&"constructor"!==b&&("function"!=typeof this.prototype[b]||this.prototype[b].prototype instanceof a.Construct)?this.defaults[b]=this.prototype[b]:this.prototype[b].isComputed&&this._computes.push(b);this.helpers.define&&this.helpers.define(this)}!a.List||this.prototype instanceof a.List||(this.List=h.List.extend({Map:this},{}))},_bubble:c,_bubbleRule:function(a){return("change"===a||a.indexOf(".")>=0)&&"change"},_computes:[],bind:a.bindAndSetup,on:a.bindAndSetup,unbind:a.unbindAndTeardown,off:a.unbindAndTeardown,id:"id",helpers:{define:null,attrParts:function(a,b){return b?[a]:"object"==typeof a?a:(""+a).split(".")},addToMap:function(b,c){var f;d||(f=e,d={});var g=b._cid,h=a.cid(b);return d[h]||(d[h]={obj:b,instance:c,added:!g}),f},isObservable:function(b){return b instanceof a.Map||b&&b===a.route},canMakeObserve:function(b){return b&&!a.isDeferred(b)&&(a.isArray(b)||a.isPlainObject(b))},serialize:function(b,c,d){var e=a.cid(b),f=!1;return g||(f=!0,g={attr:{},serialize:{}}),g[c][e]=d,b.each(function(e,f){var i,j=h.helpers.isObservable(e),k=j&&g[c][a.cid(e)];i=k?k:"serialize"===c?h.helpers._serialize(b,f,e):h.helpers._getValue(b,f,e,c),i!==undefined&&(d[f]=i)}),a.__reading(b,"__keys"),f&&(g=null),d},_serialize:function(a,b,c){return h.helpers._getValue(a,b,c,"serialize")},_getValue:function(a,b,c,d){return h.helpers.isObservable(c)?c[d]():c}},keys:function(b){var c=[];a.__reading(b,"__keys");for(var d in b._data)c.push(d);return c}},{setup:function(b){b instanceof a.Map&&(b=b.serialize()),this._data={},a.cid(this,".map"),this._init=1,this._computedBindings={};var c=this._setupDefaults(b);this._setupComputes(c);var d=b&&a.Map.helpers.addToMap(b,this),e=a.extend(a.extend(!0,{},c),b);this.attr(e),d&&d(),this.bind("change",a.proxy(this._changes,this)),delete this._init},_setupComputes:function(){for(var a,b=this.constructor._computes,c=0,d=b.length;d>c;c++)a=b[c],this[a]=this[a].clone(this),this._computedBindings[a]={count:0}},_setupDefaults:function(){return this.constructor.defaults||{};

},_bindsetup:function(){},_bindteardown:function(){},_changes:function(b,c,d,e,f){a.batch.trigger(this,{type:c,batchNum:b.batchNum,target:b.target},[e,f])},_triggerChange:function(b,d,e,f){c.isBubbling(this,"change")?a.batch.trigger(this,{type:"change",target:this},[b,d,e,f]):a.batch.trigger(this,b,[e,f]),("remove"===d||"add"===d)&&a.batch.trigger(this,{type:"__keys",target:this})},_each:function(a){var b=this.__get();for(var c in b)b.hasOwnProperty(c)&&a(b[c],c)},attr:function(b,c){var d=typeof b;return"string"!==d&&"number"!==d?this._attrs(b,c):1===arguments.length?(a.__reading(this,b),this._get(b)):(this._set(b,c),this)},each:function(){return a.each.apply(undefined,[this].concat(a.makeArray(arguments)))},removeAttr:function(b){var c=a.List&&this instanceof a.List,d=a.Map.helpers.attrParts(b),e=d.shift(),f=c?this[e]:this._data[e];return d.length&&f?f.removeAttr(d):("string"==typeof b&&~b.indexOf(".")&&(e=b),this._remove(e,f),f)},_remove:function(a,b){a in this._data&&(delete this._data[a],a in this.constructor.prototype||delete this[a],this._triggerChange(a,"remove",undefined,b))},_get:function(a){a=""+a;var b=a.indexOf(".");if(b>=0){var c=this.__get(a);if(c!==undefined)return c;var d=a.substr(0,b),e=a.substr(b+1),f=this.__get(d);return f&&f._get?f._get(e):undefined}return this.__get(a)},__get:function(a){return a?this._computedBindings[a]?this[a]():this._data[a]:this._data},__type:function(b,c){if(!(b instanceof a.Map)&&a.Map.helpers.canMakeObserve(b)){var d=f(b);if(d)return d;if(a.isArray(b)){var e=a.List;return new e(b)}var g=this.constructor.Map||a.Map;return new g(b)}return b},_set:function(a,b,c){a=""+a;var d,e=a.indexOf(".");if(!c&&e>=0){var f=a.substr(0,e),g=a.substr(e+1);if(d=this._init?undefined:this.__get(f),!h.helpers.isObservable(d))throw"can.Map: Object does not exist";d._set(g,b)}else this.__convert&&(b=this.__convert(a,b)),d=this._init?undefined:this.__get(a),this.__set(a,this.__type(b,a),d)},__set:function(a,b,c){if(b!==c){var d=c!==undefined||this.__get().hasOwnProperty(a)?"set":"add";this.___set(a,this.constructor._bubble.set(this,a,b,c)),this._triggerChange(a,d,b,c),c&&this.constructor._bubble.teardownFromParent(this,c)}},___set:function(a,b){this._computedBindings[a]?this[a](b):this._data[a]=b,"function"==typeof this.constructor.prototype[a]||this._computedBindings[a]||(this[a]=b)},bind:function(b,c){var d=this._computedBindings&&this._computedBindings[b];if(d)if(d.count)d.count++;else{d.count=1;var e=this;d.handler=function(c,d,f){a.batch.trigger(e,{type:b,batchNum:c.batchNum,target:e},[d,f])},this[b].bind("change",d.handler)}return this.constructor._bubble.bind(this,b),a.bindAndSetup.apply(this,arguments)},unbind:function(b,c){var d=this._computedBindings&&this._computedBindings[b];return d&&(1===d.count?(d.count=0,this[b].unbind("change",d.handler),delete d.handler):d.count--),this.constructor._bubble.unbind(this,b),a.unbindAndTeardown.apply(this,arguments)},serialize:function(){return a.Map.helpers.serialize(this,"serialize",{})},_attrs:function(b,c){if(b===undefined)return h.helpers.serialize(this,"attr",{});b=a.simpleExtend({},b);var d,e,f=this;a.batch.start(),this.each(function(a,d){if("_cid"!==d){if(e=b[d],e===undefined)return void(c&&f.removeAttr(d));f.__convert&&(e=f.__convert(d,e)),h.helpers.isObservable(e)?f.__set(d,f.__type(e,d),a):h.helpers.isObservable(a)&&h.helpers.canMakeObserve(e)?a.attr(e,c):a!==e&&f.__set(d,f.__type(e,d),a),delete b[d]}});for(d in b)"_cid"!==d&&(e=b[d],this._set(d,e,!0));return a.batch.stop(),this},compute:function(b){if(a.isFunction(this.constructor.prototype[b]))return a.compute(this[b],this);var c=b.split("."),d=c.length-1,e={args:[]};return a.compute(function(b){return arguments.length?void a.compute.read(this,c.slice(0,d)).value.attr(c[d],b):a.compute.read(this,c,e).value},this)}});return h.prototype.on=h.prototype.bind,h.prototype.off=h.prototype.unbind,h}(__m2,__m16,__m17,__m12,__m18),__m19=function(a,b,c){var d=[].splice,e=function(){var a={0:"a",length:1};return d.call(a,0,1),!a[0]}(),f=b.extend({Map:b},{setup:function(b,c){this.length=0,a.cid(this,".map"),this._init=1,this._computedBindings={},this._setupComputes(),b=b||[];var d;a.isDeferred(b)?this.replace(b):(d=b.length&&a.Map.helpers.addToMap(b,this),this.push.apply(this,a.makeArray(b||[]))),d&&d(),this.bind("change",a.proxy(this._changes,this)),a.simpleExtend(this,c),delete this._init},_triggerChange:function(c,d,e,f){b.prototype._triggerChange.apply(this,arguments);var g=+c;~c.indexOf(".")||isNaN(g)||("add"===d?(a.batch.trigger(this,d,[e,g]),a.batch.trigger(this,"length",[this.length])):"remove"===d?(a.batch.trigger(this,d,[f,g]),a.batch.trigger(this,"length",[this.length])):a.batch.trigger(this,d,[e,g]))},__get:function(b){return b?this[b]&&this[b].isComputed&&a.isFunction(this.constructor.prototype[b])?this[b]():this[b]:this},___set:function(a,b){this[a]=b,+a>=this.length&&(this.length=+a+1)},_remove:function(a,b){isNaN(+a)?(delete this[a],this._triggerChange(a,"remove",undefined,b)):this.splice(a,1)},_each:function(a){for(var b=this.__get(),c=0;c<b.length;c++)a(b[c],c)},serialize:function(){return b.helpers.serialize(this,"serialize",[])},splice:function(b,f){var g,h,i=a.makeArray(arguments),j=[];for(g=2,h=i.length;h>g;g++)i[g]=this.__type(i[g],g),j.push(i[g]);f===undefined&&(f=i[1]=this.length-b);var k=d.apply(this,i);if(!e)for(g=this.length;g<k.length+this.length;g++)delete this[g];if(a.batch.start(),f>0&&(c.removeMany(this,k),this._triggerChange(""+b,"remove",undefined,k)),i.length>2){for(g=0,h=j.length;h>g;g++)c.set(this,g,j[g]);this._triggerChange(""+b,"add",j,k)}return a.batch.stop(),k},_attrs:function(c,d){return c===undefined?b.helpers.serialize(this,"attr",[]):(c=a.makeArray(c),a.batch.start(),this._updateAttrs(c,d),void a.batch.stop())},_updateAttrs:function(a,c){for(var d=Math.min(a.length,this.length),e=0;d>e;e++){var f=this[e],g=a[e];b.helpers.isObservable(f)&&b.helpers.canMakeObserve(g)?f.attr(g,c):f!==g&&this._set(e,g)}a.length>this.length?this.push.apply(this,a.slice(this.length)):a.length<this.length&&c&&this.splice(a.length)}}),g=function(b){return b[0]&&a.isArray(b[0])?b[0]:a.makeArray(b)};return a.each({push:"length",unshift:0},function(a,b){var d=[][b];f.prototype[b]=function(){for(var b,e,f=[],g=a?this.length:0,h=arguments.length;h--;)e=arguments[h],f[h]=c.set(this,h,this.__type(e,h));return b=d.apply(this,f),(!this.comparator||f.length)&&this._triggerChange(""+g,"add",f,undefined),b}}),a.each({pop:"length",shift:0},function(a,b){f.prototype[b]=function(){var d=g(arguments),e=a&&this.length?this.length-1:0,f=[][b].apply(this,d);return this._triggerChange(""+e,"remove",undefined,[f]),f&&f.unbind&&c.remove(this,f),f}}),a.extend(f.prototype,{indexOf:function(b,c){return this.attr("length"),a.inArray(b,this,c)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){var b=a.makeArray([].reverse.call(this));this.replace(b)},slice:function(){var a=Array.prototype.slice.apply(this,arguments);return new this.constructor(a)},concat:function(){var b=[];return a.each(a.makeArray(arguments),function(c,d){b[d]=c instanceof a.List?c.serialize():c}),new this.constructor(Array.prototype.concat.apply(this.serialize(),b))},forEach:function(b,c){return a.each(this,b,c||this)},replace:function(b){return a.isDeferred(b)?b.then(a.proxy(this.replace,this)):this.splice.apply(this,[0,this.length].concat(a.makeArray(b||[]))),this},filter:function(b,c){var d,e=new a.List,f=this;return this.each(function(a,g,h){d=b.call(c|f,a,g,f),d&&e.push(a)}),e}}),a.List=b.List=f,a.List}(__m2,__m15,__m17),__m20=function(a,b){var c=[];a.__read=function(a,b){c.push({});var d=a.call(b);return{value:d,observed:c.pop()}},a.__reading=function(a,b){c.length&&(c[c.length-1][a._cid+"|"+b]={obj:a,event:b+""})},a.__clearReading=function(){if(c.length){var a=c[c.length-1];return c[c.length-1]={},a}},a.__setReading=function(a){c.length&&(c[c.length-1]=a)},a.__addReading=function(b){c.length&&a.simpleExtend(c[c.length-1],b)};var d=function(b,c,d,f){var h=a.__read(b,c),i=h.observed;return e(d,i,f),g(d,f),h},e=function(a,b,c){for(var d in b)f(a,b,d,c)},f=function(a,b,c,d){if(a[c])delete a[c];else{var e=b[c];e.obj.bind(e.event,d)}},g=function(a,b){for(var c in a){var d=a[c];d.obj.unbind(d.event,b)}},h=function(b,c,d,e){c!==d&&a.batch.trigger(b,e?{type:"change",batchNum:e}:"change",[c,d])},i=function(b,c,e,f){var g,h,i;return{on:function(j){h||(h=function(a){if(b.bound&&(a.batchNum===undefined||a.batchNum!==i)){var f=g.value;g=d(c,e,g.observed,h),j(g.value,f,a.batchNum),i=i=a.batchNum}}),g=d(c,e,{},h),f(g.value),b.hasDependencies=!a.isEmptyObject(g.observed)},off:function(a){for(var b in g.observed){var c=g.observed[b];c.obj.unbind(c.event,h)}}}},j=function(b,c,e,f){var g,h,i,j;return{on:function(k){i||(i=function(d){if(b.bound&&(d.batchNum===undefined||d.batchNum!==j)){var f=a.__clearReading(),g=c.call(e);a.__setReading(f),k(g,h,d.batchNum),h=g,j=j=d.batchNum}}),g=d(c,e,{},i),h=g.value,f(g.value),b.hasDependencies=!a.isEmptyObject(g.observed)},off:function(a){for(var b in g.observed){var c=g.observed[b];c.obj.unbind(c.event,i)}}}},k=function(b){return b instanceof a.Map||b&&b.__get},l=function(){};a.compute=function(b,d,e,f){if(b&&b.isComputed)return b;for(var g,k,m,n=l,o=l,p=function(){return k},q=function(a){k=a},r=q,s=[],t=function(a,b,c){r(a),h(g,a,b,c)},u=0,v=arguments.length;v>u;u++)s[u]=arguments[u];if(g=function(b){if(arguments.length){var e=k,f=q.call(d,b,e);return g.hasDependencies?p.call(d):(k=f===undefined?p.call(d):f,h(g,k,e),k)}return c.length&&g.canReadForChangeEvent!==!1&&(a.__reading(g,"change"),g.bound||a.compute.temporarilyBind(g)),g.bound?k:p.call(d)},"function"==typeof b){q=b,p=b,g.canReadForChangeEvent=e===!1?!1:!0;var w=f?j(g,b,d||this,r):i(g,b,d||this,r);n=w.on,o=w.off}else if(d)if("string"==typeof d){var x=d,y=b instanceof a.Map;if(y){g.hasDependencies=!0;var z;p=function(){return b.attr(x)},q=function(a){b.attr(x,a)},n=function(c){z=function(a,b,d){c(b,d,a.batchNum)},b.bind(e||x,z),k=a.__read(p).value},o=function(a){b.unbind(e||x,z)}}else p=function(){return b[x]},q=function(a){b[x]=a},n=function(c){z=function(){c(p(),k)},a.bind.call(b,e||x,z),k=a.__read(p).value},o=function(c){a.unbind.call(b,e||x,z)}}else if("function"==typeof d)k=b,q=d,d=e,m="setter";else{k=b;var A=d,B=t;if(d=A.context||A,p=A.get||p,q=A.set||function(){return k},A.fn){var C,D=A.fn;p=function(){return D.call(d,k)},0===D.length?C=i(g,D,d,r):1===D.length?C=i(g,function(){return D.call(d,k)},d,r):(t=function(a){a!==undefined&&B(a,k)},C=i(g,function(){var a=D.call(d,k,function(a){B(a,k)});return a!==undefined?a:k},d,r)),n=C.on,o=C.off}else t=function(){var a=p.call(d);B(a,k)};n=A.on||n,o=A.off||o}else k=b;return a.cid(g,"compute"),a.simpleExtend(g,{isComputed:!0,_bindsetup:function(){this.bound=!0;var b=a.__clearReading();n.call(this,t),a.__setReading(b)},_bindteardown:function(){o.call(this,t),this.bound=!1},bind:a.bindAndSetup,unbind:a.unbindAndTeardown,clone:function(b){return b&&("setter"===m?s[2]=b:s[1]=b),a.compute.apply(a,s)}})};var m,n=function(){for(var a=0,b=m.length;b>a;a++)m[a].unbind("change",l);m=null};return a.compute.temporarilyBind=function(a){a.bind("change",l),m||(m=[],setTimeout(n,10)),m.push(a)},a.compute.truthy=function(b){return a.compute(function(){var a=b();return"function"==typeof a&&(a=a()),!!a})},a.compute.async=function(b,c,d){return a.compute(b,{fn:c,context:d})},a.compute.read=function(b,c,d){d=d||{};for(var e,f,g,h=b,i=0,j=c.length;j>i;i++)if(f=h,f&&f.isComputed&&(d.foundObservable&&d.foundObservable(f,i),f=h=f()),k(f)?(!g&&d.foundObservable&&d.foundObservable(f,i),g=1,h="function"==typeof f[c[i]]&&f.constructor.prototype[c[i]]===f[c[i]]?d.returnObserveMethods?h[c[i]]:"constructor"===c[i]&&f instanceof a.Construct||f[c[i]].prototype instanceof a.Construct?f[c[i]]:f[c[i]].apply(f,d.args||[]):h.attr(c[i])):h=null==h?undefined:f[c[i]],e=typeof h,h&&h.isComputed&&!d.isArgument&&j-1>i?(!g&&d.foundObservable&&d.foundObservable(f,i+1),h=h()):i<c.length-1&&"function"===e&&d.executeAnonymousFunctions&&!(a.Construct&&h.prototype instanceof a.Construct)&&(h=h()),i<c.length-1&&(null===h||"function"!==e&&"object"!==e))return d.earlyExit&&d.earlyExit(f,i,h),{value:undefined,parent:f};return"function"!=typeof h||a.Construct&&h.prototype instanceof a.Construct||a.route&&h===a.route||(d.isArgument?h.isComputed||d.proxyMethods===!1||(h=a.proxy(h,f)):(h.isComputed&&!g&&d.foundObservable&&d.foundObservable(h,i),h=h.call(f))),h===undefined&&d.earlyExit&&d.earlyExit(f,i-1),{value:h,parent:f}},a.compute.set=function(a,b,c){return k(a)?a.attr(b,c):a[b]&&a[b].isComputed?a[b](c):void("object"==typeof a&&(a[b]=c))},a.compute}(__m2,__m16,__m18),__m14=function(a){return a.Observe=a.Map,a.Observe.startBatch=a.batch.start,a.Observe.stopBatch=a.batch.stop,a.Observe.triggerBatch=a.batch.trigger,a}(__m2,__m15,__m19,__m20),__m22=function(a){var b=/(\\)?\./g,c=/\\\./g,d=function(a){var d=[],e=0;return a.replace(b,function(b,f,g){f||(d.push(a.slice(e,g).replace(c,".")),e=g+b.length)}),d.push(a.slice(e).replace(c,".")),d},e=a.Construct.extend({read:a.compute.read},{init:function(a,b){this._context=a,this._parent=b,this.__cache={}},attr:function(b,c){var d=a.__clearReading(),e=this.read(b,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1});if(2===arguments.length){var f=b.lastIndexOf("."),g=-1!==f?b.substring(0,f):".",h=this.read(g,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1}).value;-1!==f&&(b=b.substring(f+1,b.length)),a.compute.set(h,b,c)}return a.__setReading(d),e.value},add:function(a){return a!==this._context?new this.constructor(a,this):this},computeData:function(b,c){c=c||{args:[]};var d,e,f=this,g={compute:a.compute(function(h){if(!arguments.length){if(d)return a.compute.read(d,e,c).value;var i=f.read(b,c);return d=i.rootObserve,e=i.reads,g.scope=i.scope,g.initialValue=i.value,g.reads=i.reads,g.root=d,i.value}if(d.isComputed)d(h);else if(e.length){var j=e.length-1,k=e.length?a.compute.read(d,e.slice(0,j)).value:d;a.compute.set(k,e[j],h)}})};return g},compute:function(a,b){return this.computeData(a,b).compute},read:function(b,c){var e;if("./"===b.substr(0,2))e=!0,b=b.substr(2);else{if("../"===b.substr(0,3))return this._parent.read(b.substr(3),c);if(".."===b)return{value:this._parent._context};if("."===b||"this"===b)return{value:this._context}}for(var f,g,h,i,j,k,l=-1===b.indexOf("\\.")?b.split("."):d(b),m=this,n=[],o=-1;m;){if(f=m._context,null!==f){var p=a.compute.read(f,l,a.simpleExtend({foundObservable:function(a,b){j=a,k=l.slice(b)},earlyExit:function(b,c){c>o&&(g=j,n=k,o=c,i=m,h=a.__clearReading())},executeAnonymousFunctions:!0},c));if(p.value!==undefined)return{scope:m,rootObserve:j,value:p.value,reads:k}}a.__clearReading(),m=e?null:m._parent}return g?(a.__setReading(h),{scope:i,rootObserve:g,reads:n,value:undefined}):{names:l,value:undefined}}});return a.view.Scope=e,e}(__m2,__m12,__m15,__m19,__m10,__m20),__m24=function(a){var b=function(){return 1===a.$(document.createComment("~")).length}(),c={tagToContentPropMap:{option:"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:a.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:a.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(a,b){return b&&11===a.parentNode.nodeType?b:a.parentNode},setAttr:a.attr.set,getAttr:a.attr.get,removeAttr:a.attr.remove,contentText:function(a){return"string"==typeof a?a:a||0===a?""+a:""},after:function(b,c){var d=b[b.length-1];d.nextSibling?a.insertBefore(d.parentNode,c,d.nextSibling):a.appendChild(d.parentNode,c)},replace:function(d,e){c.after(d,e),a.remove(a.$(d)).length<d.length&&!b&&a.each(d,function(a){8===a.nodeType&&a.parentNode.removeChild(a)})}};return a.view.elements=c,c}(__m2,__m10),__m23=function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(a){return a.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("	").join("\\t")},getTag=function(a,b,c){if(a)return a;for(;c<b.length;){if("<"===b[c]&&!notEndTag.test(b[c+1]))return elements.reverseTagMap[b[c+1]]||"span";c++}return""},bracketNum=function(a){return--a.split("{").length- --a.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var a=beforeQuote.match(attrReg);return a&&a[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(a){return a[a.length-1]},Scanner;return can.view.Scanner=Scanner=function(a){can.extend(this,{text:{},tokens:[]},a),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var b,c=0;b=this.tokens[c];c++)b[2]?(this.tokenReg.push(b[2]),this.tokenComplex.push({abbr:b[1],re:new RegExp(b[2]),rescan:b[3]})):(this.tokenReg.push(b[1]),this.tokenSimple[b[1]]=b[0]),this.tokenMap[b[0]]=b[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(a,b){var c=[],d=0,e=this.tokenSimple,f=this.tokenComplex;a=a.replace(newLine,"\n"),this.transform&&(a=this.transform(a)),a.replace(this.tokenReg,function(b,g){var h=arguments[arguments.length-2];if(h>d&&c.push(a.substring(d,h)),e[b])c.push(b);else for(var i,j=0;i=f[j];j++)if(i.re.test(b)){c.push(i.abbr),i.rescan&&c.push(i.rescan(g));break}d=h+g.length}),d<a.length&&c.push(a.substr(d));var g,h,i,j,k="",l=[startTxt+(this.text.start||"")],m=function(a,b){l.push(put_cmd,'"',clean(a),'"'+(b||"")+");")},n=[],o=null,p=!1,q={attributeHookups:[],tagHookups:[],lastTagHookup:""},r=function(){q.lastTagHookup=q.tagHookups.pop()+q.tagHookups.length},s="",t=[],u=!1,v=!1,w=0,x=this.tokenMap;for(htmlTag=quote=beforeQuote=null;(i=c[w++])!==undefined;){if(null===o)switch(i){case x.left:case x.escapeLeft:case x.returnLeft:p=htmlTag&&1;case x.commentLeft:o=i,k.length&&m(k),k="";break;case x.escapeFull:p=htmlTag&&1,rescan=1,o=x.escapeLeft,k.length&&m(k),rescan=c[w++],k=rescan.content||rescan,rescan.before&&m(rescan.before),c.splice(w,0,x.right);break;case x.commentFull:break;case x.templateLeft:k+=x.left;break;case"<":0!==c[w].indexOf("!--")&&(htmlTag=1,p=0),k+=i;break;case">":htmlTag=0;var y="/"===k.substr(k.length-1)||"--"===k.substr(k.length-2),z="";if(q.attributeHookups.length&&(z="attrs: ['"+q.attributeHookups.join("','")+"'], ",q.attributeHookups=[]),s+q.tagHookups.length!==q.lastTagHookup&&s===top(q.tagHookups))y&&(k=k.substr(0,k.length-1)),l.push(put_cmd,'"',clean(k),'"',",can.view.pending({tagName:'"+s+"',"+z+"scope: "+(this.text.scope||"this")+this.text.options),y?(l.push("}));"),k="/>",r()):"<"===c[w]&&c[w+1]==="/"+s?(l.push("}));"),k=i,r()):(l.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),k="");else if(p||!u&&elements.tagToContentPropMap[t[t.length-1]]||z){var A=",can.view.pending({"+z+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';y?m(k.substr(0,k.length-1),A+'/>"'):m(k,A+'>"'),k="",p=0}else k+=i;(y||u)&&(t.pop(),s=t[t.length-1],u=!1),q.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===i){quote=null;var B=getAttrName();if(viewCallbacks.attr(B)&&q.attributeHookups.push(B),v){k+=i,m(k),l.push(finishTxt,"}));\n"),k="",v=!1;break}}else if(null===quote&&(quote=i,beforeQuote=g,j=getAttrName(),"img"===s&&"src"===j||"style"===j)){m(k.replace(attrReg,"")),k="",v=!0,l.push(insert_cmd,"can.view.txt(2,'"+getTag(s,c,w)+"',"+status()+",this,function(){",startTxt),m(j+"="+i);break}default:if("<"===g){s="!--"===i.substr(0,3)?"!--":i.split(/\s/)[0];var C,D=!1;0===s.indexOf("/")&&(D=!0,C=s.substr(1)),D?(top(t)===C&&(s=C,u=!0),top(q.tagHookups)===C&&(m(k.substr(0,k.length-1)),l.push(finishTxt+"}}) );"),k="><",r())):(s.lastIndexOf("/")===s.length-1&&(s=s.substr(0,s.length-1)),"!--"!==s&&viewCallbacks.tag(s)&&("content"===s&&elements.tagMap[top(t)]&&(i=i.replace("content",elements.tagMap[top(t)])),q.tagHookups.push(s)),t.push(s))}k+=i}else switch(i){case x.right:case x.returnRight:switch(o){case x.left:h=bracketNum(k),1===h?(l.push(insert_cmd,"can.view.txt(0,'"+getTag(s,c,w)+"',"+status()+",this,function(){",startTxt,k),n.push({before:"",after:finishTxt+"}));\n"})):(d=n.length&&-1===h?n.pop():{after:";"},d.before&&l.push(d.before),l.push(k,";",d.after));break;case x.escapeLeft:case x.returnLeft:h=bracketNum(k),h&&n.push({before:finishTxt,after:"}));\n"});for(var E=o===x.escapeLeft?1:0,F={insert:insert_cmd,tagName:getTag(s,c,w),status:status(),specialAttribute:v},G=0;G<this.helpers.length;G++){var H=this.helpers[G];if(H.name.test(k)){k=H.fn(k,F),H.name.source===/^>[\s]*\w*/.source&&(E=0);break}}"object"==typeof k?k.startTxt&&k.end&&v?l.push(insert_cmd,"can.view.toStr( ",k.content,"() ) );"):(k.startTxt?l.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=k.escaped?k.escaped:E))+",\n'"+s+"',\n"+status()+",\nthis,\n"):k.startOnlyTxt&&l.push(insert_cmd,"can.view.onlytxt(this,\n"),l.push(k.content),k.end&&l.push("));")):v?l.push(insert_cmd,k,");"):l.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||E)+",\n'"+s+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",k,h?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(m(rescan.after.length),rescan=null)}o=null,k="";break;case x.templateLeft:k+=x.left;break;default:k+=i}g=i}k.length&&m(k),l.push(";");var I=l.join(""),J={out:(this.text.outStart||"")+I+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(J,"this.fn = (function("+this.text.argNames+"){"+J.out+"});\r\n//# sourceURL="+b+".js"),J}},can.view.pending=function(a){var b=can.view.getHooks();return can.view.hook(function(c){can.each(b,function(a){a(c)}),a.templateType="legacy",a.tagName&&viewCallbacks.tagHandler(c,a.tagName,a),can.each(a&&a.attrs||[],function(b){a.attributeName=b;var d=viewCallbacks.attr(b);d&&d(c,a)})})},can.view.tag("content",function(a,b){return b.scope}),can.view.Scanner=Scanner,Scanner}(__m10,__m24,__m9),__m27=function(a){var b=!0;try{document.createTextNode("")._=0}catch(c){b=!1}var d={},e={},f="ejs_"+Math.random(),g=0,h=function(a,c){var d=c||e,h=i(a,d);return h?h:b||3!==a.nodeType?(++g,a[f]=(a.nodeName?"element_":"obj_")+g):(++g,d["text_"+g]=a,"text_"+g)},i=function(a,c){if(b||3!==a.nodeType)return a[f];for(var d in c)if(c[d]===a)return d},j=[].splice,k=[].push,l=function(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];e.nodeType?b++:b+=l(e)}return b},m=function(a,b){for(var c={},d=0,e=a.length;e>d;d++){var f=n.first(a[d]);c[h(f,b)]=a[d]}return c},n={id:h,update:function(b,c){var d=n.unregisterChildren(b);c=a.makeArray(c);var e=b.length;return j.apply(b,[0,e].concat(c)),b.replacements?n.nestReplacements(b):n.nestList(b),d},nestReplacements:function(a){for(var b=0,c={},d=m(a.replacements,c),e=a.replacements.length;b<a.length&&e;){var f=a[b],g=d[i(f,c)];g&&(a.splice(b,l(g),g),e--),b++}a.replacements=[]},nestList:function(a){for(var b=0;b<a.length;){var c=a[b],e=d[h(c)];e?e!==a&&a.splice(b,l(e),e):d[h(c)]=a,b++}},last:function(a){var b=a[a.length-1];return b.nodeType?b:n.last(b)},first:function(a){var b=a[0];return b.nodeType?b:n.first(b)},register:function(a,b,c){return a.unregistered=b,a.parentList=c,c===!0?a.replacements=[]:c?(c.replacements.push(a),a.replacements=[]):n.nestList(a),a},unregisterChildren:function(b){var c=[];return a.each(b,function(a){a.nodeType?(b.replacements||delete d[h(a)],c.push(a)):k.apply(c,n.unregister(a))}),c},unregister:function(a){var b=n.unregisterChildren(a);if(a.unregistered){var c=a.unregistered;delete a.unregistered,delete a.replacements,c()}return b},nodeMap:d};return a.view.nodeLists=n,n}(__m2,__m24),__m28=function(a){function b(a){for(var b={},c=a.split(","),d=0;d<c.length;d++)b[c[d]]=!0;return b}var c="-:A-Za-z0-9_",d="[a-zA-Z_:]["+c+":.]*",e="\\s*=\\s*",f='"((?:\\\\.|[^"])*)"',g="'((?:\\\\.|[^'])*)'",h="(?:"+e+"(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?",i="\\{\\{[^\\}]*\\}\\}\\}?",j="\\{\\{([^\\}]*)\\}\\}\\}?",k=new RegExp("^<(["+c+"]+)((?:\\s*(?:(?:(?:"+d+")?"+h+")|(?:"+i+")+))*)\\s*(\\/?)>"),l=new RegExp("^<\\/(["+c+"]+)[^>]*>"),m=new RegExp("(?:(?:("+d+")|"+j+")(?:"+e+"(?:(?:"+f+")|(?:"+g+")|([^>\\s]+)))?)","g"),n=new RegExp(j,"g"),o=/<|\{\{/,p=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),q=b("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),r=b("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),s=b("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),t=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u=b("script,style"),v=function(a,b){function c(a,c,e,f){if(c=c.toLowerCase(),q[c])for(;i.last()&&r[i.last()];)d("",i.last());s[c]&&i.last()===c&&d("",c),f=p[c]||!!f,b.start(c,f),f||i.push(c),v.parseAttrs(e,b),b.end(c,f)}function d(a,c){var d;if(c)for(d=i.length-1;d>=0&&i[d]!==c;d--);else d=0;if(d>=0){for(var e=i.length-1;e>=d;e--)b.close&&b.close(i[e]);i.length=d}}function e(a,c){b.special&&b.special(c)}var f,g,h,i=[],j=a;for(i.last=function(){return this[this.length-1]};a;){if(g=!0,i.last()&&u[i.last()])a=a.replace(new RegExp("([\\s\\S]*?)</"+i.last()+"[^>]*>"),function(a,c){return c=c.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),b.chars&&b.chars(c),""}),d("",i.last());else if(0===a.indexOf("<!--")?(f=a.indexOf("-->"),f>=0&&(b.comment&&b.comment(a.substring(4,f)),a=a.substring(f+3),g=!1)):0===a.indexOf("</")?(h=a.match(l),h&&(a=a.substring(h[0].length),h[0].replace(l,d),g=!1)):0===a.indexOf("<")?(h=a.match(k),h&&(a=a.substring(h[0].length),h[0].replace(k,c),g=!1)):0===a.indexOf("{{")&&(h=a.match(n),h&&(a=a.substring(h[0].length),h[0].replace(n,e))),g){f=a.search(o);var m=0>f?a:a.substring(0,f);a=0>f?"":a.substring(f),b.chars&&m&&b.chars(m)}if(a===j)throw"Parse Error: "+a;j=a}d(),b.done()};return v.parseAttrs=function(a,b){(null!=a?a:"").replace(m,function(a,c,d,e,f,g){if(d&&b.special(d),c||e||f||g){var h=arguments[3]?arguments[3]:arguments[4]?arguments[4]:arguments[5]?arguments[5]:t[c.toLowerCase()]?c:"";b.attrStart(c||"");for(var i,j=n.lastIndex=0,k=n.exec(h);k;)i=h.substring(j,n.lastIndex-k[0].length),i.length&&b.attrValue(i),b.special(k[1]),j=n.lastIndex,k=n.exec(h);i=h.substr(j,h.length),i&&b.attrValue(i),b.attrEnd(c||"")}})},a.view.parser=v,v}(__m10),__m26=function(a,b,c,d,e){b=b||a.view.elements,d=d||a.view.NodeLists,e=e||a.view.parser;var f=function(b,c,d){var e=!1,f=function(){return e||(e=!0,d(g),a.unbind.call(b,"removed",f)),!0},g={teardownCheck:function(a){return a?!1:f()}};return a.bind.call(b,"removed",f),c(g),g},g=function(a,b,c){return f(a,function(){b.bind("change",c)},function(a){b.unbind("change",c),a.nodeList&&d.unregister(a.nodeList)})},h=function(a){var b,c={};return e.parseAttrs(a,{attrStart:function(a){c[a]="",b=a},attrValue:function(a){c[b]+=a},attrEnd:function(){}}),c},i=[].splice,j=function(a){return a&&a.nodeType},k=function(a){a.childNodes.length||a.appendChild(document.createTextNode(""))},l={list:function(c,e,g,h,j,k){var m,n=k||[c],o=[],p=function(c,e,f){var j=document.createDocumentFragment(),l=[],m=[];a.each(e,function(b,c){var e=[];k&&d.register(e,null,!0);var i=a.compute(c+f),n=g.call(h,b,i,e),o="string"==typeof n,p=a.frag(n);p=o?a.view.hookup(p):p;var q=a.makeArray(p.childNodes);k?(d.update(e,q),l.push(e)):l.push(d.register(q)),j.appendChild(p),m.push(i)});var p=f+1;if(n[p]){var q=d.first(n[p]);a.insertBefore(q.parentNode,j,q)}else b.after(1===p?[r]:[d.last(n[p-1])],j);i.apply(n,[p,0].concat(l)),i.apply(o,[f,0].concat(m));for(var s=f+m.length,t=o.length;t>s;s++)o[s](s)},q=function(b,c,e,f,g){if(f||!u.teardownCheck(r.parentNode)){0>e&&(e=o.length+e);var h=n.splice(e+1,c.length),i=[];a.each(h,function(a){var b=d.unregister(a);[].push.apply(i,b)}),o.splice(e,c.length);for(var j=e,k=o.length;k>j;j++)o[j](j);g||a.remove(a.$(i))}},r=document.createTextNode(""),s=function(a){m&&m.unbind&&m.unbind("add",p).unbind("remove",q),q({},{length:n.length-1},0,!0,a)},t=function(a,b,c){s(),m=b||[],m.bind&&m.bind("add",p).bind("remove",q),p({},m,0)};j=b.getParentNode(c,j);var u=f(j,function(){a.isFunction(e)&&e.bind("change",t)},function(){a.isFunction(e)&&e.unbind("change",t),s(!0)});k?(b.replace(n,r),d.update(n,[r]),k.unregistered=u.teardownCheck):l.replace(n,r,u.teardownCheck),t({},a.isFunction(e)?e():e)},html:function(c,e,f,h){var i;f=b.getParentNode(c,f),i=g(f,e,function(a,b,c){var e=d.first(l).parentNode;e&&m(b),i.teardownCheck(d.first(l).parentNode)});var l=h||[c],m=function(c){var e=!j(c),g=a.frag(c),h=a.makeArray(l);k(g),e&&(g=a.view.hookup(g,f)),h=d.update(l,g.childNodes),b.replace(h,g)};i.nodeList=l,h?h.unregistered=i.teardownCheck:d.register(l,i.teardownCheck),m(e())},replace:function(c,e,f){var g=c.slice(0),h=a.frag(e);return d.register(c,f),"string"==typeof e&&(h=a.view.hookup(h,c[0].parentNode)),d.update(c,h.childNodes),b.replace(g,h),c},text:function(c,e,f,h){var i=b.getParentNode(c,f),j=g(i,e,function(b,c,d){"unknown"!=typeof k.nodeValue&&(k.nodeValue=a.view.toStr(c)),j.teardownCheck(k.parentNode)}),k=document.createTextNode(a.view.toStr(e()));h?(h.unregistered=j.teardownCheck,j.nodeList=h,d.update(h,[k]),b.replace([c],k)):j.nodeList=l.replace([c],k,j.teardownCheck)},setAttributes:function(b,c){var d=h(c);for(var e in d)a.attr.set(b,e,d[e])},attributes:function(c,d,e){var f={},i=function(d){var e,g=h(d);for(e in g){var i=g[e],j=f[e];i!==j&&a.attr.set(c,e,i),delete f[e]}for(e in f)b.removeAttr(c,e);f=g};g(c,d,function(a,b){i(b)}),arguments.length>=3?f=h(e):i(d())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(c,d,e){g(c,e,function(a,e){b.setAttr(c,d,i.render())});var f,h=a.$(c);f=a.data(h,"hooks"),f||a.data(h,"hooks",f={});var i,j=b.getAttr(c,d),k=j.split(l.attributePlaceholder),m=[];m.push(k.shift(),k.join(l.attributePlaceholder)),f[d]?f[d].computes.push(e):f[d]={render:function(){var a=0,c=j?j.replace(l.attributeReplace,function(){return b.contentText(i.computes[a++]())}):b.contentText(i.computes[a++]());return c},computes:[e],batchNum:undefined},i=f[d],m.splice(1,0,e()),b.setAttr(c,d,m.join(""))},specialAttribute:function(a,c,d){g(a,d,function(d,e){b.setAttr(a,c,n(e))}),b.setAttr(a,c,n(d()))},simpleAttribute:function(a,c,d){g(a,d,function(d,e){b.setAttr(a,c,e)}),b.setAttr(a,c,d())}};l.attr=l.simpleAttribute,l.attrs=l.attributes;var m=/(\r|\n)+/g,n=function(a){var c=/^["'].*["']$/;return a=a.replace(b.attrReg,"").replace(m,""),c.test(a)?a.substr(1,a.length-2):a};return a.view.live=l,l}(__m2,__m24,__m10,__m27,__m28),__m25=function(a,b,c){var d,e=[],f=function(a){var c=b.tagMap[a]||"span";return"span"===c?"@@!!@@":"<"+c+">"+f(c)+"</"+c+">"},g=function(b,c){if("string"==typeof b)return b;if(!b&&0!==b)return"";var d=b.hookup&&function(a,c){b.hookup.call(b,a,c)}||"function"==typeof b&&b;return d?c?"<"+c+" "+a.view.hook(d)+"></"+c+">":(e.push(d),""):""+b},h=function(b,c){return"string"==typeof b||"number"==typeof b?a.esc(b):g(b,c)},i=!1,j=function(){};return a.extend(a.view,{live:c,setupLists:function(){var b,c=a.view.lists;return a.view.lists=function(a,c){return b={list:a,renderer:c},Math.random()},function(){return a.view.lists=c,b}},getHooks:function(){var a=e.slice(0);return d=a,e=[],a},onlytxt:function(a,b){return h(b.call(a))},txt:function(k,l,m,n,o){var p,q,r,s,t=b.tagMap[l]||"span",u=!1,v=j;

if(i)p=o.call(n);else{("string"==typeof m||1===m)&&(i=!0);var w=a.view.setupLists();v=function(){r.unbind("change",j)},r=a.compute(o,n,!1),r.bind("change",j),q=w(),p=r(),i=!1,u=r.hasDependencies}if(q)return v(),"<"+t+a.view.hook(function(a,b){c.list(a,q.list,q.renderer,n,b)})+"></"+t+">";if(!u||"function"==typeof p)return v(),(i||2===k||!k?g:h)(p,0===m&&t);var x=b.tagToContentPropMap[l];return 0!==m||x?1===m?(e.push(function(a){c.attributes(a,r,r()),v()}),r()):2===k?(s=m,e.push(function(a){c.specialAttribute(a,s,r),v()}),r()):(s=0===m?x:m,(0===m?d:e).push(function(a){c.attribute(a,s,r),v()}),c.attributePlaceholder):"<"+t+a.view.hook(k&&"object"!=typeof p?function(a,b){c.text(a,r,b),v()}:function(a,b){c.html(a,r,b),v()})+">"+f(t)+"</"+t+">"}}),a}(__m10,__m24,__m26,__m13),__m21=function(a){a.view.ext=".mustache";var b="scope",c="___h4sh",d="{scope:"+b+",options:options}",e="{scope:"+b+",options:options, special: true}",f=b+",options",g=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,h=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,i=function(a){return'{get:"'+a.replace(/"/g,'\\"')+'"}'},j=function(a){return a&&"string"==typeof a.get},k=function(b){return b instanceof a.Map||b&&!!b._get},l=function(a){return a&&a.splice&&"number"==typeof a.length},m=function(b,c,d){var e=function(a,d){return b(a||c,d)};return function(b,f){return b===undefined||b instanceof a.view.Scope||(b=c.add(b)),f===undefined||f instanceof a.view.Options||(f=d.add(f)),e(b,f||d)}},n=function(b,c){if(this.constructor!==n){var d=new n(b);return function(a,b){return d.render(a,b)}}return"function"==typeof b?void(this.template={fn:b}):(a.extend(this,b),void(this.template=this.scanner.scan(this.text,this.name)))};a.Mustache=window.Mustache=n,n.prototype.render=function(b,c){return b instanceof a.view.Scope||(b=new a.view.Scope(b||{})),c instanceof a.view.Options||(c=new a.view.Options(c||{})),c=c||{},this.template.fn.call(b,b,c)},a.extend(n.prototype,{scanner:new a.view.Scanner({text:{start:"",scope:b,options:",options: options",argNames:f},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(a){return{before:/^\n.+?\n$/.test(a)?"\n":"",content:a.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(b,c){var d=a.trim(b.replace(/^>\s?/,"")).replace(/["|']/g,"");return"can.Mustache.renderPartial('"+d+"',"+f+")"}},{name:/^\s*data\s/,fn:function(a,c){var d=a.match(/["|'](.*)["|']/)[1];return"can.proxy(function(__){can.data(can.$(__),'"+d+"', this.attr('.')); }, "+b+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(a){var c=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,d=a.match(c);return"can.proxy(function(__){var "+d[1]+"=can.$(__);with("+b+".attr('.')){"+d[2]+"}}, this);"}},{name:/^.*$/,fn:function(b,j){var k=!1,l={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if(b=a.trim(b),b.length&&(k=b.match(/^([#^/]|else$)/))){switch(k=k[0]){case"#":case"^":j.specialAttribute?l.startOnlyTxt=!0:(l.startTxt=!0,l.escaped=0);break;case"/":return l.end=!0,l.content+='return ___v1ew.join("");}}])',l}b=b.substring(1)}if("else"!==k){var m,n=[],o=[],p=0;l.content+="can.Mustache.txt(\n"+(j.specialAttribute?e:d)+",\n"+(k?'"'+k+'"':"null")+",",(a.trim(b)+" ").replace(g,function(a,b){p&&(m=b.match(h))?m[2]?n.push(m[0]):o.push(m[4]+":"+(m[6]?m[6]:i(m[5]))):n.push(i(b)),p++}),l.content+=n.join(","),o.length&&(l.content+=",{"+c+":{"+o.join(",")+"}}")}switch(k&&"else"!==k&&(l.content+=",[\n\n"),k){case"^":case"#":l.content+="{fn:function("+f+"){var ___v1ew = [];";break;case"else":l.content+='return ___v1ew.join("");}},\n{inverse:function('+f+"){\nvar ___v1ew = [];";break;default:l.content+=")"}return k||(l.startTxt=!0,l.end=!0),l}}]})});for(var o=a.view.Scanner.prototype.helpers,p=0;p<o.length;p++)n.prototype.scanner.helpers.unshift(o[p]);return n.txt=function(b,d,e){for(var f,g,h=b.scope,i=b.options,o=[],p={fn:function(){},inverse:function(){}},q=h.attr("."),r=!0,s=3;s<arguments.length;s++){var t=arguments[s];if(d&&a.isArray(t))p=a.extend.apply(a,[p].concat(t));else if(t&&t[c]){f=t[c];for(var u in f)j(f[u])&&(f[u]=n.get(f[u].get,b,!1,!0))}else o.push(t&&j(t)?n.get(t.get,b,!1,!0,!0):t)}if(j(e)){var v=e.get;e=n.get(e.get,b,o.length,!1),r=v===e}if(p.fn=m(p.fn,h,i),p.inverse=m(p.inverse,h,i),"^"===d){var w=p.fn;p.fn=p.inverse,p.inverse=w}return(g=r&&"string"==typeof e&&n.getHelper(e,i)||a.isFunction(e)&&!e.isComputed&&{fn:e})?(a.extend(p,{context:q,scope:h,contexts:h,hash:f}),o.push(p),function(){return g.fn.apply(q,o)||""}):function(){var b;b=a.isFunction(e)&&e.isComputed?e():e;var c,f,g,h=o.length?o:[b],i=!0,j=[];if(d)for(c=0;c<h.length;c++)g=h[c],f="undefined"!=typeof g&&k(g),l(g)?"#"===d?i=i&&!!(f?g.attr("length"):g.length):"^"===d&&(i=i&&!(f?g.attr("length"):g.length)):i="#"===d?i&&!!g:"^"===d?i&&!g:i;if(i){if("#"===d){if(l(b)){var m=k(b);for(c=0;c<b.length;c++)j.push(p.fn(m?b.attr(""+c):b[c]));return j.join("")}return p.fn(b||{})||""}return"^"===d?p.inverse(b||{})||"":""+(null!=b?b:"")}return""}},n.get=function(b,c,d,e,f){var g=c.scope.attr("."),h=c.options||{};if(d){if(n.getHelper(b,h))return b;if(c.scope&&a.isFunction(g[b]))return g[b]}var i=c.scope.computeData(b,{isArgument:e,args:[g,c.scope]}),j=i.compute;a.compute.temporarilyBind(j);{var k=i.initialValue;n.getHelper(b,h)}return f||k!==undefined&&i.scope===c.scope||!n.getHelper(b,h)?j.hasDependencies?j:k:b},n.resolve=function(b){return k(b)&&l(b)&&b.attr("length")?b:a.isFunction(b)?b():b},a.view.Options=a.view.Scope.extend({init:function(b,c){b.helpers||b.partials||b.tags||(b={helpers:b}),a.view.Scope.prototype.init.apply(this,arguments)}}),n._helpers={},n.registerHelper=function(a,b){this._helpers[a]={name:a,fn:b}},n.getHelper=function(a,b){var c;return b&&(c=b.attr("helpers."+a)),c?{fn:c}:this._helpers[a]},n.render=function(b,c,d){if(!a.view.cached[b]){var e=a.__clearReading();c.attr("partial")&&(b=c.attr("partial")),a.__setReading(e)}return a.view.render(b,c,d)},n.safeString=function(a){return{toString:function(){return a}}},n.renderPartial=function(b,c,d){var e=d.attr("partials."+b);return e?e.render?e.render(c,d):e(c,d):a.Mustache.render(b,c,d)},a.each({"if":function(b,c){var d;return d=a.isFunction(b)?a.compute.truthy(b)():!!n.resolve(b),d?c.fn(c.contexts||this):c.inverse(c.contexts||this)},unless:function(b,c){return n._helpers["if"].fn.apply(this,[a.isFunction(b)?a.compute(function(){return!b()}):!b,c])},each:function(b,c){var d,e,f,g=n.resolve(b),h=[];if(a.view.lists&&(g instanceof a.List||b&&b.isComputed&&g===undefined))return a.view.lists(b,function(a,b){return c.fn(c.scope.add({"@index":b}).add(a))});if(b=g,b&&l(b)){for(f=0;f<b.length;f++)h.push(c.fn(c.scope.add({"@index":f}).add(b[f])));return h.join("")}if(k(b)){for(d=a.Map.keys(b),f=0;f<d.length;f++)e=d[f],h.push(c.fn(c.scope.add({"@key":e}).add(b[e])));return h.join("")}if(b instanceof Object){for(e in b)h.push(c.fn(c.scope.add({"@key":e}).add(b[e])));return h.join("")}},"with":function(a,b){var c=a;return a=n.resolve(a),a?b.fn(c):void 0},log:function(a,b){"undefined"!=typeof console&&console.log&&(b?console.log(a,b.context):console.log(a.context))},"@index":function(b,c){c||(c=b,b=0);var d=c.scope.attr("@index");return""+((a.isFunction(d)?d():d)+b)}},function(a,b){n.registerHelper(b,a)}),a.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(a,b){return"can.Mustache(function("+f+") { "+new n({text:b,name:a}).template.out+" })"},renderer:function(a,b){return n({text:b,name:a})}}),a.mustache.registerHelper=a.proxy(a.Mustache.registerHelper,a.Mustache),a.mustache.safeString=a.Mustache.safeString,a}(__m2,__m22,__m10,__m23,__m20,__m25),__m29=function(a){var b=function(){var a={"":!0,"true":!0,"false":!1},b=function(b){if(b&&b.getAttribute){var c=b.getAttribute("contenteditable");return a[c]}};return function(a){var c=b(a);return"boolean"==typeof c?c:!!b(a.parentNode)}}(),c=function(a){return"{"===a[0]&&"}"===a[a.length-1]?a.substr(1,a.length-2):a};a.view.attr("can-value",function(d,i){var j,k,l=c(d.getAttribute("can-value")),m=i.scope.computeData(l,{args:[]}).compute;return"input"===d.nodeName.toLowerCase()&&("checkbox"===d.type&&(j=a.attr.has(d,"can-true-value")?d.getAttribute("can-true-value"):!0,k=a.attr.has(d,"can-false-value")?d.getAttribute("can-false-value"):!1),"checkbox"===d.type||"radio"===d.type)?void new f(d,{value:m,trueValue:j,falseValue:k}):"select"===d.nodeName.toLowerCase()&&d.multiple?void new g(d,{value:m}):b(d)?void new h(d,{value:m}):void new e(d,{value:m})});var d={enter:function(a,b,c){return{event:"keyup",handler:function(a){return 13===a.keyCode?c.call(this,a):void 0}}}};a.view.attr(/can-[\w\.]+/,function(b,e){var f=e.attributeName,g=f.substr("can-".length),h=function(d){var g=c(b.getAttribute(f)),h=e.scope.read(g,{returnObserveMethods:!0,isArgument:!0});return h.value.call(h.parent,e.scope._context,a.$(this),d)};if(d[g]){var i=d[g](e,b,h);h=i.handler,g=i.event}a.bind.call(b,g,h)});var e=a.Control.extend({init:function(){"SELECT"===this.element[0].nodeName.toUpperCase()?setTimeout(a.proxy(this.set,this),1):this.set()},"{value} change":"set",set:function(){if(this.element){var a=this.options.value();this.element[0].value=null==a?"":a}},change:function(){this.element&&this.options.value(this.element[0].value)}}),f=a.Control.extend({init:function(){this.isCheckbox="checkbox"===this.element[0].type.toLowerCase(),this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var b=this.options.value(),c=this.options.trueValue||!0;this.element[0].checked=b===c}else{var d=this.options.value()==this.element[0].value?"set":"remove";a.attr[d](this.element[0],"checked",!0)}},change:function(){this.isCheckbox?this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue):this.element[0].checked&&this.options.value(this.element[0].value)}}),g=e.extend({init:function(){this.delimiter=";",this.set()},set:function(){var b=this.options.value();"string"==typeof b?(b=b.split(this.delimiter),this.isString=!0):b&&(b=a.makeArray(b));var c={};a.each(b,function(a){c[a]=!0}),a.each(this.element[0].childNodes,function(a){a.value&&(a.selected=!!c[a.value])})},get:function(){var b=[],c=this.element[0].childNodes;return a.each(c,function(a){a.selected&&a.value&&b.push(a.value)}),b},change:function(){var b=this.get(),c=this.options.value();this.isString||"string"==typeof c?(this.isString=!0,this.options.value(b.join(this.delimiter))):c instanceof a.List?c.attr(b,!0):this.options.value(b)}}),h=a.Control.extend({init:function(){this.set(),this.on("blur","setValue")},"{value} change":"set",set:function(){var a=this.options.value();this.element[0].innerHTML="undefined"==typeof a?"":a},setValue:function(){this.options.value(this.element[0].innerHTML)}})}(__m2,__m21,__m11),__m1=function(a,b){var c=/^(dataViewId|class|id)$/i,d=/\{([^\}]+)\}/g,e=a.Component=a.Construct.extend({setup:function(){if(a.Construct.setup.apply(this,arguments),a.Component){var b=this,c=this.prototype.scope;if(this.Control=f.extend(this.prototype.events),c&&("object"!=typeof c||c instanceof a.Map)?c.prototype instanceof a.Map&&(this.Map=c):this.Map=a.Map.extend(c||{}),this.attributeScopeMappings={},a.each(this.Map?this.Map.defaults:{},function(a,c){"@"===a&&(b.attributeScopeMappings[c]=c)}),this.prototype.template)if("function"==typeof this.prototype.template){var d=this.prototype.template;this.renderer=function(){return a.view.frag(d.apply(null,arguments))}}else this.renderer=a.view.mustache(this.prototype.template);a.view.tag(this.prototype.tag,function(a,c){new b(a,c)})}}},{setup:function(d,e){var f,g,h,i={},j=this,k={};if(a.each(this.constructor.attributeScopeMappings,function(b,c){i[c]=d.getAttribute(a.hyphenate(b))}),a.each(a.makeArray(d.attributes),function(h,l){var m=a.camelize(h.nodeName.toLowerCase()),n=h.value;if(!(j.constructor.attributeScopeMappings[m]||c.test(m)||b.attr(h.nodeName))){if("{"===n[0]&&"}"===n[n.length-1])n=n.substr(1,n.length-2);else if("legacy"!==e.templateType)return void(i[m]=n);var o=e.scope.computeData(n,{args:[]}),p=o.compute,q=function(a,b){f=m,g.attr(m,b),f=null};p.bind("change",q),i[m]=p(),p.hasDependencies?(a.bind.call(d,"removed",function(){p.unbind("change",q)}),k[m]=o):p.unbind("change",q)}}),this.constructor.Map)g=new this.constructor.Map(i);else if(this.scope instanceof a.Map)g=this.scope;else if(a.isFunction(this.scope)){var l=this.scope(i,e.scope,d);g=l instanceof a.Map?l:l.prototype instanceof a.Map?new l(i):new(a.Map.extend(l))(i)}var m={};a.each(k,function(a,b){m[b]=function(c,d){f!==b&&a.compute(d)},g.bind(b,m[b])}),a.bind.call(d,"removed",function(){a.each(m,function(a,b){g.unbind(b,m[b])})}),a.isEmptyObject(this.constructor.attributeScopeMappings)&&"legacy"===e.templateType||a.bind.call(d,"attributes",function(b){var e=a.camelize(b.attributeName);k[e]||c.test(e)||g.attr(e,d.getAttribute(b.attributeName))}),this.scope=g,a.data(a.$(d),"scope",this.scope);var n=e.scope.add(this.scope),o={helpers:{}};a.each(this.helpers||{},function(b,c){a.isFunction(b)&&(o.helpers[c]=function(){return b.apply(g,arguments)})}),this._control=new this.constructor.Control(d,{scope:this.scope}),this.constructor.renderer?(o.tags||(o.tags={}),o.tags.content=function p(b,c){var d=e.subtemplate||c.subtemplate;d&&(delete o.tags.content,a.view.live.replace([b],d(c.scope,c.options)),o.tags.content=p)},h=this.constructor.renderer(n,e.options.add(o))):h="legacy"===e.templateType?a.view.frag(e.subtemplate?e.subtemplate(n,e.options.add(o)):""):e.subtemplate?e.subtemplate(n,e.options.add(o)):document.createDocumentFragment(),a.appendChild(d,h)}}),f=a.Control.extend({_lookup:function(a){return[a.scope,a,window]},_action:function(b,c,e){var f,g;if(d.lastIndex=0,f=d.test(b),e||!f){if(f){g=a.compute(function(){var e,f=b.replace(d,function(b,d){var f;return"scope"===d?(e=c.scope,""):(d=d.replace(/^scope\./,""),f=a.compute.read(c.scope,d.split("."),{isArgument:!0}).value,f===undefined&&(f=a.getObject(d)),"string"==typeof f?f:(e=f,""))}),g=f.split(/\s+/g),h=g.pop();return{processor:this.processors[h]||this.processors.click,parts:[f,g.join(" "),h],delegate:e||undefined}},this);var h=function(a,c){e._bindings.control[b](e.element),e._bindings.control[b]=c.processor(c.delegate||e.element,c.parts[2],c.parts[1],b,e)};return g.bind("change",h),e._bindings.readyComputes[b]={compute:g,handler:h},g()}return a.Control._action.apply(this,arguments)}}},{setup:function(b,c){return this.scope=c.scope,a.Control.prototype.setup.call(this,b,c)},off:function(){this._bindings&&a.each(this._bindings.readyComputes||{},function(a){a.compute.unbind("change",a.handler)}),a.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}}});return window.jQuery&&jQuery.fn&&(jQuery.fn.scope=function(a){return a?this.data("scope").attr(a):this.data("scope")}),a.scope=function(b,c){return b=a.$(b),c?a.data(b,"scope").attr(c):a.data(b,"scope")},e}(__m2,__m9,__m11,__m14,__m21,__m29),__m30=function(a){var b=function(b,c,d){var e=new a.Deferred;return b.then(function(){var b=a.makeArray(arguments),f=!0;try{b[0]=d.apply(c,b)}catch(g){f=!1,e.rejectWith(e,[g].concat(b))}f&&e.resolveWith(e,b)},function(){e.rejectWith(this,arguments)}),"function"==typeof b.abort&&(e.abort=function(){return b.abort()}),e},c=0,d=function(b){return a.__reading(b,b.constructor.id),b.__get(b.constructor.id)},e=function(b,c,d,e,f,g){var h={};if("string"==typeof b){var i=b.split(/\s+/);h.url=i.pop(),i.length&&(h.type=i.pop())}else a.extend(h,b);return h.data="object"!=typeof c||a.isArray(c)?c:a.extend(h.data||{},c),h.url=a.sub(h.url,h.data,!0),a.ajax(a.extend({type:d||"post",dataType:e||"json",success:f,error:g},h))},f=function(c,e,f,g,h){var i;a.isArray(c)?(i=c[1],c=c[0]):i=c.serialize(),i=[i];var j,k,l=c.constructor;return("update"===e||"destroy"===e)&&i.unshift(d(c)),k=l[e].apply(l,i),j=b(k,c,function(a){return c[h||e+"d"](a,k),c}),k.abort&&(j.abort=function(){k.abort()}),j.then(f,g),j},g={models:function(b,c,d){if(a.Model._reqs++,b){if(b instanceof this.List)return b;var e=this,f=[],g=e.List||o,h=c instanceof a.List?c:new g,i=b instanceof o,j=i?b.serialize():b;if(j=e.parseModels(j,d),j.data&&(b=j,j=j.data),"undefined"==typeof j)throw new Error("Could not get any raw data while converting using .models");return h.length&&h.splice(0),a.each(j,function(a){f.push(e.model(a,d))}),h.push.apply(h,f),a.isArray(b)||a.each(b,function(a,b){"data"!==b&&h.attr(b,a)}),setTimeout(a.proxy(this._clean,this),1),h}},model:function(b,c,d){if(b){b="function"==typeof b.serialize?b.serialize():this.parseModel(b,d);var e=b[this.id];(e||0===e)&&this.store[e]&&(c=this.store[e]);var f=c&&a.isFunction(c.attr)?c.attr(b,this.removeAttr||!1):new this(b);return f}}},h={parseModel:function(b){return function(c){return b?a.getObject(b,c):c}},parseModels:function(b){return function(c){if(a.isArray(c))return c;b=b||"data";var d=a.getObject(b,c);if(!a.isArray(d))throw new Error("Could not get any raw data while converting using .models");return d}}},i={create:{url:"_shortName",type:"post"},update:{data:function(b,c){c=c||{};var d=this.id;return c[d]&&c[d]!==b&&(c["new"+a.capitalize(b)]=c[d],delete c[d]),c[d]=b,c},type:"put"},destroy:{type:"delete",data:function(a,b){return b=b||{},b.id=b[this.id]=a,b}},findAll:{url:"_shortName"},findOne:{}},j=function(a,b){return function(c){return c=a.data?a.data.apply(this,arguments):c,e(b||this[a.url||"_url"],c,a.type||"get")}},k=function(a,b){if(a.resource){var c=a.resource.replace(/\/+$/,"");return"findAll"===b||"create"===b?c:c+"/{"+a.id+"}"}};a.Model=a.Map.extend({fullName:"can.Model",_reqs:0,setup:function(b,d,e,f){if("string"!=typeof d&&(f=e,e=d),f||(f=e),this.store={},a.Map.setup.apply(this,arguments),a.Model){e&&e.List?(this.List=e.List,this.List.Map=this):this.List=b.List.extend({Map:this},{});var l=this,m=a.proxy(this._clean,l);a.each(i,function(c,d){if(e&&e[d]&&("string"==typeof e[d]||"object"==typeof e[d])?l[d]=j(c,e[d]):e&&e.resource&&!a.isFunction(e[d])&&(l[d]=j(c,k(l,d))),l["make"+a.capitalize(d)]){var f=l["make"+a.capitalize(d)](l[d]);a.Construct._overwrite(l,b,d,function(){a.Model._reqs++;var b=f.apply(this,arguments),c=b.then(m,m);return c.abort=b.abort,c})}});var n={};a.each(g,function(c,d){var f="parse"+a.capitalize(d),g=e&&e[d]||l[d];"string"==typeof g?(l[f]=g,a.Construct._overwrite(l,b,d,c)):e&&e[d]&&(n[f]=!0)}),a.each(h,function(c,d){var f=e&&e[d]||l[d];if("string"==typeof f)a.Construct._overwrite(l,b,d,c(f));else if(!(e&&a.isFunction(e[d])||l[d])){var g=c();g.useModelConverter=n[d],a.Construct._overwrite(l,b,d,g)}}),"can.Model"!==l.fullName&&l.fullName||(l.fullName="Model"+ ++c),a.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:j,_makeRequest:f,_clean:function(){if(a.Model._reqs--,!a.Model._reqs)for(var b in this.store)this.store[b]._bindings||delete this.store[b];return arguments[0]},models:g.models,model:g.model},{setup:function(b){var c=b&&b[this.constructor.id];a.Model._reqs&&null!=c&&(this.constructor.store[c]=this),a.Map.prototype.setup.apply(this,arguments)},isNew:function(){var a=d(this);return!(a||0===a)},save:function(a,b){return f(this,this.isNew()?"create":"update",a,b)},destroy:function(b,c){if(this.isNew()){var d=this,e=a.Deferred();return e.then(b,c),e.done(function(a){d.destroyed(a)}).resolve(d)}return f(this,"destroy",b,c,"destroyed")},_bindsetup:function(){return this.constructor.store[this.__get(this.constructor.id)]=this,a.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[d(this)],a.Map.prototype._bindteardown.apply(this,arguments)},___set:function(b,c){a.Map.prototype.___set.call(this,b,c),b===this.constructor.id&&this._bindings&&(this.constructor.store[d(this)]=this)}});var l=function(a){return function(b,c,d){return this[a](b,null,d)}},m=function(a){return this.parseModel.useModelConverter?this.model(a):this.parseModel(a)},n={makeFindAll:l("models"),makeFindOne:l("model"),makeCreate:m,makeUpdate:m};a.each(n,function(c,d){a.Model[d]=function(d){return function(){var e=a.makeArray(arguments),f=a.isFunction(e[1])?e.splice(0,1):e.splice(0,2),g=b(d.apply(this,f),this,c);return g.then(e[0],e[1]),g}}}),a.each(["created","updated","destroyed"],function(b){a.Model.prototype[b]=function(c){var d=this,e=d.constructor;c&&"object"==typeof c&&this.attr(a.isFunction(c.attr)?c.attr():c),a.dispatch.call(this,{type:"change",target:this},[b]),a.dispatch.call(e,b,[this])}});var o=a.Model.List=a.List.extend({_bubbleRule:function(b,c){return a.List._bubbleRule(b,c)||"destroyed"}},{setup:function(b){a.isPlainObject(b)&&!a.isArray(b)?(a.List.prototype.setup.apply(this),this.replace(a.isDeferred(b)?b:this.constructor.Map.findAll(b))):a.List.prototype.setup.apply(this,arguments),this._init=1,this.bind("destroyed",a.proxy(this._destroyed,this)),delete this._init},_destroyed:function(a,b){if(/\w+/.test(b))for(var c;(c=this.indexOf(a.target))>-1;)this.splice(c,1)}});return a.Model}(__m2,__m15,__m19),__m32=function(a){var b=/^\d+$/,c=/([^\[\]]+)|(\[\])/g,d=/([^?#]*)(#.*)?$/,e=function(a){return decodeURIComponent(a.replace(/\+/g," "))};return a.extend(a,{deparam:function(f){var g,h,i={};return f&&d.test(f)&&(g=f.split("&"),a.each(g,function(a){var d=a.split("="),f=e(d.shift()),g=e(d.join("=")),j=i;if(f){d=f.match(c);for(var k=0,l=d.length-1;l>k;k++)j[d[k]]||(j[d[k]]=b.test(d[k+1])||"[]"===d[k+1]?[]:{}),j=j[d[k]];h=d.pop(),"[]"===h?j.push(g):j[h]=g}})),i}}),a}(__m2,__m13),__m31=function(a){var b,c,d,e,f=/\:([\w\.]+)/g,g=/^(?:&[^=]+=[^&]*)+/,h=function(b){var c=[];return a.each(b,function(b,d){c.push(("className"===d?"class":d)+'="'+("href"===d?b:a.esc(b))+'"')}),c.join(" ")},i=function(a,b){var c=0,d=0,e={};for(var f in a.defaults)a.defaults[f]===b[f]&&(e[f]=1,c++);for(;d<a.names.length;d++){if(!b.hasOwnProperty(a.names[d]))return-1;e[a.names[d]]||c++}return c},j=window.location,k=function(a){return(a+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},l=a.each,m=a.extend,n=function(b){return b&&"object"==typeof b?(b=b instanceof a.Map?b.attr():a.isFunction(b.slice)?b.slice():a.extend({},b),a.each(b,function(a,c){b[c]=n(a)})):b!==undefined&&null!==b&&a.isFunction(b.toString)&&(b=b.toString()),b},o=function(a){return a.replace(/\\/g,"")},p=function(c,f,g,h){e=1,clearTimeout(b),b=setTimeout(function(){e=0;var b=a.route.data.serialize(),c=a.route.param(b,!0);a.route._call("setURL",c),a.batch.trigger(q,"__url",[c,d]),d=c},10)},q=a.extend({},a.event);a.route=function(b,c){var d=a.route._call("root");d.lastIndexOf("/")===d.length-1&&0===b.indexOf("/")&&(b=b.substr(1)),c=c||{};for(var e,g,h=[],i="",j=f.lastIndex=0,l=a.route._call("querySeparator"),m=a.route._call("matchSlashes");e=f.exec(b);)h.push(e[1]),i+=o(b.substring(j,f.lastIndex-e[0].length)),g="\\"+(o(b.substr(f.lastIndex,1))||l+(m?"":"|/")),i+="([^"+g+"]"+(c[e[1]]?"*":"+")+")",j=f.lastIndex;return i+=b.substr(j).replace("\\",""),a.route.routes[b]={test:new RegExp("^"+i+"($|"+k(l)+")"),route:b,names:h,defaults:c,length:b.split("/").length},a.route},m(a.route,{param:function(b,c){var d,e,g=0,h=b.route,j=0;if(delete b.route,l(b,function(){j++}),l(a.route.routes,function(a,c){return e=i(a,b),e>g&&(d=a,g=e),e>=j?!1:void 0}),a.route.routes[h]&&i(a.route.routes[h],b)===g&&(d=a.route.routes[h]),d){var k,n=m({},b),o=d.route.replace(f,function(a,c){return delete n[c],b[c]===d.defaults[c]?"":encodeURIComponent(b[c])}).replace("\\","");return l(d.defaults,function(a,b){n[b]===a&&delete n[b]}),k=a.param(n),c&&a.route.attr("route",d.route),o+(k?a.route._call("querySeparator")+k:"")}return a.isEmptyObject(b)?"":a.route._call("querySeparator")+a.param(b)},deparam:function(b){var c=a.route._call("root");c.lastIndexOf("/")===c.length-1&&0===b.indexOf("/")&&(b=b.substr(1));var d={length:-1},e=a.route._call("querySeparator"),f=a.route._call("paramsMatcher");if(l(a.route.routes,function(a,c){a.test.test(b)&&a.length>d.length&&(d=a)}),d.length>-1){var g=b.match(d.test),h=g.shift(),i=b.substr(h.length-(g[g.length-1]===e?1:0)),j=i&&f.test(i)?a.deparam(i.slice(1)):{};return j=m(!0,{},d.defaults,j),l(g,function(a,b){a&&a!==e&&(j[d.names[b]]=decodeURIComponent(a))}),j.route=d.route,j}return b.charAt(0)!==e&&(b=e+b),f.test(b)?a.deparam(b.slice(1)):{}},data:new a.Map({}),map:function(b){var c;c=b.prototype instanceof a.Map?new b:b,a.route.data=c},routes:{},ready:function(b){return b!==!0&&(a.route._setup(),a.route.setState()),a.route},url:function(b,c){return c&&(b=a.extend({},a.route.deparam(a.route._call("matchingPartOfURL")),b)),a.route._call("root")+a.route.param(b)},link:function(b,c,d,e){return"<a "+h(m({href:a.route.url(c,e)},d))+">"+b+"</a>"},current:function(b){return a.__reading(q,"__url"),this._call("matchingPartOfURL")===a.route.param(b)},bindings:{hashchange:{paramsMatcher:g,querySeparator:"&",matchSlashes:!1,bind:function(){a.bind.call(window,"hashchange",r)},unbind:function(){a.unbind.call(window,"hashchange",r)},matchingPartOfURL:function(){return j.href.split(/#!?/)[1]||""},setURL:function(a){return j.hash="#!"+a,a},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){a.route.currentBinding||(a.route._call("bind"),a.route.bind("change",p),a.route.currentBinding=a.route.defaultBinding)},_teardown:function(){a.route.currentBinding&&(a.route._call("unbind"),a.route.unbind("change",p),a.route.currentBinding=null),clearTimeout(b),e=0},_call:function(){var b=a.makeArray(arguments),c=b.shift(),d=a.route.bindings[a.route.currentBinding||a.route.defaultBinding],e=d[c];return e.apply?e.apply(d,b):e}}),l(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","__get","each"],function(b){a.route[b]=function(){return a.route.data[b]?a.route.data[b].apply(a.route.data,arguments):void 0}}),a.route.attr=function(b,c){var d,e=typeof b;return d=c===undefined?arguments:"string"!==e&&"number"!==e?[n(b),c]:[b,n(c)],a.route.data.attr.apply(a.route.data,d)};var r=a.route.setState=function(){var b=a.route._call("matchingPartOfURL"),f=c;if(c=a.route.deparam(b),!e||b!==d){a.batch.start();for(var g in f)c[g]||a.route.removeAttr(g);a.route.attr(c),a.batch.trigger(q,"__url",[b,d]),a.batch.stop()}};return a.route}(__m2,__m15,__m19,__m32),__m33=function(a){return a.Control.processors.route=function(b,c,d,e,f){d=d||"",a.route.routes[d]||("/"===d[0]&&(d=d.substring(1)),a.route(d));var g,h=function(b,c,h){if(a.route.attr("route")===d&&(b.batchNum===undefined||b.batchNum!==g)){g=b.batchNum;var i=a.route.attr();delete i.route,a.isFunction(f[e])?f[e](i):f[f[e]](i)}};return a.route.bind("change",h),function(){a.route.unbind("change",h)}},a}(__m2,__m31,__m11),__m35=function(a,b){function c(a,c,d){var e,h,i,j,k,l=d,m=typeof a,n=function(){return e||(e={path:d,callbacks:[]},c.push(e),l=[]),e};if("object"===m){if(a.tag){if(h=document.createElement(a.tag),a.attrs)for(var o in a.attrs){var p=a.attrs[o];"function"==typeof p?n().callbacks.push({callback:p}):h.setAttribute(o,p)}if(a.attributes)for(j=0,k=a.attributes.length;k>j;j++)n().callbacks.push({callback:a.attributes[j]});a.children&&a.children.length&&(i=e?e.paths=[]:c,h.appendChild(f(a.children,i,l)))}else if(a.comment&&(h=document.createComment(a.comment),a.callbacks))for(j=0,k=a.attributes.length;k>j;j++)n().callbacks.push({callback:a.callbacks[j]})}else"string"===m?h=document.createTextNode(a):"function"===m&&(g?(h=document.createTextNode(""),n().callbacks.push({callback:a})):(h=document.createComment("~"),n().callbacks.push({callback:function(){var c=document.createTextNode("");return b.replace([this],c),a.apply(c,arguments)}})));return h}function d(a,b,c){for(var e,f=b.path,g=b.callbacks,h=b.paths,i=a,j=0,k=f.length;k>j;j++)i=i.childNodes[f[j]];for(j=0,k=g.length;k>j;j++)e=g[j],e.callback.apply(i,c);if(h&&h.length)for(j=h.length-1;j>=0;j--)d(i,h[j],c)}function e(b){var c=[],e=f(b,c,[]);return{paths:c,clone:e,hydrate:function(){for(var b=i(this.clone),e=a.makeArray(arguments),f=c.length-1;f>=0;f--)d(b,c[f],e);return b}}}var f=function(a,b,d){for(var e=document.createDocumentFragment(),f=0,g=a.length;g>f;f++){var h=a[f];e.appendChild(c(h,b,d.concat(f)))}return e},g=function(){var a=document.createDocumentFragment(),b=document.createElement("div");b.appendChild(document.createTextNode("")),b.appendChild(document.createTextNode("")),a.appendChild(b);var c=a.cloneNode(!0);return 2===c.childNodes[0].childNodes.length}(),h=function(){var a=document.createElement("a");a.innerHTML="<xyz></xyz>";var b=a.cloneNode(!0);return"<xyz></xyz>"===b.innerHTML}(),i=h?function(a){return a.cloneNode(!0)}:function(b){var c;if(1===b.nodeType?c=document.createElement(b.nodeName):3===b.nodeType?c=document.createTextNode(b.nodeValue):8===b.nodeType?c=document.createComment(b.nodeValue):11===b.nodeType&&(c=document.createDocumentFragment()),b.attributes){var d=a.makeArray(b.attributes);a.each(d,function(a){a&&a.specified&&c.setAttribute(a.nodeName,a.nodeValue)})}return b.childNodes&&a.each(b.childNodes,function(a){c.appendChild(i(a))}),c};return e.keepsTextNodes=g,a.view.target=e,e}(__m2,__m24),__m37=function(){return{isArrayLike:function(a){return a&&a.splice&&"number"==typeof a.length},isObserveLike:function(a){return a instanceof can.Map||a&&!!a._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?undefined:window.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(a){this.last().add(a)},subSectionDepth:function(){return this.stack.length-1}}}}(__m2),__m39=function(a,b,c){c=c||a.view.live;var d=function(c){return b.isObserveLike(c)&&b.isArrayLike(c)&&c.attr("length")?c:a.isFunction(c)?c():c},e={each:function(e,f){var g,h,i,j=d(e),k=[];if(j instanceof a.List||e&&e.isComputed&&j===undefined)return function(a){var b=function(a,b,c){return f.fn(f.scope.add({"@index":b}).add(a),f.options,c)};c.list(a,e,b,f.context,a.parentNode,f.nodeList)};var l=j;if(l&&b.isArrayLike(l))for(i=0;i<l.length;i++)k.push(f.fn(f.scope.add({"@index":i}).add(l[i])));else if(b.isObserveLike(l))for(g=a.Map.keys(l),i=0;i<g.length;i++)h=g[i],k.push(f.fn(f.scope.add({"@key":h}).add(l[h])));else if(l instanceof Object)for(h in l)k.push(f.fn(f.scope.add({"@key":h}).add(l[h])));return k},"@index":function(b,c){c||(c=b,b=0);var d=c.scope.attr("@index");return""+((a.isFunction(d)?d():d)+b)},"if":function(b,c){var e;return e=a.isFunction(b)?a.compute.truthy(b)():!!d(b),e?c.fn(c.scope||this):c.inverse(c.scope||this)},unless:function(b,c){return e["if"].apply(this,[a.isFunction(b)?a.compute(function(){return!b()}):!b,c])},"with":function(a,b){var c=a;return a=d(a),a?b.fn(c):void 0},log:function(a,b){"undefined"!=typeof console&&console.log&&(b?console.log(a,b.context):console.log(a.context))},data:function(b){var c=2===arguments.length?this:arguments[1];return function(d){a.data(a.$(d),b,c||this.context)}}};return{registerHelper:function(a,b){e[a]=b},getHelper:function(a,b){var c=b.attr("helpers."+a);return c||(c=e[a]),c?{fn:c}:void 0}}}(__m2,__m37,__m26),__m38=function(a,b,c,d,e,f,g){d=d||a.view.live,e=e||a.view.elements,f=f||a.view.Scope,g=g||a.view.nodeLists;var h=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,i=/^(?:(?:('.*?'|".*?")|([0-9]+\.?[0-9]*|true|false|null|undefined))|(?:(.+?)=(?:(?:('.*?'|".*?")|([0-9]+\.?[0-9]*|true|false|null|undefined))|(.+))))$/,j=/(?:(?:^|(\r?)\n)(\s*)(\{\{([^\}]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([^\}]*)\}\}\}?)/g,k=function(a){return a&&"string"==typeof a.get},l=function(a,b,c,d){for(var e=document.createDocumentFragment(),f=0,g=a.length;g>f;f++)m(e,c.fn(b?a.attr(""+f):a[f],d));return e},m=function(a,b){b&&a.appendChild("string"==typeof b?document.createTextNode(b):b)},n=function(a,b,c,d){for(var e="",f=0,g=a.length;g>f;f++)e+=c.fn(b?a.attr(""+f):a[f],d);return e},o=function(b,c,d){var e=c.computeData(b,{isArgument:d,
args:[c.attr("."),c]});return a.compute.temporarilyBind(e.compute),e},p=function(a,b){var c=o(a,b,!0);return c.compute.hasDependencies?c.compute:c.initialValue},q=function(a,b,c,d,e,f){e&&(a.fn=r(e,b,c,d)),f&&(a.inverse=r(f,b,c,d))},r=function(b,c,d,e){var f=function(a,d,e){return b(a||c,d,e)};return function(b,g,h){var i=a.__clearReading();b===undefined||b instanceof a.view.Scope||(b=c.add(b)),g===undefined||g instanceof s.Options||(g=d.add(g));var j=f(b,g||d,h||e);return a.__setReading(i),j}},s={expressionData:function(c){var d=[],e={},f=0;return(a.trim(c)+" ").replace(h,function(a,c){var g;f&&(g=c.match(i))?g[1]||g[2]?d.push(b.jsonParse(g[1]||g[2])):e[g[3]]=g[6]?{get:g[6]}:b.jsonParse(g[4]||g[5]):d.push({get:c}),f++}),{name:d.shift(),args:d,hash:e}},makeEvaluator:function(d,e,f,g,h,i,j,m){for(var r,s,t=[],u={},v={fn:function(){},inverse:function(){}},w=d.attr("."),x=h.name,y=h.args.length||!a.isEmptyObject(h.hash),z=0,A=h.args.length;A>z;z++){var B=h.args[z];t.push(B&&k(B)?p(B.get,d,!0):B)}for(var C in h.hash)k(h.hash[C])?u[C]=p(h.hash[C].get,d):u[C]=h.hash[C];if(k(x)&&(y&&(r=c.getHelper(x.get,e),r||"function"!=typeof w[x.get]||(r={fn:w[x.get]})),!r)){var D=x.get,E=o(x.get,d,!1),F=E.compute;s=E.initialValue,E.reads&&1===E.reads.length&&E.root instanceof a.Map&&!a.isFunction(E.root[E.reads[0]])&&(F=a.compute(E.root,E.reads[0])),x=E.compute.hasDependencies?F:s,y||s!==undefined?"function"==typeof s&&(r={fn:s}):r=c.getHelper(D,e)}if("^"===g){var G=i;i=j,j=G}return r?(q(v,d,e,f,i,j),a.simpleExtend(v,{context:w,scope:d,contexts:d,hash:u,nodeList:f}),t.push(v),function(){return r.fn.apply(w,t)||""}):g?"#"===g||"^"===g?(q(v,d,e,f,i,j),function(){var c;if(c=a.isFunction(x)&&x.isComputed?x():x,b.isArrayLike(c)){var f=b.isObserveLike(c);return(f?c.attr("length"):c.length)?(m?n:l)(c,f,v,e):v.inverse(d,e)}return c?v.fn(c||d,e):v.inverse(d,e)}):void 0:x&&x.isComputed?x:function(){return""+(null!=x?x:"")}},makeLiveBindingPartialRenderer:function(b,c){return b=a.trim(b),function(d,f,h){var i,j=f.attr("partials."+b);i=j?j.render?j.render(d,f):j(d,f):a.view.render(b,d,f),i=a.frag(i);var k=[this];g.register(k,null,c.directlyNested?h||!0:!0),g.update(k,i.childNodes),e.replace([this],i)}},makeStringBranchRenderer:function(a,b){var c=u(b),d=a+b;return function(b,e,f,g){var h=b.__cache[d];(a||!h)&&(h=t(b,e,null,a,c,f,g,!0),a||(b.__cache[d]=h));var i=h();return null==i?"":""+i}},makeLiveBindingBranchRenderer:function(b,c,f){var h=u(c);return function(i,j,k,l,m){var n=[this];n.expression=c,g.register(n,null,f.directlyNested?k||!0:!0);var o=t(i,j,n,b,h,l,m,f.tag),p=a.compute(o,null,!1,!0);p.bind("change",a.k);var q=p();if("function"==typeof q){var r=a.__clearReading();q(this),a.__setReading(r)}else p.hasDependencies?f.attr?d.simpleAttribute(this,f.attr,p):f.tag?d.attributes(this,p):f.text&&"object"!=typeof q?d.text(this,p,this.parentNode,n):d.html(this,p,this.parentNode,n):f.attr?a.attr.set(this,f.attr,q):f.tag?d.setAttributes(this,q):f.text&&"string"==typeof q?this.nodeValue=q:q&&e.replace([this],a.frag(q));p.unbind("change",a.k)}},splitModeFromExpression:function(b,c){b=a.trim(b);var d=b.charAt(0);return"#/{&^>!".indexOf(d)>=0?b=a.trim(b.substr(1)):d=null,"{"===d&&c.node&&(d=null),{mode:d,expression:b}},cleanLineEndings:function(a){return a.replace(j,function(a,b,c,d,e,f,g,h,i,j){f=f||"",b=b||"",c=c||"";var k=v(e||i,{});return h||">{".indexOf(k.mode)>=0?a:"^#!/".indexOf(k.mode)>=0?d+(0!==j&&g.length?b+"\n":""):c+d+f+(c.length||0!==j?b+"\n":"")})},Options:a.view.Scope.extend({init:function(b,c){b.helpers||b.partials||b.tags||(b={helpers:b}),a.view.Scope.prototype.init.apply(this,arguments)}})},t=s.makeEvaluator,u=s.expressionData,v=s.splitModeFromExpression;return s}(__m2,__m37,__m39,__m26,__m24,__m22,__m27),__m36=function(a,b,c,d){var e=function(){var a=document.createElement("div");return function(b){return-1===b.indexOf("&")?b.replace(/\r\n/g,"\n"):(a.innerHTML=b,0===a.childNodes.length?"":a.childNodes[0].nodeValue)}}(),f=function(){this.stack=[new g]};a.extend(f.prototype,c.mixins),a.extend(f.prototype,{startSubSection:function(a){var b=new g(a);return this.stack.push(b),b},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var b=this.endSection();return a.proxy(b.compiled.hydrate,b.compiled)},startSection:function(a){var b=new g(a);this.last().add(b.targetCallback),this.stack.push(b)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var b=this.stack.pop().compile();return function(c,e){return c instanceof a.view.Scope||(c=new a.view.Scope(c||{})),e instanceof d.Options||(e=new d.Options(e||{})),b.hydrate(c,e)}},push:function(a){this.last().push(a)},pop:function(){return this.last().pop()}});var g=function(b){this.data="targetData",this.targetData=[],this.targetStack=[];var c=this;this.targetCallback=function(d,e,f){b.call(this,d,e,f,a.proxy(c.compiled.hydrate,c.compiled),c.inverseCompiled&&a.proxy(c.inverseCompiled.hydrate,c.inverseCompiled))}};return a.extend(g.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(a){this.add(a),this.targetStack.push(a)},pop:function(){return this.targetStack.pop()},add:function(a){"string"==typeof a&&(a=e(a)),this.targetStack.length?this.targetStack[this.targetStack.length-1].children.push(a):this[this.data].push(a)},compile:function(){return this.compiled=b(this.targetData),this.inverseData&&(this.inverseCompiled=b(this.inverseData),delete this.inverseData),delete this.targetData,delete this.targetStack,this.compiled},children:function(){return this.targetStack.length?this.targetStack[this.targetStack.length-1].children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),f}(__m2,__m35,__m37,__m38),__m40=function(a,b,c){b=b||a.view.live;var d=function(){this.stack=[new g]},e=function(){};a.extend(d.prototype,c.mixins),a.extend(d.prototype,{startSection:function(a){var b=new g;this.last().add({process:a,truthy:b}),this.stack.push(b)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var a=new g;this.last().last().falsey=a,this.stack.push(a)},compile:function(c){var d=this.stack[0].compile();return function(f,g){var h=a.compute(function(){return d(f,g)},this,!1,!0);h.bind("change",e);var i=h();h.hasDependencies?(c.attr?b.simpleAttribute(this,c.attr,h):b.attributes(this,h),h.unbind("change",e)):c.attr?a.attr.set(this,c.attr,i):b.setAttributes(this,i)}}});var f=function(a,b,c){return function(d,e){return a.call(this,d,e,b,c)}},g=function(){this.values=[]};return a.extend(g.prototype,{add:function(a){this.values.push(a)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var a=this.values,b=a.length,c=0;b>c;c++){var d=this.values[c];"object"==typeof d&&(a[c]=f(d.process,d.truthy&&d.truthy.compile(),d.falsey&&d.falsey.compile()))}return function(c,d){for(var e,f="",g=0;b>g;g++)e=a[g],f+="string"==typeof e?e:e.call(this,c,d);return f}}}),d}(__m2,__m26,__m37),__m34=function(a,b,c,d,e,f,g,h){function i(c){c=f.cleanLineEndings(c);var g=new d,i={node:null,attr:null,sectionElementStack:[],text:!1},j=function(a,b,c){if(">"===b)a.add(f.makeLiveBindingPartialRenderer(c,i));else if("/"===b)a.endSection(),a instanceof d&&i.sectionElementStack.pop();else if("else"===b)a.inverse();else{var e=a instanceof d?f.makeLiveBindingBranchRenderer:f.makeStringBranchRenderer;"{"===b||"&"===b?a.add(e(null,c,k())):"#"===b||"^"===b?(a.startSection(e(b,c,k())),a instanceof d&&i.sectionElementStack.push("section")):a.add(e(null,c,k({text:!0})))}},k=function(b){var c={tag:i.node&&i.node.tag,attr:i.attr&&i.attr.name,directlyNested:"section"===i.sectionElementStack[i.sectionElementStack.length-1]};return b?a.simpleExtend(c,b):c},l=function(a,b){a.attributes||(a.attributes=[]),a.attributes.push(b)};return b(c,{start:function(a,b){i.node={tag:a,children:[]}},end:function(a,b){var c=h.tag(a);b?(g.add(i.node),c&&l(i.node,function(b,c){h.tagHandler(this,a,{scope:b,options:c,subtemplate:null,templateType:"stache"})})):(g.push(i.node),i.sectionElementStack.push("element"),c&&g.startSubSection()),i.node=null},close:function(a){var b,c=h.tag(a);c&&(b=g.endSubSectionAndReturnRenderer());var d=g.pop();c&&l(d,function(c,d){h.tagHandler(this,a,{scope:c,options:d,subtemplate:b,templateType:"stache"})}),i.sectionElementStack.pop()},attrStart:function(a){i.node.section?i.node.section.add(a+'="'):i.attr={name:a,value:""}},attrEnd:function(a){if(i.node.section)i.node.section.add('" ');else{i.node.attrs||(i.node.attrs={}),i.node.attrs[i.attr.name]=i.attr.section?i.attr.section.compile(k()):i.attr.value;var b=h.attr(a);b&&(i.node.attributes||(i.node.attributes=[]),i.node.attributes.push(function(c,d){b(this,{attributeName:a,scope:c,options:d})})),i.attr=null}},attrValue:function(a){var b=i.node.section||i.attr.section;b?b.add(a):i.attr.value+=a},chars:function(a){g.add(a)},special:function(a){var b=f.splitModeFromExpression(a,i),c=b.mode,d=b.expression;if("else"===d)return void(i.attr&&i.attr.section?i.attr.section:g).inverse();if("!"!==c)if(i.node&&i.node.section)j(i.node.section,c,d),0===i.node.section.subSectionDepth()&&(i.node.attributes.push(i.node.section.compile(k())),delete i.node.section);else if(i.attr)i.attr.section||(i.attr.section=new e,i.attr.value&&i.attr.section.add(i.attr.value)),j(i.attr.section,c,d);else if(i.node)if(i.node.attributes||(i.node.attributes=[]),c){if("#"!==c&&"^"!==c)throw c+" is currently not supported within a tag.";i.node.section||(i.node.section=new e),j(i.node.section,c,d)}else i.node.attributes.push(f.makeLiveBindingBranchRenderer(null,d,k()));else j(g,c,d)},comment:function(a){g.add({comment:a})},done:function(){}}),g.compile()}b=b||a.view.parser,h=h||a.view.callbacks;var j={"\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029"},k=function(a){return(""+a).replace(/["'\\\n\r\u2028\u2029]/g,function(a){return"'\"\\".indexOf(a)>=0?"\\"+a:j[a]})};return a.view.register({suffix:"stache",contentType:"x-stache-template",fragRenderer:function(a,b){return i(b)},script:function(a,b){return'can.stache("'+k(b)+'")'}}),a.view.ext=".stache",a.extend(a.stache,g),a.extend(i,g),a.stache.safeString=i.safeString=function(a){return{toString:function(){return a}}},i}(__m2,__m28,__m35,__m36,__m40,__m38,__m39,__m9),__m41=function(a,b){var c=a.isFunction,d=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,e=["get","set"],f=function(a,b,c){return function(){var d,e=this._super;return this._super=a[b],d=c.apply(this,arguments),this._super=e,d}};return a.Construct._defineProperty=function(b,d,g,h){var i=Object.getOwnPropertyDescriptor(d,g);i&&a.each(e,function(a){c(i[a])&&c(h[a])?h[a]=f(i,a,h[a]):c(h[a])||(h[a]=i[a])}),Object.defineProperty(b,g,h)},a.Construct._overwrite=function(a,b,e,g){a[e]=c(g)&&c(b[e])&&d.test(g)?f(b,e,g):g},a}(__m2,__m12),__m42=function(a,b){var c=(a.isFunction,a.isArray),d=a.makeArray,e=function(a){var b,e=d(arguments);return a=e.shift(),c(a)||(a=[a]),b=this,function(){for(var f,g,h=e.concat(d(arguments)),i=a.length,j=0;i>j;j++)g=a[j],g&&(f="string"==typeof g,h=(f?b[g]:g).apply(b,h||[]),i-1>j&&(h=!c(h)||h._use_call?[h]:h));return h}};a.Construct.proxy=a.Construct.prototype.proxy=e;for(var f=[a.Map,a.Control,a.Model],g=0;g<f.length;g++)f[g]&&(f[g].proxy=e);return a}(__m2,__m12),__m43=function(a,b){a.each([a.Map,a.Model],function(b){if(b!==undefined){var c=function(a){return"object"==typeof a&&null!==a&&a};a.extend(b,{attributes:{},convert:{date:function(a){var b=typeof a;return"string"===b?(a=Date.parse(a),isNaN(a)?null:new Date(a)):"number"===b?new Date(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return"false"!==a&&"0"!==a&&a?!0:!1},"default":function(b,c,d,e){if(a.Map.prototype.isPrototypeOf(e.prototype)&&"function"==typeof e.model&&"function"==typeof e.models)return e[a.isArray(b)?"models":"model"](b);if(a.Map.prototype.isPrototypeOf(e.prototype))return a.isArray(b)&&"function"==typeof e.List?new e.List(b):new e(b);if("function"==typeof e)return e(b,c);var f,g=a.getObject(e),h=window;return e.indexOf(".")>=0&&(f=e.substring(0,e.lastIndexOf(".")),h=a.getObject(f)),"function"==typeof g?g.call(h,b,c):b}},serialize:{"default":function(a,b){return c(a)&&a.serialize?a.serialize():a},date:function(a){return a&&a.getTime()}}});var d=b.setup;b.setup=function(b,c,e){var f=this;d.call(f,b,c,e),a.each(["attributes"],function(a){f[a]&&b[a]!==f[a]||(f[a]={})}),a.each(["convert","serialize"],function(c){b[c]!==f[c]&&(f[c]=a.extend({},b[c],f[c]))})}}}),a.Map.prototype.__convert=function(a,b){var c,d,e=this.constructor,f=this.__get(a);return e.attributes&&(c=e.attributes[a],d=e.convert[c]||e.convert["default"]),null!==b&&c?d.call(e,b,f,function(){},c):b};var c=a.Map.helpers._serialize;a.Map.helpers._serialize=function(a,b,d){var e=a.constructor,f=e.attributes?e.attributes[b]:0,g=e.serialize?e.serialize[f]:0;return d&&"function"==typeof d.serialize?c.apply(this,arguments):g?g(d,f):c.apply(this,arguments)};var d=a.Map.prototype.serialize;return a.Map.prototype.serialize=function(a){var b=d.apply(this,arguments);return a?b[a]:b},a.Map}(__m2,__m15,__m19),__m44=function(a){return a.extend(a.List.prototype,{filter:function(b){var c=new this.constructor,d=this,e=function(e,f){var g=function(a,b){var d=c.indexOf(e);b||-1===d||c.splice(d,1),b&&-1===d&&c.push(e)},h=a.compute(function(){return b(e,d.indexOf(e),d)});h.bind("change",g),g(null,h())};return this.bind("add",function(b,c,d){a.each(c,function(a,b){e(a,d+b)})}),this.bind("remove",function(b,d,e){a.each(d,function(a,b){var d=c.indexOf(a);-1!==d&&c.splice(d,1)})}),this.forEach(e),c},map:function(b){var c=new a.List,d=this,e=function(e,f){var g=a.compute(function(){return b(e,f,d)});g.bind("change",function(a,b){c.splice(f,1,b)}),c.splice(f,0,g())};return this.forEach(e),this.bind("add",function(b,c,d){a.each(c,function(a,b){e(a,d+b)})}),this.bind("remove",function(a,b,d){c.splice(d,b.length)}),c}}),a.List}(__m2,__m15,__m19,__m20),__m45=function(a){a.Map.helpers.define=function(a){var b=a.prototype.define;a.defaultGenerators={};for(var c in b)"value"in b[c]&&("function"==typeof b[c].value?a.defaultGenerators[c]=b[c].value:a.defaults[c]=b[c].value),"function"==typeof b[c].Value&&!function(b){a.defaultGenerators[c]=function(){return new b}}(b[c].Value)};var b=a.Map.prototype._setupDefaults;a.Map.prototype._setupDefaults=function(a){var c=b.call(this),d={},e=this.constructor,f=this._get;this._get=function(a){return g=-1!==a.indexOf(".")?a.substr(0,a.indexOf(".")):g,g in c&&!(g in d)&&(this.attr(g,c[g]),d[g]=!0),f.apply(this,arguments)};for(var g in e.defaultGenerators)a&&g in a||(c[g]=e.defaultGenerators[g].call(this));return this._get=f,c};var c=a.Map.prototype,d=c.__set;c.__set=function(b,c,e,f,g){var h=function(c){var d=g&&g.call(i,c);return d!==!1&&a.trigger(i,"error",[b,c],!0),!1},i=this,j=this.define&&this.define[b],k=j&&j.set,l=j&&j.get;if(k){a.batch.start();var m=!1,n=k.call(this,c,function(a){d.call(i,b,a,e,f,h),m=!0},h);return l?void a.batch.stop():n===undefined&&!m&&k.length>=2?void a.batch.stop():(m||d.call(i,b,0===k.length&&n===undefined?c:n,e,f,h),a.batch.stop(),this)}return d.call(i,b,c,e,f,h),this};var e={date:function(a){var b=typeof a;return"string"===b?(a=Date.parse(a),isNaN(a)?null:new Date(a)):"number"===b?new Date(a):a},number:function(a){return+a},"boolean":function(a){return"false"!==a&&"0"!==a&&a?!0:!1},"*":function(a){return a},string:function(a){return""+a}},f=c.__type;c.__type=function(a,b){var c=this.define&&this.define[b],d=c&&c.type,g=c&&c.Type,h=a;return"string"==typeof d&&(d=e[d]),d||g?(d&&(h=d.call(this,h,b)),!g||h instanceof g||(h=new g(h)),h):f.call(this,h,b)};var g=c._remove;c._remove=function(b,c){var d,e=this.define&&this.define[b]&&this.define[b].remove;return e?(a.batch.start(),d=e.call(this,c),d===!1?void a.batch.stop():(d=g.call(this,b,c),a.batch.stop(),d)):g.call(this,b,c)};var h=c._setupComputes;c._setupComputes=function(b){h.apply(this,arguments);for(var c in this.define){var d=this.define[c],e=d.get;e&&(this[c]=a.compute.async(b[c],e,this),this._computedBindings[c]={count:0})}};var i=a.Map.helpers._serialize;a.Map.helpers._serialize=function(a,b,c){return j(a,b,c)};var j=function(a,b,c){var d=a.define&&a.define[b]&&a.define[b].serialize;return d===undefined?i.apply(this,arguments):d!==!1?"function"==typeof d?d.call(a,c,b):i.apply(this,arguments):void 0},k=c.serialize;return c.serialize=function(a){var b=k.apply(this,arguments);if(a)return b;var c,d;for(var e in this.define)e in b||(c=this.define&&this.define[e]&&this.define[e].serialize,c&&(d=j(this,e,this.attr(e)),d!==undefined&&(b[e]=d)));return b},a.Map}(__m2,__m14),__m46=function(a){var b=a.List._bubbleRule;if(a.List._bubbleRule=function(a,c){return c.comparator?"change":b.apply(this,arguments)},a.Model){var c=a.Model.List._bubbleRule;a.Model.List._bubbleRule=function(a,b){return b.comparator?"change":c.apply(this,arguments)}}var d=a.List.prototype,e=d._changes,f=d.setup;a.extend(d,{comparator:undefined,sortIndexes:[],sortedIndex:function(a){for(var b=a.attr(this.comparator),c=0,d=0,e=this.length;e>d;d++)if(a!==this[d]){if(b<=this[d].attr(this.comparator))return d+c}else c=-1;return d+c},sort:function(b,c){var d=this.comparator,e=d?[function(a,b){return a="function"==typeof a[d]?a[d]():a[d],b="function"==typeof b[d]?b[d]():b[d],a===b?0:b>a?-1:1}]:[b];return c||a.trigger(this,"reset"),Array.prototype.sort.apply(this,e)}});var g=function(b){return b[0]&&a.isArray(b[0])?b[0]:a.makeArray(b)};return a.each({push:"length",unshift:0},function(b,c){var d=a.List.prototype,e=d[c];d[c]=function(){var c=g(arguments),d=b?this.length:0,f=e.apply(this,arguments);return this.comparator&&c.length&&(this.sort(null,!0),a.batch.trigger(this,"reset",[c]),this._triggerChange(""+d,"add",c,undefined)),f}}),d._changes=function(b,c,d,f,g){if(this.comparator&&/^\d+./.test(c)){var h=+/^\d+/.exec(c)[0],i=this[h];if("undefined"!=typeof i){var j=this.sortedIndex(i);if(j!==h)return[].splice.call(this,h,1),[].splice.call(this,j,0,i),a.trigger(this,"move",[i,j,h]),void a.trigger(this,"change",[c.replace(/^\d+/,j),d,f,g])}}e.apply(this,arguments)},d.setup=function(a,b){f.apply(this,arguments),this.comparator&&this.sort()},a.Map}(__m2,__m19),__m47=function(a,b){var c,d,e,f,g,h,i={val:!0,text:!0};return c=function(c){var f=a.fn[c];a.fn[c]=function(){var a,g,j,k=b.makeArray(arguments),l=this;if(b.isDeferred(k[0]))return k[0].done(function(a){d.call(l,[a],f)}),this;if(e(k)){if(a=h(k))return g=k[a],k[a]=function(a){d.call(l,[a],f),g.call(l,a)},b.view.apply(b.view,k),this;if(j=b.view.apply(b.view,k),b.isDeferred(j))return j.done(function(a){d.call(l,[a],f)}),this;k=[j]}return i[c]?f.apply(this,k):d.call(this,k,f)}},d=function(a,c){var d;for(var e in b.view.hookups)break;return e&&a[0]&&f(a[0])&&(a[0]=b.view.frag(a[0]).childNodes),d=c.apply(this,a)},e=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"===b||"function"===b)&&!g(a[1])},g=function(a){return a.nodeType||a[0]&&a[0].nodeType},f=function(a){return g(a)?!0:"string"==typeof a?(a=b.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&a.length>=3):!1},h=function(a){return"function"==typeof a[3]?3:"function"==typeof a[2]&&2},a.fn.hookup=function(){return b.view.frag(this),this},b.each(["prepend","append","after","before","text","html","replaceWith","val"],function(a){c(a)}),b}(jQuery,__m2,__m10),__m48=function(a){var b=a.isArray;a.Object={};var c=a.Object.same=function(e,f,g,h,i,j){var k,l=typeof e,m=b(e),n=typeof g;if(("string"===n||null===g)&&(g=d[g],n="function"),"function"===n)return g(e,f,h,i);if(g=g||{},null===e||null===f)return e===f;if(e instanceof Date||f instanceof Date)return e===f;if(-1===j)return"object"===l||e===f;if(l!==typeof f||m!==b(f))return!1;if(e===f)return!0;if(m){if(e.length!==f.length)return!1;for(var o=0;o<e.length;o++)if(k=g[o]===undefined?g["*"]:g[o],!c(e[o],f[o],e,f,k))return!1;return!0}if("object"===l||"function"===l){var p=a.extend({},f);for(var q in e){if(k=g[q]===undefined?g["*"]:g[q],!c(e[q],f[q],k,e,f,j===!1?-1:undefined))return!1;delete p[q]}for(q in p)if(g[q]===undefined||!c(undefined,f[q],g[q],e,f,j===!1?-1:undefined))return!1;return!0}return!1};a.Object.subsets=function(b,c,d){for(var e=c.length,f=[],g=0;e>g;g++){var h=c[g];a.Object.subset(b,h,d)&&f.push(h)}return f},a.Object.subset=function(a,b,d){d=d||{};for(var e in b)if(!c(a[e],b[e],d[e],a,b))return!1;return!0};var d={"null":function(){return!0},i:function(a,b){return(""+a).toLowerCase()===(""+b).toLowerCase()},eq:function(a,b){return a===b},similar:function(a,b){return a==b}};return d.eqeq=d.similar,a.Object}(__m2),__m49=function(a){if(!a.Object)throw new Error("can.fixture depends on can.Object. Please include it before can.fixture.");var b=function(b){return"undefined"!=typeof steal?a.isFunction(steal.config)?steal.config().root.mapJoin(b).toString():steal.root.join(b).toString():(a.fixture.rootUrl||"")+b},c=function(c,d){if(a.fixture.on){var e=function(){};c.type=c.type||c.method||"GET";var f=i(c);if(!c.fixture)return void("file:"===window.location.protocol&&e("ajax request to "+c.url+", no fixture found"));if("string"==typeof c.fixture&&a.fixture[c.fixture]&&(c.fixture=a.fixture[c.fixture]),"string"==typeof c.fixture){var g=c.fixture;/^\/\//.test(g)&&(g=b(c.fixture.substr(2))),f&&(g=a.sub(g,f)),delete c.fixture,c.url=g,c.data=null,c.type="GET",c.error||(c.error=function(a,b,c){throw"fixtures.js Error "+b+" "+c})}else c.dataTypes&&c.dataTypes.splice(0,0,"fixture"),f&&d&&(d.data=d.data||{},a.extend(d.data,f))}},d=function(a,b,c,d){return"number"!=typeof a&&(d=b,c=a,b="success",a=200),"string"!=typeof b&&(d=c,c=b,b="success"),a>=400&&599>=a&&(this.dataType="text"),[a,b,e(this,c),d]},e=function(a,b){var c=a.dataTypes?a.dataTypes[0]:a.dataType||"json";if(!b||!b[c]){var d={};d[c]=b,b=d}return b};if(a.ajaxPrefilter&&a.ajaxTransport)a.ajaxPrefilter(c),a.ajaxTransport("fixture",function(b,c){b.dataTypes.shift();var f,g=!1;return{send:function(h,i){f=setTimeout(function(){var a=function(){g===!1&&i.apply(null,d.apply(b,arguments))},f=b.fixture(c,a,h,b);f!==undefined&&i(200,"success",e(b,f),{})},a.fixture.delay)},abort:function(){g=!0,clearTimeout(f)}}});else{var f=a.ajax;a.ajax=function(b){if(c(b,b),b.fixture){var e,g=new a.Deferred,h=!1;return g.getResponseHeader=function(){},g.then(b.success,b.fail),g.abort=function(){clearTimeout(e),h=!0,g.reject(g)},e=setTimeout(function(){var a=function(){var a=d.apply(b,arguments),c=a[0];(c>=200&&300>c||304===c)&&h===!1?g.resolve(a[2][b.dataType]):g.reject(g,"error",a[1])},c=b.fixture(b,a,b.headers,b);c!==undefined&&g.resolve(c)},a.fixture.delay),g}return f(b)}}var g=[],h=function(a,b){for(var c=0;c<g.length;c++)if(k._similar(a,g[c],b))return c;return-1},i=function(a){var b=h(a);return b>-1?(a.fixture=g[b].fixture,k._getData(g[b].url,a.url)):void 0},j=function(a){var b=a.data.id;return b===undefined&&"number"==typeof a.data&&(b=a.data),b===undefined&&a.url.replace(/\/(\d+)(\/|$|\.)/g,function(a,c){b=c}),b===undefined&&(b=a.url.replace(/\/(\w+)(\/|$|\.)/g,function(a,c){"update"!==c&&(b=c)})),b===undefined&&(b=Math.round(1e3*Math.random())),b},k=a.fixture=function(b,c){if(c!==undefined){if("string"==typeof b){var d=b.match(/(GET|POST|PUT|DELETE) (.+)/i);b=d?{url:d[2],type:d[1]}:{url:b}}var e=h(b,!!c);if(e>-1&&g.splice(e,1),null==c)return;b.fixture=c,g.push(b)}else a.each(b,function(a,b){k(b,a)})},l=a.replacer;return a.extend(a.fixture,{_similar:function(b,c,d){return d?a.Object.same(b,c,{fixture:null}):a.Object.subset(b,c,a.fixture._compare)},_compare:{url:function(a,b){return!!k._getData(b,a)},fixture:null,type:"i"},_getData:function(b,c){var d=[],e=b.replace(".","\\.").replace("?","\\?"),f=new RegExp(e.replace(l,function(a,b){return d.push(b),"([^/]+)"})+"$").exec(c),g={};return f?(f.shift(),a.each(d,function(a){g[a]=f.shift()}),g):null},store:function(b,c,d){var e,f,g,h=0,i=function(a){for(var b=0;b<f.length;b++)if(a==f[b].id)return f[b]},k={};if(a.isArray(b)&&"string"==typeof b[0]?(e=b,b=c,c=d,d=arguments[3]):"string"==typeof b&&(e=[b+"s",b],b=c,c=d,d=arguments[3]),"number"==typeof b)f=[],g=function(){f=[];for(var d=0;b>d;d++){var g=c(d,f);g.id||(g.id=d),h=Math.max(g.id+1,h+1)||f.length,f.push(g)}a.isArray(e)&&(a.fixture["~"+e[0]]=f,a.fixture["-"+e[0]]=k.findAll,a.fixture["-"+e[1]]=k.findOne,a.fixture["-"+e[1]+"Update"]=k.update,a.fixture["-"+e[1]+"Destroy"]=k.destroy,a.fixture["-"+e[1]+"Create"]=k.create)};else{d=c;var l=b;g=function(){f=l.slice(0)}}return a.extend(k,{findAll:function(b){b=b||{};var c=f.slice(0);b.data=b.data||{},a.each((b.data.order||[]).slice(0).reverse(),function(a){var b=a.split(" ");c=c.sort(function(a,c){return"ASC"!==b[1].toUpperCase()?a[b[0]]<c[b[0]]?1:a[b[0]]===c[b[0]]?0:-1:a[b[0]]<c[b[0]]?-1:a[b[0]]===c[b[0]]?0:1})}),a.each((b.data.group||[]).slice(0).reverse(),function(a){var b=a.split(" ");c=c.sort(function(a,c){return a[b[0]]>c[b[0]]})});var e=parseInt(b.data.offset,10)||0,g=parseInt(b.data.limit,10)||f.length-e,h=0;for(var i in b.data)if(h=0,b.data[i]!==undefined&&(-1!==i.indexOf("Id")||-1!==i.indexOf("_id")))for(;h<c.length;)b.data[i]!=c[h][i]?c.splice(h,1):h++;if("function"==typeof d)for(h=0;h<c.length;)d(c[h],b)?h++:c.splice(h,1);else if("object"==typeof d)for(h=0;h<c.length;)a.Object.subset(c[h],b.data,d)?h++:c.splice(h,1);return{count:c.length,limit:b.data.limit,offset:b.data.offset,data:c.slice(e,e+g)}},findOne:function(a,b){var c=i(j(a));return"undefined"==typeof c?b(404,"Requested resource not found"):void b(c)},update:function(b,c){var d=j(b),e=i(d);return"undefined"==typeof e?c(404,"Requested resource not found"):(a.extend(e,b.data),void c({id:d},{location:b.url||"/"+j(b)}))},destroy:function(a,b){var c=j(a),d=i(c);if("undefined"==typeof d)return b(404,"Requested resource not found");for(var e=0;e<f.length;e++)if(f[e].id==c){f.splice(e,1);break}return{}},create:function(b,d){var e=c(f.length,f);a.extend(e,b.data),e.id||(e.id=h++),f.push(e),d({id:e.id},{location:b.url+"/"+e.id})}}),g(),a.extend({getId:j,find:function(a){return i(j(a))},reset:g},k)},rand:function m(a,b,c){if("number"==typeof a)return"number"==typeof b?a+Math.floor(Math.random()*(b-a)):Math.floor(Math.random()*a);var d=m;if(b===undefined)return d(a,d(a.length+1));var e=[];a=a.slice(0),c||(c=b),c=b+Math.round(d(c-b));for(var f=0;c>f;f++)e.push(a.splice(d(a.length),1)[0]);return e},xhr:function(b){return a.extend({},{abort:a.noop,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:a.noop,overrideMimeType:a.noop,readyState:4,responseText:"",responseXML:null,send:a.noop,setRequestHeader:a.noop,status:200,statusText:"OK"},b)},on:!0}),a.fixture.delay=200,a.fixture.rootUrl=b(""),a.fixture["-handleFunction"]=function(b){return"string"==typeof b.fixture&&a.fixture[b.fixture]&&(b.fixture=a.fixture[b.fixture]),"function"==typeof b.fixture?(setTimeout(function(){b.success&&b.success.apply(null,b.fixture(b,"success")),b.complete&&b.complete.apply(null,b.fixture(b,"complete"))},a.fixture.delay),!0):!1},a.fixture.overwrites=g,a.fixture.make=a.fixture.store,a.fixture}(__m2,__m13,__m48);window.can=__m4}(),function(a){!function(b){var c=function(c,d,e){if(e||(e=d,d={}),d=d||{},c="string"==typeof c?[c]:b.makeArray(c),!d.testIf||d.testIf.call(this)){var f=this;b.each(c,function(b){f.validations[b]||(f.validations[b]=[]),f.validations[b].push(function(c){var f=e.call(this,c,b);return f===a?a:d.message||f})})}},d=b.Map.prototype.__set;return b.Map.prototype.__set=function(a,c,e,f,g){var h=this,i=h.constructor.validations,j=function(c){var d=g&&g.call(h,c);return d!==!1&&b.trigger(h,"error",[a,c],!0),!1};if(d.call(h,a,c,e,f,j),i&&i[a]){var k=h.errors(a);k&&j(k)}return this},b.each([b.Map,b.Model],function(d){if(d!==a){var e=d.setup;b.extend(d,{setup:function(a){e.apply(this,arguments),this.validations&&a.validations!==this.validations||(this.validations={})},validate:c,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",presence:"can't be empty",range:"is out of range",numericality:"must be a number"},validateFormatOf:function(a,b,d){c.call(this,a,d,function(a){return"undefined"!=typeof a&&null!==a&&""!==a&&null===String(a).match(b)?this.constructor.validationMessages.format:void 0})},validateInclusionOf:function(a,b,d){c.call(this,a,d,function(a){if("undefined"!=typeof a){for(var c=0;c<b.length;c++)if(b[c]===a)return;return this.constructor.validationMessages.inclusion}})},validateLengthOf:function(a,b,d,e){c.call(this,a,e,function(a){return("undefined"==typeof a||null===a)&&b>0||"undefined"!=typeof a&&null!==a&&a.length<b?this.constructor.validationMessages.lengthShort+" (min="+b+")":"undefined"!=typeof a&&null!==a&&a.length>d?this.constructor.validationMessages.lengthLong+" (max="+d+")":void 0})},validatePresenceOf:function(a,b){c.call(this,a,b,function(a){return"undefined"==typeof a||""===a||null===a?this.constructor.validationMessages.presence:void 0})},validateRangeOf:function(a,b,d,e){c.call(this,a,e,function(a){return("undefined"==typeof a||null===a)&&b>0||"undefined"!=typeof a&&null!==a&&(b>a||a>d)?this.constructor.validationMessages.range+" ["+b+","+d+"]":void 0})},validatesNumericalityOf:function(a){c.call(this,a,function(a){var b=!isNaN(parseFloat(a))&&isFinite(a);return b?void 0:this.constructor.validationMessages.numericality})}})}}),b.extend(b.Map.prototype,{errors:function(a,c){a&&(a=b.isArray(a)?a:[a]);var d={},e=this,f=function(a,f){b.each(f,function(b){var f=b.call(e,h?e.__convert?e.__convert(a,c):c:e.attr(a));f&&(d[a]||(d[a]=[]),d[a].push(f))})},g=this.constructor.validations||{},h=a&&1===a.length&&2===arguments.length;return b.each(a||g,function(a,b){"number"==typeof b&&(b=a,a=g[b]),f(b,a||[])}),b.isEmptyObject(d)?null:h?d[a[0]]:d}}),b.Map}(window.can,a)}(),!function(a){function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open")),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({
type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){var b=function(){var b,c=[],d=!1,e=function(a){clearTimeout(b),b=setTimeout(f,100)},f=function(){for(var a=0,b=c.length;b>a;a++)c[a].apply()};return{register:function(b){c.push(b),d===!1&&(a(window).bind("resize",e),d=!0)},unregister:function(a){for(var b=0,d=c.length;d>b;b++)if(c[b]==a){delete c[b];break}}}}(),c=function(c,d){this.element=a(c),this.checkActiveTab(),this.initSmallTabs(d.updateSelect),this.initAdvAPI();var e='<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+d.text+' </a><ul class="dropdown-menu"></ul></li>';this.dropdown=a(e).prependTo(this.element),this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup"),this.checkTabSource(),b.register(a.proxy(this.layout,this)),this.layout()};c.prototype={constructor:c,layout:function(){var b=[],c=!1;this.dropdown.addClass("hide"),this.element.append(this.dropdown.find("li")).find(">li:visible").not(".tabdrop").each(function(){this.offsetTop>0&&(c=!0)}),this.dropdown.removeClass("hide"),c&&this.element.append(this.dropdown.find("li")).find(">li:visible").not(".tabdrop").each(function(){this.offsetTop>0&&b.push(this)}),b.length>0?(b=a(b),this.dropdown.find("ul").empty().append(b),1==this.dropdown.find(".active").length?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide");var d=this.select.find("select");d.css("width",""),d.trigger("update")},checkActiveTab:function(){var b=this.element.find("li.active"),c=b;if(0==b.length){var d=this.element.find("li:not(.tabbable-title)");if(!(d.length>0))return;c=a(d[0]),c.addClass("active")}var e=c.find("a").attr("href");if("#"==e[0]){var f=e.substring(1),g=this.element.closest(".tabbable");0==g.length&&(g=this.element.closest(".tabs"));var h=g.find("#"+f);h.length>0&&a(h[0]).addClass("active").siblings().removeClass("active"),this.triggerTabChangeEvent(f)}},initSmallTabs:function(b){for(var c='<div class="small-tab-selector dropdown-gray"><select>',d=this.element.find("li:not(.hidden-small)"),e=0;e<d.length;e++){var f=a(d[e]);if(!f.hasClass("tabbable-title")){var g=f.find("a"),h="<option "+(f.hasClass("active")?"selected ":"")+'value="'+g.attr("href")+'">'+g.html()+"</option>";c+=h}}c+="</select></div>",this.select=a(c).insertAfter(this.element.parent());var i=this,j=this.select.find("select");j.find("option").length<2&&j.attr("disabled","disabled"),j.bind("change",function(b){var c=a(b.currentTarget),d=c.val();if("#"==d[0]){var e=d.substring(1),f=i.element.find("li a[href="+d+"]");f.parent().addClass("active").siblings().removeClass("active");var g=c.closest(".tabbable").find("#"+e);g.addClass("active").siblings().removeClass("active"),setTimeout(function(){i.triggerTabChangeEvent(e)},100)}else window.location.assign(d)}),b&&this.element.on("tabChange",a.proxy(function(a,b){this.select.find("select").trigger("chosen:updated")},this)),this.select.find("select").chosen({width:"100%",disable_search_threshold:10})},initAdvAPI:function(){var a=this.element.parent(),b=a.find(".js-ad");if(b.length){var c=b.data("ad-api");if(c){var d=this;c.onRender=function(b){var c=b.getContentSize(),e=b.hasContent()?c.width+30:0,f=parseInt(a.css("padding-right").replace("px",""));f!=e&&(a.css("padding-right",e),d.layout())}}}},triggerTabChangeEvent:function(a){this.element.trigger("tabChange",a)},checkTabSource:function(){var b=this;this.element.find("a").bind("show",function(c){var d=a(c.currentTarget),e=d.attr("href");"#"!=e[0]?(window.location.assign(e),c.preventDefault()):(b.select&&b.select.find("select").val(e),setTimeout(function(){b.triggerTabChangeEvent(e.substring(1))},100))})}},a.fn.tabdrop=function(b){return this.each(function(){var d=a(this),e=d.data("tabdrop"),f="object"==typeof b&&b;e||d.data("tabdrop",e=new c(this,a.extend({},a.fn.tabdrop.defaults,f))),"string"==typeof b&&e[b]()})},a.fn.tabdrop.defaults={text:'More<i class="icon-chevron-down"></i>'},a.fn.tabdrop.Constructor=c}(window.jQuery),function(a){var b={},c={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",adjustOnResize:!1,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};a.fn.bxSlider=function(d){if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).bxSlider(d)}),this;var e={},f=this;b.el=this;var g=a(window).width(),h=a(window).height(),j=function(){e.settings=a.extend({},c,d),e.settings.slideWidth=parseInt(e.settings.slideWidth),e.children=f.children(e.settings.slideSelector),e.children.length<e.settings.minSlides&&(e.settings.minSlides=e.children.length),e.children.length<e.settings.maxSlides&&(e.settings.maxSlides=e.children.length),e.settings.randomStart&&(e.settings.startSlide=Math.floor(Math.random()*e.children.length)),e.active={index:e.settings.startSlide},e.carousel=e.settings.minSlides>1||e.settings.maxSlides>1,e.carousel&&(e.settings.preloadImages="all"),e.minThreshold=e.settings.minSlides*e.settings.slideWidth+(e.settings.minSlides-1)*e.settings.slideMargin,e.maxThreshold=e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin,e.working=!1,e.controls={},e.interval=null,e.animProp="vertical"==e.settings.mode?"top":"left",e.usingCSS=e.settings.useCSS&&"fade"!=e.settings.mode&&function(){var a=document.createElement("div"),b=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return e.cssPrefix=b[c].replace("Perspective","").toLowerCase(),e.animProp="-"+e.cssPrefix+"-transform",!0;return!1}(),"vertical"==e.settings.mode&&(e.settings.maxSlides=e.settings.minSlides),f.data("origStyle",f.attr("style")),f.children(e.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),k()},k=function(){f.wrap('<div class="'+e.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),e.viewport=f.parent(),e.loader=a('<div class="bx-loading" />'),e.viewport.prepend(e.loader),f.css({width:"horizontal"==e.settings.mode?100*e.children.length+215+"%":"auto",position:"relative"}),e.usingCSS&&e.settings.easing?f.css("-"+e.cssPrefix+"-transition-timing-function",e.settings.easing):e.settings.easing||(e.settings.easing="swing");q();e.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),e.viewport.parent().css({maxWidth:o()}),e.settings.pager||e.viewport.parent().css({margin:"0 auto 0px"}),e.children.css({"float":"horizontal"==e.settings.mode?"left":"none",listStyle:"none",position:"relative"}),e.children.css("width",p()),"horizontal"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginRight",e.settings.slideMargin),"vertical"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginBottom",e.settings.slideMargin),"fade"==e.settings.mode&&(e.children.css({position:"absolute",zIndex:0,display:"none"}),e.children.eq(e.settings.startSlide).css({zIndex:e.settings.slideZIndex,display:"block"})),e.controls.el=a('<div class="bx-controls" />'),e.settings.captions&&z(),e.active.last=e.settings.startSlide==r()-1,e.settings.video&&f.fitVids();var b=e.children.eq(e.settings.startSlide);"all"==e.settings.preloadImages&&(b=e.children),e.settings.ticker?e.settings.pager=!1:(e.settings.pager&&w(),e.settings.controls&&x(),e.settings.auto&&e.settings.autoControls&&y(),(e.settings.controls||e.settings.autoControls||e.settings.pager)&&e.viewport.after(e.controls.el)),l(b,m)},l=function(b,c){var d=b.find("img, iframe").length;if(0==d)return void c();var e=0;b.find("img, iframe").each(function(){a(this).one("load",function(){++e==d&&c()}).each(function(){this.complete?a(this).load():a(this).attr("src",a(this).attr("src"))})})},m=function(){if(e.settings.infiniteLoop&&"fade"!=e.settings.mode&&!e.settings.ticker){var b="vertical"==e.settings.mode?e.settings.minSlides:e.settings.maxSlides,c=e.children.slice(0,b).clone().addClass("bx-clone"),d=e.children.slice(-b).clone().addClass("bx-clone");f.append(c).prepend(d)}e.loader.remove(),t(),"vertical"==e.settings.mode&&(e.settings.adaptiveHeight=!0),e.viewport.height(n()),f.redrawSlider(),e.settings.onSliderLoad(e.active.index),e.initialized=!0,e.settings.responsive&&a(window).bind("resize",Q),e.settings.auto&&e.settings.autoStart&&(r()>1||e.settings.autoSlideForOnePage)&&J(),e.settings.ticker&&K(),e.settings.pager&&F(e.settings.startSlide),e.settings.controls&&I(),e.settings.touchEnabled&&!e.settings.ticker&&M()},n=function(){var b=0,c=a();if("vertical"==e.settings.mode||e.settings.adaptiveHeight)if(e.carousel){var d=1==e.settings.moveSlides?e.active.index:e.active.index*s();for(c=e.children.eq(d),i=1;i<=e.settings.maxSlides-1;i++)c=c.add(d+i>=e.children.length?e.children.eq(i-1):e.children.eq(d+i))}else c=e.children.eq(e.active.index);else c=e.children;return"vertical"==e.settings.mode?(c.each(function(c){b+=a(this).outerHeight()}),e.settings.slideMargin>0&&(b+=e.settings.slideMargin*(e.settings.minSlides-1))):b=Math.max.apply(Math,c.map(function(){return a(this).outerHeight(!1)}).get()),"border-box"==e.viewport.css("box-sizing")?b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))+parseFloat(e.viewport.css("border-top-width"))+parseFloat(e.viewport.css("border-bottom-width")):"padding-box"==e.viewport.css("box-sizing")&&(b+=parseFloat(e.viewport.css("padding-top"))+parseFloat(e.viewport.css("padding-bottom"))),b},o=function(){var a="100%";return e.settings.slideWidth>0&&(a="horizontal"==e.settings.mode?e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin:e.settings.slideWidth),a},p=function(){var a=e.settings.slideWidth,b=e.viewport.width();return 0==e.settings.slideWidth||e.settings.slideWidth>b&&!e.carousel||"vertical"==e.settings.mode?a=b:e.settings.maxSlides>1&&"horizontal"==e.settings.mode&&(b>e.maxThreshold||b<e.minThreshold&&(a=(b-e.settings.slideMargin*(e.settings.minSlides-1))/e.settings.minSlides)),a},q=function(){var a=1;if("horizontal"==e.settings.mode&&e.settings.slideWidth>0)if(e.viewport.width()<e.minThreshold)a=e.settings.minSlides;else if(e.viewport.width()>e.maxThreshold)a=e.settings.maxSlides;else{var b=e.children.first().width()+e.settings.slideMargin;a=Math.floor((e.viewport.width()+e.settings.slideMargin)/b)}else"vertical"==e.settings.mode&&(a=e.settings.minSlides);return a},r=function(){var a=0;if(e.settings.moveSlides>0)if(e.settings.infiniteLoop)a=Math.ceil(e.children.length/s());else for(var b=0,c=0;b<e.children.length;)++a,b=c+q(),c+=e.settings.moveSlides<=q()?e.settings.moveSlides:q();else a=Math.ceil(e.children.length/q());return a},s=function(){return e.settings.moveSlides>0&&e.settings.moveSlides<=q()?e.settings.moveSlides:q()},t=function(){if(e.children.length>=e.settings.maxSlides&&e.active.last&&!e.settings.infiniteLoop||e.settings.adjustOnResize){if("horizontal"==e.settings.mode){var a=e.children.last(),b=a.position();u(-(b.left-(e.viewport.width()-a.outerWidth())),"reset",0)}else if("vertical"==e.settings.mode){var c=e.children.length-e.settings.minSlides,b=e.children.eq(c).position();u(-b.top,"reset",0)}}else{var b=e.children.eq(e.active.index*s()).position();e.active.index==r()-1&&(e.active.last=!0),void 0!=b&&("horizontal"==e.settings.mode?u(-b.left,"reset",0):"vertical"==e.settings.mode&&u(-b.top,"reset",0))}},u=function(b,c,d,g){if(e.usingCSS){var h="vertical"==e.settings.mode?"translate3d(0, "+b+"px, 0)":"translate3d("+b+"px, 0, 0)",i=f.css(e.animProp),j="matrix(1, 0, 0, 1, "+("vertical"==e.settings.mode?"0, "+b:b+", 0")+")";0===i.indexOf("matrix3d")&&(j="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+("vertical"==e.settings.mode?"0, "+b:b+", 0")+", 0, 1)"),f.css("-"+e.cssPrefix+"-transition-duration",d/1e3+"s"),"slide"==c?(f.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a(this).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),G()}),f.css(e.animProp,h),j===i&&f.trigger("transitionend")):"reset"==c?f.css(e.animProp,h):"ticker"==c&&(f.css("-"+e.cssPrefix+"-transition-timing-function","linear"),f.css(e.animProp,h),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),u(g.resetValue,"reset",0),L()}))}else{var k={};k[e.animProp]=b,"slide"==c?f.animate(k,d,e.settings.easing,function(){G()}):"reset"==c?f.css(e.animProp,b):"ticker"==c&&f.animate(k,speed,"linear",function(){u(g.resetValue,"reset",0),L()})}},v=function(){for(var b="",c=r(),d=0;c>d;d++){var f="";e.settings.buildPager&&a.isFunction(e.settings.buildPager)?(f=e.settings.buildPager(d),e.pagerEl.addClass("bx-custom-pager")):(f=d+1,e.pagerEl.addClass("bx-default-pager")),b+='<div class="bx-pager-item"><a href="" data-slide-index="'+d+'" class="bx-pager-link">'+f+"</a></div>"}e.pagerEl.html(b)},w=function(){e.settings.pagerCustom?e.pagerEl=a(e.settings.pagerCustom):(e.pagerEl=a('<div class="bx-pager" />'),e.settings.pagerSelector?a(e.settings.pagerSelector).html(e.pagerEl):e.controls.el.addClass("bx-has-pager").append(e.pagerEl),v()),e.pagerEl.on("click","a",E)},x=function(){e.controls.next=a('<a class="bx-next" href="">'+e.settings.nextText+"</a>"),e.controls.prev=a('<a class="bx-prev" href="">'+e.settings.prevText+"</a>"),e.controls.next.bind("click",A),e.controls.prev.bind("click",B),e.settings.nextSelector&&a(e.settings.nextSelector).append(e.controls.next),e.settings.prevSelector&&a(e.settings.prevSelector).append(e.controls.prev),e.settings.nextSelector||e.settings.prevSelector||(e.controls.directionEl=a('<div class="bx-controls-direction" />'),e.controls.directionEl.append(e.controls.prev).append(e.controls.next),e.controls.el.addClass("bx-has-controls-direction").append(e.controls.directionEl))},y=function(){e.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+e.settings.startText+"</a></div>"),e.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+e.settings.stopText+"</a></div>"),e.controls.autoEl=a('<div class="bx-controls-auto" />'),e.controls.autoEl.on("click",".bx-start",C),e.controls.autoEl.on("click",".bx-stop",D),e.settings.autoControlsCombine?e.controls.autoEl.append(e.controls.start):e.controls.autoEl.append(e.controls.start).append(e.controls.stop),e.settings.autoControlsSelector?a(e.settings.autoControlsSelector).html(e.controls.autoEl):e.controls.el.addClass("bx-has-controls-auto").append(e.controls.autoEl),H(e.settings.autoStart?"stop":"start")},z=function(){e.children.each(function(b){var c=a(this).find("img:first").attr("title");void 0!=c&&(""+c).length&&a(this).append('<div class="bx-caption"><span>'+c+"</span></div>")})},A=function(a){e.settings.auto&&f.stopAuto(),f.goToNextSlide(),a.preventDefault()},B=function(a){e.settings.auto&&f.stopAuto(),f.goToPrevSlide(),a.preventDefault()},C=function(a){f.startAuto(),a.preventDefault()},D=function(a){f.stopAuto(),a.preventDefault()},E=function(b){e.settings.auto&&f.stopAuto();var c=a(b.currentTarget);if(void 0!==c.attr("data-slide-index")){var d=parseInt(c.attr("data-slide-index"));d!=e.active.index&&f.goToSlide(d),b.preventDefault()}},F=function(b){var c=e.children.length;return"short"==e.settings.pagerType?(e.settings.maxSlides>1&&(c=Math.ceil(e.children.length/e.settings.maxSlides)),void e.pagerEl.html(b+1+e.settings.pagerShortSeparator+c)):(e.pagerEl.find("a").removeClass("active"),void e.pagerEl.each(function(c,d){a(d).find("a").eq(b).addClass("active")}))},G=function(){if(e.settings.infiniteLoop){var a="";0==e.active.index?a=e.children.eq(0).position():e.active.index==r()-1&&e.carousel?a=e.children.eq((r()-1)*s()).position():e.active.index==e.children.length-1&&(a=e.children.eq(e.children.length-1).position()),a&&("horizontal"==e.settings.mode?u(-a.left,"reset",0):"vertical"==e.settings.mode&&u(-a.top,"reset",0))}e.working=!1,e.settings.onSlideAfter(e.children.eq(e.active.index),e.oldIndex,e.active.index)},H=function(a){e.settings.autoControlsCombine?e.controls.autoEl.html(e.controls[a]):(e.controls.autoEl.find("a").removeClass("active"),e.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},I=function(){1==r()?(e.controls.prev.addClass("disabled"),e.controls.next.addClass("disabled")):!e.settings.infiniteLoop&&e.settings.hideControlOnEnd&&(0==e.active.index?(e.controls.prev.addClass("disabled"),e.controls.next.removeClass("disabled")):e.active.index==r()-1?(e.controls.next.addClass("disabled"),e.controls.prev.removeClass("disabled")):(e.controls.prev.removeClass("disabled"),e.controls.next.removeClass("disabled")))},J=function(){if(e.settings.autoDelay>0){setTimeout(f.startAuto,e.settings.autoDelay)}else f.startAuto();e.settings.autoHover&&f.hover(function(){e.interval&&(f.stopAuto(!0),e.autoPaused=!0)},function(){e.autoPaused&&(f.startAuto(!0),e.autoPaused=null)})},K=function(){var b=0;if("next"==e.settings.autoDirection)f.append(e.children.clone().addClass("bx-clone"));else{f.prepend(e.children.clone().addClass("bx-clone"));var c=e.children.first().position();b="horizontal"==e.settings.mode?-c.left:-c.top}u(b,"reset",0),e.settings.pager=!1,e.settings.controls=!1,e.settings.autoControls=!1,e.settings.tickerHover&&!e.usingCSS&&e.viewport.hover(function(){f.stop()},function(){var b=0;e.children.each(function(c){b+="horizontal"==e.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var c=e.settings.speed/b,d="horizontal"==e.settings.mode?"left":"top",g=c*(b-Math.abs(parseInt(f.css(d))));L(g)}),L()},L=function(a){speed=a?a:e.settings.speed;var b={left:0,top:0},c={left:0,top:0};"next"==e.settings.autoDirection?b=f.find(".bx-clone").first().position():c=e.children.first().position();var d="horizontal"==e.settings.mode?-b.left:-b.top,g="horizontal"==e.settings.mode?-c.left:-c.top,h={resetValue:g};u(d,"ticker",speed,h)},M=function(){e.touch={start:{x:0,y:0},end:{x:0,y:0}},e.viewport.bind("touchstart",N)},N=function(a){if(e.working)a.preventDefault();else{e.touch.originalPos=f.position();var b=a.originalEvent;e.touch.start.x=b.changedTouches[0].pageX,e.touch.start.y=b.changedTouches[0].pageY,e.viewport.bind("touchmove",O),e.viewport.bind("touchend",P)}},O=function(a){var b=a.originalEvent,c=Math.abs(b.changedTouches[0].pageX-e.touch.start.x),d=Math.abs(b.changedTouches[0].pageY-e.touch.start.y);if(3*c>d&&e.settings.preventDefaultSwipeX?a.preventDefault():3*d>c&&e.settings.preventDefaultSwipeY&&a.preventDefault(),"fade"!=e.settings.mode&&e.settings.oneToOneTouch){var f=0;if("horizontal"==e.settings.mode){var g=b.changedTouches[0].pageX-e.touch.start.x;f=e.touch.originalPos.left+g}else{var g=b.changedTouches[0].pageY-e.touch.start.y;f=e.touch.originalPos.top+g}u(f,"reset",0)}},P=function(a){e.viewport.unbind("touchmove",O);var b=a.originalEvent,c=0;if(e.touch.end.x=b.changedTouches[0].pageX,e.touch.end.y=b.changedTouches[0].pageY,"fade"==e.settings.mode){var d=Math.abs(e.touch.start.x-e.touch.end.x);d>=e.settings.swipeThreshold&&(e.touch.start.x>e.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto())}else{var d=0;"horizontal"==e.settings.mode?(d=e.touch.end.x-e.touch.start.x,c=e.touch.originalPos.left):(d=e.touch.end.y-e.touch.start.y,c=e.touch.originalPos.top),!e.settings.infiniteLoop&&(0==e.active.index&&d>0||e.active.last&&0>d)?u(c,"reset",200):Math.abs(d)>=e.settings.swipeThreshold?(0>d?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):u(c,"reset",200)}e.viewport.unbind("touchend",P)},Q=function(b){if(e.initialized){var c=a(window).width(),d=a(window).height();(g!=c||h!=d)&&(g=c,h=d,f.redrawSlider(),e.working=!1,e.settings.onSliderResize.call(f,e.active.index))}};return f.goToSlide=function(b,c){if(!e.working&&e.active.index!=b)if(e.working=!0,e.oldIndex=e.active.index,0>b?e.active.index=r()-1:b>=r()?e.active.index=0:e.active.index=b,e.settings.onSlideBefore(e.children.eq(e.active.index),e.oldIndex,e.active.index),"next"==c?e.settings.onSlideNext(e.children.eq(e.active.index),e.oldIndex,e.active.index):"prev"==c&&e.settings.onSlidePrev(e.children.eq(e.active.index),e.oldIndex,e.active.index),e.active.last=e.active.index>=r()-1,e.settings.pager&&F(e.active.index),e.settings.controls&&I(),"fade"==e.settings.mode)e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed),e.children.filter(":visible").fadeOut(e.settings.speed).css({zIndex:0}),e.children.eq(e.active.index).css("zIndex",e.settings.slideZIndex+1).fadeIn(e.settings.speed,function(){a(this).css("zIndex",e.settings.slideZIndex),G()});else{e.settings.adaptiveHeight&&e.viewport.height()!=n()&&e.viewport.animate({height:n()},e.settings.adaptiveHeightSpeed);var d=0,g={left:0,top:0};if(!e.settings.infiniteLoop&&e.carousel&&e.active.last)if("horizontal"==e.settings.mode){var h=e.children.eq(e.children.length-1);g=h.position(),d=e.viewport.width()-h.outerWidth()}else{var i=e.children.length-e.settings.minSlides;g=e.children.eq(i).position()}else if(e.carousel&&e.active.last&&"prev"==c){var j=1==e.settings.moveSlides?e.settings.maxSlides-s():(r()-1)*s()-(e.children.length-e.settings.maxSlides),h=f.children(".bx-clone").eq(j);g=h.position()}else if("next"==c&&0==e.active.index)g=f.find("> .bx-clone").eq(e.settings.maxSlides).position(),e.active.last=!1;else if(b>=0){var k=b*s();g=e.children.eq(k).position()}if("undefined"!=typeof g){var l="horizontal"==e.settings.mode?-(g.left-d):-g.top;u(l,"slide",e.settings.speed)}}},f.goToNextSlide=function(){if(e.settings.infiniteLoop||!e.active.last){var a=parseInt(e.active.index)+1;f.goToSlide(a,"next")}},f.goToPrevSlide=function(){if(e.settings.infiniteLoop||0!=e.active.index){var a=parseInt(e.active.index)-1;f.goToSlide(a,"prev")}},f.startAuto=function(a){e.interval||(e.interval=setInterval(function(){"next"==e.settings.autoDirection?f.goToNextSlide():f.goToPrevSlide()},e.settings.pause),e.settings.autoControls&&1!=a&&H("stop"))},f.stopAuto=function(a){e.interval&&(clearInterval(e.interval),e.interval=null,e.settings.autoControls&&1!=a&&H("start"))},f.getCurrentSlide=function(){return e.active.index},f.getCurrentSlideElement=function(){return e.children.eq(e.active.index)},f.getSlideCount=function(){return e.children.length},f.redrawSlider=function(){e.children.add(f.find(".bx-clone")).width(p()),e.viewport.css("height",n()),e.settings.ticker||t(),e.active.last&&(e.active.index=r()-1),e.active.index>=r()&&(e.active.last=!0),e.settings.pager&&!e.settings.pagerCustom&&(v(),F(e.active.index))},f.destroySlider=function(){e.initialized&&(e.initialized=!1,a(".bx-clone",this).remove(),e.children.each(function(){void 0!=a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),void 0!=a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),e.controls.el&&e.controls.el.remove(),e.controls.next&&e.controls.next.remove(),e.controls.prev&&e.controls.prev.remove(),e.pagerEl&&e.settings.controls&&e.pagerEl.remove(),a(".bx-caption",this).remove(),e.controls.autoEl&&e.controls.autoEl.remove(),clearInterval(e.interval),e.settings.responsive&&a(window).unbind("resize",Q))},f.reloadSlider=function(a){void 0!=a&&(d=a),f.destroySlider(),j()},j(),this}}(jQuery),function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),d.select_to_array=function(a){var b,c,e,f,g;for(c=new d,g=a.childNodes,e=0,f=g.length;f>e;e++)b=g[e],c.add_node(b);return c.parsed},b=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},a.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(a){var b=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return b.blur_test()},100))},a.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):""},a.prototype.result_add_group=function(a){var b;return(a.search_match||a.group_match)&&a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):""},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.selected?a.selected=!1:void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data,j=0,k=l.length;k>j;j++)b=l[j],b.search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],0===e.active_options&&e.search_match&&(d+=1),e.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.text,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=e&&(e.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>d&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b;
return b=this.search_contains?"":"^",new RegExp(b+a,"i")},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(a){var b=this;return setTimeout(function(){return b.results_search()},50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),a=jQuery,a.fn.extend({chosen:function(d){return b.browser_is_supported()?this.each(function(b){var e,f;e=a(this),f=e.data("chosen"),"destroy"===d&&f instanceof c?f.destroy():f instanceof c||e.data("chosen",new c(this,d))}):this}}),c=function(b){function c(){return e=c.__super__.constructor.apply(this,arguments)}return g(c,b),c.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},c.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.$dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},c.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){a.container_mousedown(b)}),this.container.bind("touchend.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},c.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},c.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},c.prototype.container_mousedown=function(b){if(!this.is_disabled){if(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),0===window.navigator.msMaxTouchPoints&&"touchstart"===b.type)return;if(null==b||!a(b.target).hasClass("search-choice-close"))return this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()}},c.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},c.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},c.prototype.blur_test=function(a){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},c.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},c.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},c.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},c.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=d.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},c.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},c.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},c.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},c.prototype.update_results_content=function(a){return this.search_results.html(a)},c.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},c.prototype.set_tab_index=function(a){var b;return this.form_field.tabIndex?(b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b):void 0},c.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},c.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},c.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},c.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},c.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},c.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},c.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},c.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},c.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},c.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},c.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},c.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},c.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},c.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},c.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},c.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},c.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},c.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},c.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},c.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},c.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},c.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},c.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},c}(b)}.call(this),function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","jquery.ui.widget","jquery.iframe-transport","jquery.fileupload"],a);else{var b=window.jQuery;a(b),b(function(){void 0!==b.fn.cloudinary_fileupload&&b("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()})}}(function(a){"use strict";function b(a){if(null===a||"undefined"==typeof a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;f>g;g++){var h=d.charCodeAt(g),i=null;128>h?c++:i=h>127&&2048>h?String.fromCharCode(h>>6|192,63&h|128):String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128),null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e}function c(a){a=b(a);var c="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",d=0,e=0,f=0;d=-1^d;for(var g=0,h=a.length;h>g;g++)f=255&(d^a.charCodeAt(g)),e="0x"+c.substr(9*f,8),d=d>>>8^e;return d=-1^d,0>d&&(d+=4294967296),d}function d(a,b,c){var d=a[b];return delete a[b],"undefined"==typeof d?c:d}function e(b){return b?a.isArray(b)?b:[b]:[]}function f(a){return"undefined"!=typeof a&&(""+a).length>0}function g(b){for(var c=e(b.transformation),d=!0,f=0;f<c.length;f++)d=d&&"string"==typeof c[f];if(d)return[];delete b.transformation;for(var g=[],f=0;f<c.length;f++){var h=c[f];g.push("string"==typeof h?"t_"+h:j(a.extend({},h)))}return g}function h(a){var b=d(a,"size");if(b){var c=b.split("x");a.width=c[0],a.height=c[1]}}function i(a){var b=a.width,c=a.height,d=a.overlay||a.underlay,e=a.crop,f=!d&&!a.angle&&"fit"!=e&&"limit"!=e&&"lfill"!=e;f&&(b&&!a.html_width&&"auto"!==b&&parseFloat(b)>=1&&(a.html_width=b),c&&!a.html_height&&parseFloat(c)>=1&&(a.html_height=c)),e||d||(delete a.width,delete a.height)}function j(a){var b=g(a);h(a),i(a);var c=[];for(var e in t){var j=d(a,e);f(j)&&(u[e]&&(j=u[e](j)),f(j)&&c.push(t[e]+"_"+j))}c.sort();var k=d(a,"raw_transformation");f(k)&&c.push(k);var l=c.join(",");return f(l)&&b.push(l),b.join("/")}function k(a){if(!a.match(/^https?:\//)){var b=document.location.protocol+"//"+document.location.host;"?"==a[0]?b+=document.location.pathname:"/"!=a[0]&&(b+=document.location.pathname.replace(/\/[^\/]*$/,"/")),a=b+a}return a}function l(b,e){e=e||{};var g=d(e,"type","upload");"fetch"==g&&(e.fetch_format=e.fetch_format||d(e,"format"));var h=j(e),i=d(e,"resource_type","image"),l=d(e,"version"),m=d(e,"format"),n=d(e,"cloud_name",a.cloudinary.config().cloud_name);if(!n)throw"Unknown cloud_name";var o=d(e,"private_cdn",a.cloudinary.config().private_cdn),p=d(e,"secure_distribution",a.cloudinary.config().secure_distribution),r=d(e,"cname",a.cloudinary.config().cname),t=d(e,"cdn_subdomain",a.cloudinary.config().cdn_subdomain),u=d(e,"shorten",a.cloudinary.config().shorten),v=d(e,"secure","https:"==window.location.protocol),w=d(e,"protocol",a.cloudinary.config().protocol),x=d(e,"trust_public_id");if("fetch"==g&&(b=k(b)),b.match(/^https?:/)){if("upload"==g||"asset"==g)return b;b=encodeURIComponent(b).replace(/%3A/g,":").replace(/%2F/g,"/")}else b=encodeURIComponent(decodeURIComponent(b)).replace(/%3A/g,":").replace(/%2F/g,"/"),m&&(x||(b=b.replace(/\.(jpg|jpeg|png|gif|webp)$/,"")),b=b+"."+m);var y=v?"https://":"file:"===window.location.protocol?"file://":"http://";if(y=w?w+"//":y,n.match(/^\//)&&!v)y="/res"+n;else{var z=!o;if(v)p&&p!=q||(p=o?n+"-res.cloudinary.com":s),z=z||p==s,y+=p;else{var A=t?"a"+(c(b)%5+1)+".":"",B=r||(o?n+"-res.cloudinary.com":"res.cloudinary.com");y+=A+B}z&&(y+="/"+n)}u&&"image"==i&&"upload"==g&&(i="iu",g=void 0),b.search("/")>=0&&!b.match(/^v[0-9]+/)&&!b.match(/^https?:\//)&&!f(l)&&(l=1);var C=[y,i,g,h,l?"v"+l:"",b].join("/").replace(/([^:])\/+/g,"$1/");return C}function m(a){return 10*Math.ceil(a/10)}function n(b,c){a.cloudinary.config("dpr")&&!c.dpr&&(c.dpr=a.cloudinary.config("dpr"));var e=l(b,c),f=d(c,"html_width"),g=d(c,"html_height");return f&&(c.width=f),g&&(c.height=g),e}function o(b,c,d){var e=c[b]||a.cloudinary.config(b);return"undefined"==typeof e&&(e=d),e}var p="d3jpl91pxevbkh.cloudfront.net",q="cloudinary-a.akamaihd.net",r="res.cloudinary.com",s=r,t={angle:"a",background:"b",border:"bo",color:"co",color_space:"cs",crop:"c",default_image:"d",delay:"dl",density:"dn",dpr:"dpr",effect:"e",fetch_format:"f",flags:"fl",gravity:"g",height:"h",opacity:"o",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",transformation:"t",underlay:"u",width:"w",x:"x",y:"y"},u={angle:function(a){return e(a).join(".")},background:function(a){return a.replace(/^#/,"rgb:")},border:function(b){if(a.isPlainObject(b)){var c=""+(b.width||2),d=(b.color||"black").replace(/^#/,"rgb:");b=c+"px_solid_"+d}return b},color:function(a){return a.replace(/^#/,"rgb:")},dpr:function(a){return a=a.toString(),"auto"===a?"1.0":a.match(/^\d+$/)?a+".0":a},effect:function(a){return e(a).join(":")},flags:function(a){return e(a).join(".")},transformation:function(a){return e(a).join(".")}},v=null,w=null,x=!1,y={};a.cloudinary={CF_SHARED_CDN:p,OLD_AKAMAI_SHARED_CDN:q,AKAMAI_SHARED_CDN:r,SHARED_CDN:s,config:function(b,c){if(v||(v={},a('meta[name^="cloudinary_"]').each(function(){v[a(this).attr("name").replace("cloudinary_","")]=a(this).attr("content")})),"undefined"!=typeof c)v[b]=c;else{if("string"==typeof b)return v[b];b&&(v=b)}return v},url:function(b,c){return c=a.extend({},c),l(b,c)},url_internal:l,transformation_string:function(b){return b=a.extend({},b),j(b)},image:function(b,c){c=a.extend({},c);var d=n(b,c),e=a("<img/>").data("src-cache",d).attr(c).cloudinary_update(c);return e},facebook_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"facebook"},c))},twitter_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"twitter"},c))},twitter_name_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"twitter_name"},c))},gravatar_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"gravatar"},c))},fetch_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"fetch"},c))},sprite_css:function(b,c){return c=a.extend({type:"sprite"},c),b.match(/.css$/)||(c.format="css"),a.cloudinary.url(b,c)},responsive:function(b){w=a.extend(w||{},b),a("img.cld-responsive, img.cld-hidpi").cloudinary_update(w);var c=o("responsive_resize",w,!0);if(c&&!x){w.resizing=x=!0;var d=null;a(window).on("resize",function(){function b(){d&&(clearTimeout(d),d=null)}function c(){a("img.cld-responsive").cloudinary_update(w)}function e(){b(),setTimeout(function(){b(),c()},f)}var f=o("responsive_debounce",w,100);f?e():c()})}},calc_stoppoint:function(b,c){var d=a(b).data("stoppoints")||a.cloudinary.config().stoppoints||m;if("function"==typeof d)return d(c);"string"==typeof d&&(d=a.map(d.split(","),function(a){return parseInt(a)}));for(var e=d.length-2;e>=0&&d[e]>=c;)e--;return d[e+1]},device_pixel_ratio:function(){var a=window.devicePixelRatio||1,b=y[a];return b||(b=a.toString(),b.match(/^\d+$/)&&(b+=".0"),y[a]=b),b}},a.fn.cloudinary=function(b){return this.filter("img").each(function(){var c=a.extend({width:a(this).attr("width"),height:a(this).attr("height"),src:a(this).attr("src")},a(this).data(),b),e=d(c,"source",d(c,"src")),f=n(e,c);a(this).data("src-cache",f).attr({width:c.width,height:c.height})}).cloudinary_update(b),this},a.fn.cloudinary_update=function(b){b=b||{};var c=o("responsive_use_stoppoints",b,"resize"),d=c===!1||"resize"==c&&!b.resizing;return this.filter("img").each(function(){b.responsive&&a(this).addClass("cld-responsive");var c={},e=a(this).data("src-cache")||a(this).data("src");if(e){var f=a(this).hasClass("cld-responsive")&&e.match(/\bw_auto\b/);if(f){var g=a(this).parent()[0],h=g?g.clientWidth:0;if(0==h)return;var i=d?h:a.cloudinary.calc_stoppoint(this,h),j=a(this).data("width")||0;i>j?a(this).data("width",i):i=j,e=e.replace(/\bw_auto\b/g,"w_"+i),c.width=null,c.height=null}c.src=e.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+a.cloudinary.device_pixel_ratio()),a(this).attr(c)}}),this};var z=null;a.fn.webpify=function(b,c){var d=this;if(b=b||{},c=c||b,!z){z=a.Deferred();var e=new Image;e.onerror=z.reject,e.onload=z.resolve,e.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}return a(function(){z.done(function(){a(d).cloudinary(a.extend({},c,{format:"webp"}))}).fail(function(){a(d).cloudinary(b)})}),this},a.fn.fetchify=function(b){return this.cloudinary(a.extend(b,{type:"fetch"}))},a.fn.fileupload&&(a.cloudinary.delete_by_token=function(b,c){c=c||{};var d=c.url;if(!d){var e=c.cloud_name||a.cloudinary.config().cloud_name;d="https://api.cloudinary.com/v1_1/"+e+"/delete_by_token"}var f=a.support.xhrFileUpload?"json":"iframe json";return a.ajax({url:d,method:"POST",data:{token:b},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:f})},a.fn.cloudinary_fileupload=function(b){var c=!this.data("blueimpFileupload");if(c&&(b=a.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},b)),this.fileupload(b),c&&(this.bind("fileuploaddone",function(b,c){if(!c.result.error){if(c.result.path=["v",c.result.version,"/",c.result.public_id,c.result.format?"."+c.result.format:""].join(""),c.cloudinaryField&&c.form.length>0){var d=[c.result.resource_type,c.result.type,c.result.path].join("/")+"#"+c.result.signature,e=a(b.target).prop("multiple"),f=function(){a("<input></input>").attr({type:"hidden",name:c.cloudinaryField}).val(d).appendTo(c.form)};if(e)f();else{var g=a(c.form).find('input[name="'+c.cloudinaryField+'"]');g.length>0?g.val(d):f()}}a(b.target).trigger("cloudinarydone",c)}}),this.bind("fileuploadstart",function(b){a(b.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(b){a(b.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(b,c){a(b.target).trigger("cloudinaryprogress",c)}),this.bind("fileuploadprogressall",function(b,c){a(b.target).trigger("cloudinaryprogressall",c)}),this.bind("fileuploadfail",function(b,c){a(b.target).trigger("cloudinaryfail",c)}),this.bind("fileuploadalways",function(b,c){a(b.target).trigger("cloudinaryalways",c)}),!this.fileupload("option").url)){var d=b.cloud_name||a.cloudinary.config().cloud_name,e="https://api.cloudinary.com/v1_1/"+d+"/upload";this.fileupload("option","url",e)}return this},a.fn.cloudinary_upload_url=function(a){this.fileupload("option","formData").file=a,this.fileupload("add",{files:[a]}),delete this.fileupload("option","formData").file},a.fn.unsigned_cloudinary_upload=function(b,c,d){d=d||{},c=a.extend({},c)||{},c.cloud_name&&(d.cloud_name=c.cloud_name,delete c.cloud_name);for(var e in c){var f=c[e];a.isPlainObject(f)?c[e]=a.map(f,function(a,b){
return b+"="+a}).join("|"):a.isArray(f)&&(f.length>0&&a.isArray(f[0])?c[e]=a.map(f,function(a){return a.join(",")}).join("|"):c[e]=f.join(","))}c.callback||(c.callback="/cloudinary_cors.html"),c.upload_preset=b,d.formData=c,d.cloudinary_field&&(d.cloudinaryField=d.cloudinary_field,delete d.cloudinary_field);var g=d.html||{};return g["class"]="cloudinary_fileupload "+(g["class"]||""),d.multiple&&(g.multiple=!0),this.attr(g).cloudinary_fileupload(d),this},a.cloudinary.unsigned_upload_tag=function(b,c,d){return a("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(b,c,d)})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),!function(a,b){var c=function(c){return a(c,b)};"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(a,b,c){a.fn.jScrollPane=function(d){function e(d,e){function f(b){var e,h,j,l,m,n,q=!1,r=!1;if(P=b,Q===c)m=d.scrollTop(),n=d.scrollLeft(),d.css({overflow:"hidden",padding:0}),R=d.innerWidth()+ta,S=d.innerHeight(),d.width(R),Q=a('<div class="jspPane" />').css("padding",sa).append(d.children()),T=a('<div class="jspContainer" />').css({width:R+"px",height:S+"px"}).append(Q).appendTo(d);else{if(d.css("width",""),q=P.stickToBottom&&C(),r=P.stickToRight&&D(),l=d.innerWidth()+ta!=R||d.outerHeight()!=S,l&&(R=d.innerWidth()+ta,S=d.innerHeight(),T.css({width:R+"px",height:S+"px"})),!l&&ua==U&&Q.outerHeight()==V)return void d.width(R);ua=U,Q.css("width",""),d.width(R),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Q.css("overflow","auto"),U=b.contentWidth?b.contentWidth:Q[0].scrollWidth,V=Q[0].scrollHeight,Q.css("overflow",""),W=U/R,X=V/S,Y=X>1,Z=W>1,Z||Y?(d.addClass("jspScrollable"),e=P.maintainPosition&&(aa||da),e&&(h=A(),j=B()),g(),i(),k(),e&&(y(r?U-R:h,!1),x(q?V-S:j,!1)),H(),E(),N(),P.enableKeyboardNavigation&&J(),P.clickOnTrack&&o(),L(),P.hijackInternalLinks&&M()):(d.removeClass("jspScrollable"),Q.css({top:0,left:0,width:T.width()-ta}),F(),I(),K(),p()),P.autoReinitialise&&!ra?ra=setInterval(function(){f(P)},P.autoReinitialiseDelay):!P.autoReinitialise&&ra&&clearInterval(ra),m&&d.scrollTop(0)&&x(m,!1),n&&d.scrollLeft(0)&&y(n,!1),d.trigger("jsp-initialised",[Z||Y])}function g(){Y&&(T.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),ea=T.find(">.jspVerticalBar"),fa=ea.find(">.jspTrack"),$=fa.find(">.jspDrag"),P.showArrows&&(ja=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",m(0,-1)).bind("click.jsp",G),ka=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",m(0,1)).bind("click.jsp",G),P.arrowScrollOnHover&&(ja.bind("mouseover.jsp",m(0,-1,ja)),ka.bind("mouseover.jsp",m(0,1,ka))),l(fa,P.verticalArrowPositions,ja,ka)),ha=S,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ha-=a(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),$.addClass("jspActive");var c=b.pageY-$.position().top;return a("html").bind("mousemove.jsp",function(a){r(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),h())}function h(){fa.height(ha+"px"),aa=0,ga=P.verticalGutter+fa.outerWidth(),Q.width(R-ga-ta);try{0===ea.position().left&&Q.css("margin-left",ga+"px")}catch(a){}}function i(){Z&&(T.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),la=T.find(">.jspHorizontalBar"),ma=la.find(">.jspTrack"),ba=ma.find(">.jspDrag"),P.showArrows&&(pa=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",m(-1,0)).bind("click.jsp",G),qa=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",m(1,0)).bind("click.jsp",G),P.arrowScrollOnHover&&(pa.bind("mouseover.jsp",m(-1,0,pa)),qa.bind("mouseover.jsp",m(1,0,qa))),l(ma,P.horizontalArrowPositions,pa,qa)),ba.hover(function(){ba.addClass("jspHover")},function(){ba.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),ba.addClass("jspActive");var c=b.pageX-ba.position().left;return a("html").bind("mousemove.jsp",function(a){t(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),na=T.innerWidth(),j())}function j(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){na-=a(this).outerWidth()}),ma.width(na+"px"),da=0}function k(){if(Z&&Y){var b=ma.outerHeight(),c=fa.outerWidth();ha-=b,a(la).find(">.jspCap:visible,>.jspArrow").each(function(){na+=a(this).outerWidth()}),na-=c,S-=c,R-=b,ma.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),h(),j()}Z&&Q.width(T.outerWidth()-ta+"px"),V=Q.outerHeight(),X=V/S,Z&&(oa=Math.ceil(1/W*na),oa>P.horizontalDragMaxWidth?oa=P.horizontalDragMaxWidth:oa<P.horizontalDragMinWidth&&(oa=P.horizontalDragMinWidth),ba.width(oa+"px"),ca=na-oa,u(da)),Y&&(ia=Math.ceil(1/X*ha),ia>P.verticalDragMaxHeight?ia=P.verticalDragMaxHeight:ia<P.verticalDragMinHeight&&(ia=P.verticalDragMinHeight),$.height(ia+"px"),_=ha-ia,s(aa))}function l(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}function m(a,b,c){return function(){return n(a,b,this,c),this.blur(),!1}}function n(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&va.scrollByX(b*P.arrowButtonSpeed),0!==c&&va.scrollByY(c*P.arrowButtonSpeed),g=setTimeout(i,h?P.initialDelay:P.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}function o(){p(),Y&&fa.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageY-f.top-aa,h=!0,i=function(){var a=e.offset(),c=b.pageY-a.top-ia/2,f=S*P.scrollPagePercent,k=_*f/(V-S);if(0>g)aa-k>c?va.scrollByY(-f):r(c);else{if(!(g>0))return void j();c>aa+k?va.scrollByY(f):r(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}}),Z&&ma.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageX-f.left-da,h=!0,i=function(){var a=e.offset(),c=b.pageX-a.left-oa/2,f=R*P.scrollPagePercent,k=ca*f/(U-R);if(0>g)da-k>c?va.scrollByX(-f):t(c);else{if(!(g>0))return void j();c>da+k?va.scrollByX(f):t(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}})}function p(){ma&&ma.unbind("mousedown.jsp"),fa&&fa.unbind("mousedown.jsp")}function q(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),ba&&ba.removeClass("jspActive")}function r(a,b){Y&&(0>a?a=0:a>_&&(a=_),b===c&&(b=P.animateScroll),b?va.animate($,"top",a,s):($.css("top",a),s(a)))}function s(a){a===c&&(a=$.position().top),T.scrollTop(0),aa=a;var b=0===aa,e=aa==_,f=a/_,g=-f*(V-S);(wa!=b||ya!=e)&&(wa=b,ya=e,d.trigger("jsp-arrow-change",[wa,ya,xa,za])),v(b,e),Q.css("top",g),d.trigger("jsp-scroll-y",[-g,b,e]).trigger("scroll")}function t(a,b){Z&&(0>a?a=0:a>ca&&(a=ca),b===c&&(b=P.animateScroll),b?va.animate(ba,"left",a,u):(ba.css("left",a),u(a)))}function u(a){a===c&&(a=ba.position().left),T.scrollTop(0),da=a;var b=0===da,e=da==ca,f=a/ca,g=-f*(U-R);(xa!=b||za!=e)&&(xa=b,za=e,d.trigger("jsp-arrow-change",[wa,ya,xa,za])),w(b,e),Q.css("left",g),d.trigger("jsp-scroll-x",[-g,b,e]).trigger("scroll")}function v(a,b){P.showArrows&&(ja[a?"addClass":"removeClass"]("jspDisabled"),ka[b?"addClass":"removeClass"]("jspDisabled"))}function w(a,b){P.showArrows&&(pa[a?"addClass":"removeClass"]("jspDisabled"),qa[b?"addClass":"removeClass"]("jspDisabled"))}function x(a,b){var c=a/(V-S);r(c*_,b)}function y(a,b){var c=a/(U-R);t(c*ca,b)}function z(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}for(f=e.outerHeight(),g=e.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!e.is(".jspPane");)if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=B(),j=h+S,h>n||c?l=n-P.horizontalGutter:n+f>j&&(l=n-S+f+P.horizontalGutter),isNaN(l)||x(l,d),i=A(),k=i+R,i>o||c?m=o-P.horizontalGutter:o+g>k&&(m=o-R+g+P.horizontalGutter),isNaN(m)||y(m,d)}function A(){return-Q.position().left}function B(){return-Q.position().top}function C(){var a=V-S;return a>20&&a-B()<10}function D(){var a=U-R;return a>20&&a-A()<10}function E(){T.unbind(Ba).bind(Ba,function(a,b,c,d){var e=da,f=aa,g=a.deltaFactor||P.mouseWheelSpeed;return va.scrollBy(c*g,-d*g,!1),e==da&&f==aa})}function F(){T.unbind(Ba)}function G(){return!1}function H(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){z(a.target,!1)})}function I(){Q.find(":input,a").unbind("focus.jsp")}function J(){function b(){var a=da,b=aa;switch(c){case 40:va.scrollByY(P.keyboardSpeed,!1);break;case 38:va.scrollByY(-P.keyboardSpeed,!1);break;case 34:case 32:va.scrollByY(S*P.scrollPagePercent,!1);break;case 33:va.scrollByY(-S*P.scrollPagePercent,!1);break;case 39:va.scrollByX(P.keyboardSpeed,!1);break;case 37:va.scrollByX(-P.keyboardSpeed,!1)}return e=a!=da||b!=aa}var c,e,f=[];Z&&f.push(la[0]),Y&&f.push(ea[0]),Q.focus(function(){d.focus()}),d.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(d){if(d.target===this||f.length&&a(d.target).closest(f).length){var g=da,h=aa;switch(d.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=d.keyCode,b();break;case 35:x(V-S),c=null;break;case 36:x(0),c=null}return e=d.keyCode==c&&g!=da||h!=aa,!e}}).bind("keypress.jsp",function(a){return a.keyCode==c&&b(),!e}),P.hideFocus?(d.css("outline","none"),"hideFocus"in T[0]&&d.attr("hideFocus",!0)):(d.css("outline",""),"hideFocus"in T[0]&&d.attr("hideFocus",!1))}function K(){d.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function L(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash.substr(1));try{b=a("#"+d+', a[name="'+d+'"]')}catch(e){return}b.length&&Q.find(d)&&(0===T.scrollTop()?c=setInterval(function(){T.scrollTop()>0&&(z(b,!0),a(document).scrollTop(T.position().top),clearInterval(c))},50):(z(b,!0),a(document).scrollTop(T.position().top)))}}function M(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(c){var d,e,f,g,h,i,j=this.href.substr(0,this.href.indexOf("#")),k=location.href;if(-1!==location.href.indexOf("#")&&(k=location.href.substr(0,location.href.indexOf("#"))),j===k){d=escape(this.href.substr(this.href.indexOf("#")+1));try{e=a("#"+d+', a[name="'+d+'"]')}catch(l){return}e.length&&(f=e.closest(".jspScrollable"),g=f.data("jsp"),g.scrollToElement(e,!0),f[0].scrollIntoView&&(h=a(b).scrollTop(),i=e.offset().top,(h>i||i>h+a(b).height())&&f[0].scrollIntoView()),c.preventDefault())}}))}function N(){var a,b,c,d,e,f=!1;T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=A(),b=B(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=da,j=aa;return va.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==da&&j==aa}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}function O(){var a=B(),b=A();d.removeClass("jspScrollable").unbind(".jsp"),d.replaceWith(Aa.append(Q.children())),Aa.scrollTop(a),Aa.scrollLeft(b),ra&&clearInterval(ra)}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va=this,wa=!0,xa=!0,ya=!1,za=!1,Aa=d.clone(!1,!1).empty(),Ba=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===d.css("box-sizing")?(sa=0,ta=0):(sa=d.css("paddingTop")+" "+d.css("paddingRight")+" "+d.css("paddingBottom")+" "+d.css("paddingLeft"),ta=(parseInt(d.css("paddingLeft"),10)||0)+(parseInt(d.css("paddingRight"),10)||0)),a.extend(va,{reinitialise:function(b){b=a.extend({},P,b),f(b)},scrollToElement:function(a,b,c){z(a,b,c)},scrollTo:function(a,b,c){y(a,c),x(b,c)},scrollToX:function(a,b){y(a,b)},scrollToY:function(a,b){x(a,b)},scrollToPercentX:function(a,b){y(a*(U-R),b)},scrollToPercentY:function(a,b){x(a*(V-S),b)},scrollBy:function(a,b,c){va.scrollByX(a,c),va.scrollByY(b,c)},scrollByX:function(a,b){var c=A()+Math[0>a?"floor":"ceil"](a),d=c/(U-R);t(d*ca,b)},scrollByY:function(a,b){var c=B()+Math[0>a?"floor":"ceil"](a),d=c/(V-S);r(d*_,b)},positionDragX:function(a,b){t(a,b)},positionDragY:function(a,b){r(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:P.animateDuration,easing:P.animateEase,queue:!1,step:d})},getContentPositionX:function(){return A()},getContentPositionY:function(){return B()},getContentWidth:function(){return U},getContentHeight:function(){return V},getPercentScrolledX:function(){return A()/(U-R)},getPercentScrolledY:function(){return B()/(V-S)},getIsScrollableH:function(){return Z},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(a){r(_,a)},hijackInternalLinks:a.noop,destroy:function(){O()}}),f(e)}return d=a.extend({},a.fn.jScrollPane.defaults,d),a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed}),this.each(function(){var b=a(this),c=b.data("jsp");c?c.reinitialise(d):(a("script",b).filter('[type="text/javascript"],:not([type])').remove(),c=new e(b,d),b.data("jsp",c))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}},this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){"use strict";a.fn.selectOrDie=function(b){var c,d,e={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:a.noop},f={},g=!1,h={initSoD:function(b){return f=a.extend({},e,b),this.each(function(){if(a(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var b,c,d,e=a(this),g=e.data("custom-id")?e.data("custom-id"):f.customID,i=e.data("custom-class")?e.data("custom-class"):f.customClass,j=e.data("prefix")?e.data("prefix"):f.prefix,k=e.data("placeholder")?e.data("placeholder"):f.placeholder,l=e.data("placeholder-option")?e.data("placeholder-option"):f.placeholderOption,m=e.data("cycle")?e.data("cycle"):f.cycle,n=e.data("links")?e.data("links"):f.links,o=e.data("links-external")?e.data("links-external"):f.linksExternal,p=parseInt(e.data("size"))?e.data("size"):f.size,q=parseInt(e.data("tabindex"))?e.data("tabindex"):f.tabIndex?f.tabIndex:e.attr("tabindex")?e.attr("tabindex"):f.tabIndex,r=e.data("strip-empty")?e.data("strip-empty"):f.stripEmpty,s=e.prop("title")?e.prop("title"):null,t=e.is(":disabled")?" disabled":"",u="",v="",w=0;j&&(u='<span class="sod_prefix">'+j+"</span> "),v+=k&&!j?'<span class="sod_label sod_placeholder">'+k+"</span>":'<span class="sod_label">'+u+"</span>",b=a("<span/>",{id:g,"class":"sod_select "+i+t,title:s,tabindex:q,html:v,"data-cycle":m,"data-links":n,"data-links-external":o,"data-placeholder":k,"data-placeholder-option":l,"data-prefix":j,"data-filter":""}).insertAfter(this),h.isTouch()&&b.addClass("touch"),c=a("<span/>",{"class":"sod_list_wrapper"}).appendTo(b),d=a("<span/>",{"class":"sod_list"}).appendTo(c),a("option, optgroup",e).each(function(c){var e=a(this);r&&!a.trim(e.text())?e.remove():0===c&&l&&!u?h.populateSoD(e,d,b,!0):h.populateSoD(e,d,b,!1)}),p&&(c.show(),a(".sod_option:lt("+p+")",d).each(function(){w+=a(this).outerHeight()}),c.removeAttr("style"),d.css({"max-height":w})),e.appendTo(b),b.on("focusin",h.focusSod).on("click",h.triggerSod).on("click",".sod_option",h.optionClick).on("mousemove",".sod_option",h.optionHover).on("keydown",h.keyboardUse),e.on("change",h.selectChange),a(document).on("click","label[for='"+e.attr("id")+"']",function(a){a.preventDefault(),b.focus()})}})},populateSoD:function(b,c,d,e){var f=d.data("placeholder"),g=d.data("placeholder-option"),h=d.data("prefix"),i=d.find(".sod_label"),j=b.parent(),k=b.text(),l=b.val(),m=b.data("custom-id")?b.data("custom-id"):null,n=b.data("custom-class")?b.data("custom-class"):"",o=b.is(":disabled")?" disabled ":"",p=b.is(":selected")?" selected active ":"",q=b.data("link")?" link ":"",r=b.data("link-external")?" linkexternal":"",s=b.prop("label");b.is("option")?(a("<span/>",{"class":"sod_option "+n+o+p+q+r,id:m,title:k,html:k,"data-value":l}).appendTo(c),e&&!h?(d.data("label",k),d.data("placeholder",k),b.prop("disabled",!0),c.find(".sod_option:last").addClass("is-placeholder disabled"),p&&i.addClass("sod_placeholder")):p&&f&&!g&&!h?d.data("label",f):p&&d.data("label",k),(p&&!f||p&&g||p&&h)&&i.append(k),j.is("optgroup")&&(c.find(".sod_option:last").addClass("groupchild"),j.is(":disabled")&&c.find(".sod_option:last").addClass("disabled"))):a("<span/>",{"class":"sod_option optgroup "+o,title:s,html:s,"data-label":s}).appendTo(c)},focusSod:function(){var b=a(this);b.hasClass("disabled")?h.blurSod(b):(h.blurSod(a(".sod_select.focus").not(b)),b.addClass("focus"),a("html").on("click.sodBlur",function(){h.blurSod(b)}))},triggerSod:function(b){b.stopPropagation();var c=a(this),e=c.find(".sod_list"),f=c.data("placeholder"),g=c.find(".active"),i=c.find(".selected");c.hasClass("disabled")||c.hasClass("open")||c.hasClass("touch")?(clearTimeout(d),c.removeClass("open"),f&&(c.find(".sod_label").get(0).lastChild.nodeValue=g.text())):(c.addClass("open"),f&&!c.data("prefix")&&c.find(".sod_label").addClass("sod_placeholder").html(f),h.listScroll(e,i),h.checkViewport(c,e))},keyboardUse:function(b){var d,e,f,i=a(this),j=i.find(".sod_list"),k=i.find(".sod_option"),l=i.find(".sod_label"),m=i.data("cycle"),n=k.filter(".active");return b.which>36&&b.which<41?(37===b.which||38===b.which?(e=n.prevAll(":not('.disabled, .optgroup')").first(),f=k.not(".disabled, .optgroup").last()):(39===b.which||40===b.which)&&(e=n.nextAll(":not('.disabled, .optgroup')").first(),f=k.not(".disabled, .optgroup").first()),!e.hasClass("sod_option")&&m&&(e=f),(e.hasClass("sod_option")||m)&&(n.removeClass("active"),e.addClass("active"),l.get(0).lastChild.nodeValue=e.text(),h.listScroll(j,e),i.hasClass("open")||(g=!0)),!1):(13===b.which||32===b.which&&i.hasClass("open")&&(" "===i.data("filter")[0]||""===i.data("filter"))?(b.preventDefault(),n.click()):32!==b.which||i.hasClass("open")||" "!==i.data("filter")[0]&&""!==i.data("filter")?27===b.which&&h.blurSod(i):(b.preventDefault(),g=!1,i.click()),void(0!==b.which&&(clearTimeout(c),i.data("filter",i.data("filter")+String.fromCharCode(b.which)),d=k.filter(function(){return 0===a(this).text().toLowerCase().indexOf(i.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),d.length&&(n.removeClass("active"),d.addClass("active"),h.listScroll(j,d),l.get(0).lastChild.nodeValue=d.text(),i.hasClass("open")||(g=!0)),c=setTimeout(function(){i.data("filter","")},500))))},optionHover:function(){var b=a(this);b.hasClass("disabled")||b.hasClass("optgroup")||b.siblings().removeClass("active").end().addClass("active")},optionClick:function(b){b.stopPropagation();var c=a(this),e=c.closest(".sod_select"),f=c.hasClass("disabled"),g=c.hasClass("optgroup"),h=e.find(".sod_option:not('.optgroup')").index(this);e.hasClass("touch")||(f||g||(e.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),c.addClass("selected"),e.find("select option")[h].selected=!0,e.find("select").change()),clearTimeout(d),e.removeClass("open"))},selectChange:function(){var b=a(this),c=b.find(":selected"),d=c.text(),e=b.closest(".sod_select");e.find(".sod_label").get(0).lastChild.nodeValue=d,e.data("label",d),f.onChange.call(this),!e.data("links")&&!c.data("link")||c.data("link-external")?(e.data("links-external")||c.data("link-external"))&&window.open(c.val(),"_blank"):window.location.href=c.val()},blurSod:function(b){if(a("body").find(b).length){var c=b.data("label"),e=b.data("placeholder"),f=b.find(".active"),h=b.find(".selected"),i=!1;clearTimeout(d),g&&!f.hasClass("selected")?(f.click(),i=!0):f.hasClass("selected")||(f.removeClass("active"),h.addClass("active")),!i&&e?b.find(".sod_label").get(0).lastChild.nodeValue=h.text():i||(b.find(".sod_label").get(0).lastChild.nodeValue=c),g=!1,b.removeClass("open focus"),b.blur(),a("html").off(".sodBlur")}},checkViewport:function(b,c){var e=b[0].getBoundingClientRect(),f=c.outerHeight();e.bottom+f+10>a(window).height()&&e.top-f>10?b.addClass("above"):b.removeClass("above"),d=setTimeout(function(){h.checkViewport(b,c)},200)},listScroll:function(a,b){var c=a[0].getBoundingClientRect(),d=b[0].getBoundingClientRect();c.top>d.top?a.scrollTop(a.scrollTop()-c.top+d.top):c.bottom<d.bottom&&a.scrollTop(a.scrollTop()-c.bottom+d.bottom)},isTouch:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},i={destroy:function(){return this.each(function(){var b=a(this),c=b.parent();c.hasClass("sod_select")&&(b.off("change"),c.find("span").remove(),b.unwrap())})},update:function(){return this.each(function(){var b=a(this),c=b.parent(),d=c.find(".sod_list:first");c.hasClass("sod_select")?(d.empty(),c.find(".sod_label").get(0).lastChild.nodeValue="",b.is(":disabled")&&c.addClass("disabled"),a("option, optgroup",b).each(function(){h.populateSoD(a(this),d,c)})):console.log("Select or Die: There's no SoD to update")})},disable:function(b){return this.each(function(){var c=a(this),d=c.parent();d.hasClass("sod_select")?"undefined"!=typeof b?(d.find(".sod_list:first .sod_option[data-value='"+b+"']").addClass("disabled"),d.find(".sod_list:first .sod_option[data-label='"+b+"']").nextUntil(":not(.groupchild)").addClass("disabled"),a("option[value='"+b+"'], optgroup[label='"+b+"']",this).prop("disabled",!0)):d.hasClass("sod_select")&&(d.addClass("disabled"),c.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(b){return this.each(function(){var c=a(this),d=c.parent();d.hasClass("sod_select")?"undefined"!=typeof b?(d.find(".sod_list:first .sod_option[data-value='"+b+"']").removeClass("disabled"),d.find(".sod_list:first .sod_option[data-label='"+b+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),a("option[value='"+b+"'], optgroup[label='"+b+"']",this).prop("disabled",!1)):d.hasClass("sod_select")&&(d.removeClass("disabled"),c.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Select or Die: Oh no! No such method "'+b+'" for the SoD instance'):h.initSoD.apply(this,arguments)}}(jQuery),!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f,g,h=this;if(h.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},h.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},a.extend(h,h.initials),h.activeBreakpoint=null,h.animType=null,h.animProp=null,h.breakpoints=[],h.breakpointSettings=[],h.cssTransitions=!1,h.hidden="hidden",h.paused=!1,h.positionProp=null,h.respondTo=null,h.shouldClick=!0,h.$slider=a(b),h.$slidesCache=null,h.transformType=null,h.transitionType=null,h.visibilityChange="visibilitychange",h.windowWidth=0,h.windowTimer=null,e=a(b).data("slick")||{},h.options=a.extend({},h.defaults,e,d),h.currentSlide=h.options.initialSlide,h.originalSettings=h.options,f=h.options.responsive||null,f&&f.length>-1){h.respondTo=h.options.respondTo||"window";for(g in f)f.hasOwnProperty(g)&&(h.breakpoints.push(f[g].breakpoint),h.breakpointSettings[f[g].breakpoint]=f[g].settings);h.breakpoints.sort(function(a,b){return h.options.mobileFirst===!0?a-b:b-a})}"undefined"!=typeof document.mozHidden?(h.hidden="mozHidden",h.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(h.hidden="msHidden",h.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(h.hidden="webkitHidden",h.visibilityChange="webkitvisibilitychange"),h.autoPlay=a.proxy(h.autoPlay,h),h.autoPlayClear=a.proxy(h.autoPlayClear,h),h.changeSlide=a.proxy(h.changeSlide,h),h.clickHandler=a.proxy(h.clickHandler,h),h.selectHandler=a.proxy(h.selectHandler,h),h.setPosition=a.proxy(h.setPosition,h),h.swipeHandler=a.proxy(h.swipeHandler,h),h.dragHandler=a.proxy(h.dragHandler,h),h.keyHandler=a.proxy(h.keyHandler,h),h.autoPlayIterator=a.proxy(h.autoPlayIterator,h),h.instanceUid=c++,h.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,h.init(),h.checkResponsive(!0)}var c=0;return b}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),d[e.animType]=e.options.vertical===!1?"translate3d("+b+"px, 0px, 0px)":"translate3d(0px,"+b+"px, 0px)",
e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=null!==c.options.asNavFor?a(c.options.asNavFor).slick("getSlick"):null;null!==d&&d.slideHandler(b,!0)},b.prototype.applyTransition=function(a){var b=this,c={};c[b.transitionType]=b.options.fade===!1?b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:"opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(0===a.currentSlide-1&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow=a(b.options.prevArrow),b.$nextArrow=a(b.options.nextArrow),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.appendTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled"))},b.prototype.buildDots=function(){var b,c,d=this;if(d.options.dots===!0&&d.slideCount>d.options.slidesToShow){for(c='<ul class="'+d.options.dotsClass+'">',b=0;b<=d.getDotCount();b+=1)c+="<li>"+d.options.customPaging.call(this,d,b)+"</li>";c+="</ul>",d.$dots=a(c).appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),b.$slidesCache=b.$slides,b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),(b.options.centerMode===!0||b.options.swipeToSlide===!0)&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.options.accessibility===!0&&b.$list.prop("tabIndex",0),b.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.checkResponsive=function(b){var c,d,e,f=this,g=f.$slider.width(),h=window.innerWidth||a(window).width();if("window"===f.respondTo?e=h:"slider"===f.respondTo?e=g:"min"===f.respondTo&&(e=Math.min(h,g)),f.originalSettings.responsive&&f.originalSettings.responsive.length>-1&&null!==f.originalSettings.responsive){d=null;for(c in f.breakpoints)f.breakpoints.hasOwnProperty(c)&&(f.originalSettings.mobileFirst===!1?e<f.breakpoints[c]&&(d=f.breakpoints[c]):e>f.breakpoints[c]&&(d=f.breakpoints[c]));null!==d?null!==f.activeBreakpoint?d!==f.activeBreakpoint&&(f.activeBreakpoint=d,"unslick"===f.breakpointSettings[d]?f.unslick():(f.options=a.extend({},f.originalSettings,f.breakpointSettings[d]),b===!0&&(f.currentSlide=f.options.initialSlide),f.refresh())):(f.activeBreakpoint=d,"unslick"===f.breakpointSettings[d]?f.unslick():(f.options=a.extend({},f.originalSettings,f.breakpointSettings[d]),b===!0&&(f.currentSlide=f.options.initialSlide),f.refresh())):null!==f.activeBreakpoint&&(f.activeBreakpoint=null,f.options=f.originalSettings,b===!0&&(f.currentSlide=f.options.initialSlide),f.refresh())}},b.prototype.changeSlide=function(b,c){var d,e,f,g=this,h=a(b.target);switch(h.is("a")&&b.preventDefault(),f=0!==g.slideCount%g.options.slidesToScroll,d=f?0:(g.slideCount-g.currentSlide)%g.options.slidesToScroll,b.data.message){case"previous":e=0===d?g.options.slidesToScroll:g.options.slidesToShow-d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide-e,!1,c);break;case"next":e=0===d?g.options.slidesToScroll:d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide+e,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||a(b.target).parent().index()*g.options.slidesToScroll;g.slideHandler(g.checkNavigable(i),!1,c);break;default:return}},b.prototype.checkNavigable=function(a){var b,c,d=this;if(b=d.getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var e in b){if(a<b[e]){a=c;break}c=b[e]}return a},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(){var b=this;b.autoPlayClear(),b.touchObject={},a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),b.$slider.removeClass("slick-slider"),b.$slider.removeClass("slick-initialized"),b.$list.off(".slick"),a(window).off(".slick-"+b.instanceUid),a(document).off(".slick-"+b.instanceUid),b.$slider.html(b.$slides)},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:1e3}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:1e3}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)d=Math.ceil(a.slideCount/a.options.slidesToScroll);else if(a.options.centerMode===!0)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var b,c,d,e=this,f=0;return e.slideOffset=0,c=e.$slides.first().outerHeight(),e.options.infinite===!0?(e.slideCount>e.options.slidesToShow&&(e.slideOffset=-1*e.slideWidth*e.options.slidesToShow,f=-1*c*e.options.slidesToShow),0!==e.slideCount%e.options.slidesToScroll&&a+e.options.slidesToScroll>e.slideCount&&e.slideCount>e.options.slidesToShow&&(a>e.slideCount?(e.slideOffset=-1*(e.options.slidesToShow-(a-e.slideCount))*e.slideWidth,f=-1*(e.options.slidesToShow-(a-e.slideCount))*c):(e.slideOffset=-1*e.slideCount%e.options.slidesToScroll*e.slideWidth,f=-1*e.slideCount%e.options.slidesToScroll*c))):a+e.options.slidesToShow>e.slideCount&&(e.slideOffset=(a+e.options.slidesToShow-e.slideCount)*e.slideWidth,f=(a+e.options.slidesToShow-e.slideCount)*c),e.slideCount<=e.options.slidesToShow&&(e.slideOffset=0,f=0),e.options.centerMode===!0&&e.options.infinite===!0?e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)-e.slideWidth:e.options.centerMode===!0&&(e.slideOffset=0,e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)),b=e.options.vertical===!1?-1*a*e.slideWidth+e.slideOffset:-1*a*c+f,e.options.variableWidth===!0&&(d=e.$slideTrack.children(".slick-slide").eq(e.slideCount<=e.options.slidesToShow||e.options.infinite===!1?a:a+e.options.slidesToShow),b=d[0]?-1*d[0].offsetLeft:0,e.options.centerMode===!0&&(d=e.$slideTrack.children(".slick-slide").eq(e.options.infinite===!1?a:a+e.options.slidesToShow+1),b=d[0]?-1*d[0].offsetLeft:0,b+=(e.$list.width()-d.outerWidth())/2)),b},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var a,b=this,c=0,d=0,e=[];for(b.options.infinite===!1?(a=b.slideCount-b.options.slidesToShow+1,b.options.centerMode===!0&&(a=b.slideCount)):(c=-1*b.slideCount,d=-1*b.slideCount,a=2*b.slideCount);a>c;)e.push(c),c=d+b.options.slidesToScroll,d+=b.options.slidesToScroll<=b.options.slidesToShow?b.options.slidesToScroll:b.options.slidesToShow;return e},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b,c,d,e=this;return d=e.options.centerMode===!0?e.slideWidth*Math.floor(e.options.slidesToShow/2):0,e.options.swipeToSlide===!0?(e.$slideTrack.find(".slick-slide").each(function(b,f){return f.offsetLeft-d+a(f).outerWidth()/2>-1*e.swipeLeft?(c=f,!1):void 0}),b=Math.abs(a(c).attr("data-slick-index")-e.currentSlide)||1):e.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(){var b=this;a(b.$slider).hasClass("slick-initialized")||(a(b.$slider).addClass("slick-initialized"),b.buildOut(),b.setProps(),b.startLoad(),b.loadSlider(),b.initializeEvents(),b.updateArrows(),b.updateDots()),b.$slider.trigger("init",[b])},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}).on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()})},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),b.options.autoplay===!0&&(a(document).on(b.visibilityChange,function(){b.visibility()}),b.options.pauseOnHover===!0&&(b.$list.on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}),b.$list.on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()}))),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,function(){b.checkResponsive(),b.setPosition()}),a(window).on("resize.slick.slick-"+b.instanceUid,function(){a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.setPosition()},50))}),a("*[draggable!=true]",b.$slideTrack).on("dragstart",function(a){a.preventDefault()}),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}})},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy");b.load(function(){b.animate({opacity:1},200)}).css({opacity:0}).attr("src",c).removeAttr("data-lazy").removeClass("slick-loading")})}var c,d,e,f,g=this;g.options.centerMode===!0?g.options.infinite===!0?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=2+(g.options.slidesToShow/2+1)+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=e+g.options.slidesToShow,g.options.fade===!0&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay()},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.progressiveLazyLoad=function(){var b,c,d=this;b=a("img[data-lazy]",d.$slider).length,b>0&&(c=a("img[data-lazy]",d.$slider).first(),c.attr("src",c.attr("data-lazy")).removeClass("slick-loading").load(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}).error(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}))},b.prototype.refresh=function(){var b=this,c=b.currentSlide;b.destroy(),a.extend(b,b.initials),b.init(),b.changeSlide({data:{message:"index",index:c}},!0)},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b])},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,void d.reinit())},b.prototype.setCSS=function(a){var b,c,d=this,e={};d.options.rtl===!0&&(a=-a),b="left"==d.positionProp?Math.ceil(a)+"px":"0px",c="top"==d.positionProp?Math.ceil(a)+"px":"0px",e[d.positionProp]=a,d.transformsEnabled===!1?d.$slideTrack.css(e):(e={},d.cssTransitions===!1?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var a=this;if(a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1)a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length));else if(a.options.variableWidth===!0){var b=0;a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.children(".slick-slide").each(function(){b+=a.listWidth}),a.$slideTrack.width(Math.ceil(b)+1)}else a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length));var c=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-c)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=-1*c.slideWidth*d,a(e).css(c.options.rtl===!0?{position:"relative",right:b,top:0,zIndex:800,opacity:0}:{position:"relative",left:b,top:0,zIndex:800,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:900,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(a,b,c){var d=this;d.options[a]=b,c===!0&&(d.unload(),d.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;f.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),c=f.$slider.find(".slick-slide"),f.options.centerMode===!0?(b=Math.floor(f.options.slidesToShow/2),f.options.infinite===!0&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b,a+b+1).addClass("slick-active"):(d=f.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")):a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active"):c.length<=f.options.slidesToShow?c.addClass("slick-active"):(e=f.slideCount%f.options.slidesToShow,d=f.options.infinite===!0?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active")),"ondemand"===f.options.lazyLoad&&f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(e.options.fade===!0&&(e.options.centerMode=!1),e.options.infinite===!0&&e.options.fade===!1&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=e.options.centerMode===!0?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;d>b;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.selectHandler=function(b){var c=this,d=parseInt(a(b.target).parents(".slick-slide").attr("data-slick-index"));return d||(d=0),c.slideCount<=c.options.slidesToShow?(c.$slider.find(".slick-slide").removeClass("slick-active"),c.$slides.eq(d).addClass("slick-active"),c.options.centerMode===!0&&(c.$slider.find(".slick-slide").removeClass("slick-center"),c.$slides.eq(d).addClass("slick-center")),void c.asNavFor(d)):void c.slideHandler(d)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?0!==i.slideCount%i.options.slidesToScroll?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?0!==i.slideCount%i.options.slidesToScroll?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?i.fadeSlide(e,function(){i.postSlide(e)}):i.postSlide(e),void i.animateHeight()):void(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e))))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":"vertical"},b.prototype.swipeEnd=function(){var a,b=this;if(b.dragging=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":a=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.slideHandler(a),b.currentDirection=0,b.touchObject={},b.$slider.trigger("swipe",[b,"left"]);break;case"right":a=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.slideHandler(a),b.currentDirection=1,b.touchObject={},b.$slider.trigger("swipe",[b,"right"])}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f,g=this;return f=void 0!==a.originalEvent?a.originalEvent.touches:null,!g.dragging||f&&1!==f.length?!1:(b=g.getLeft(g.currentSlide),g.touchObject.curX=void 0!==f?f[0].pageX:a.clientX,g.touchObject.curY=void 0!==f?f[0].pageY:a.clientY,g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curX-g.touchObject.startX,2))),c=g.swipeDirection(),"vertical"!==c?(void 0!==a.originalEvent&&g.touchObject.swipeLength>4&&a.preventDefault(),e=(g.options.rtl===!1?1:-1)*(g.touchObject.curX>g.touchObject.startX?1:-1),d=g.touchObject.swipeLength,g.touchObject.edgeHit=!1,g.options.infinite===!1&&(0===g.currentSlide&&"right"===c||g.currentSlide>=g.getDotCount()&&"left"===c)&&(d=g.touchObject.swipeLength*g.options.edgeFriction,g.touchObject.edgeHit=!0),g.swipeLeft=g.options.vertical===!1?b+d*e:b+d*(g.$list.height()/g.listWidth)*e,g.options.fade===!0||g.options.touchMove===!1?!1:g.animating===!0?(g.swipeLeft=null,!1):void g.setCSS(g.swipeLeft)):void 0)},b.prototype.swipeStart=function(a){var b,c=this;return 1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow?(c.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,void(c.dragging=!0))},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},b.prototype.unslick=function(){var a=this;a.destroy()},b.prototype.updateArrows=function(){var a,b=this;a=Math.floor(b.options.slidesToShow/2),b.options.arrows===!0&&b.options.infinite!==!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow.removeClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled"),0===b.currentSlide?(b.$prevArrow.addClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled")):b.currentSlide>=b.slideCount-b.options.slidesToShow&&b.options.centerMode===!1?(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")):b.currentSlide>=b.slideCount-1&&b.options.centerMode===!0&&(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):(a.paused=!1,a.autoPlay())},a.fn.slick=function(){var a,c=this,d=arguments[0],e=Array.prototype.slice.call(arguments,1),f=c.length,g=0;for(g;f>g;g++)if("object"==typeof d||"undefined"==typeof d?c[g].slick=new b(c[g],d):a=c[g].slick[d].apply(c[g].slick,e),"undefined"!=typeof a)return a;return c},a(function(){a("[data-slick]").slick()})}),function(){"use strict";function a(a){a.fn.swiper=function(b){var c;return a(this).each(function(){var a=new Swiper(this,b);c||(c=a)}),c}}window.Swiper=function(a,b){function c(){return"horizontal"===m.params.direction}function d(){m.autoplayTimeoutId=setTimeout(function(){m.params.loop?(m.fixLoop(),m._slideNext()):m.isEnd?b.autoplayStopOnLast?m.stopAutoplay():m._slideTo(0):m._slideNext()},m.params.autoplay)}function e(a,b){var c=n(a.target);if(!c.is(b))if("string"==typeof b)c=c.parents(b);else if(b.nodeType){var d;return c.parents().each(function(a,c){c===b&&(d=b)}),d?b:void 0}return 0===c.length?void 0:c[0]}function f(a,b){b=b||{};var c=window.MutationObserver||window.WebkitMutationObserver,d=new c(function(a){a.forEach(function(a){m.onResize(),m.params.onObserverUpdate&&m.params.onObserverUpdate(m,a)})});d.observe(a,{attributes:"undefined"==typeof b.attributes?!0:b.attributes,childList:"undefined"==typeof b.childList?!0:b.childList,characterData:"undefined"==typeof b.characterData?!0:b.characterData}),m.observers.push(d)}function g(a){a.originalEvent&&(a=a.originalEvent);var b=a.keyCode||a.charCode;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===b||39===b||38===b||40===b){var d=!1;if(m.container.parents(".swiper-slide").length>0&&0===m.container.parents(".swiper-slide-active").length)return;for(var e={left:window.pageXOffset,top:window.pageYOffset},f=window.innerWidth,g=window.innerHeight,h=m.container.offset(),i=[[h.left,h.top],[h.left+m.width,h.top],[h.left,h.top+m.height],[h.left+m.width,h.top+m.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e.left&&k[0]<=e.left+f&&k[1]>=e.top&&k[1]<=e.top+g&&(d=!0)}if(!d)return}c()?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),39===b&&m.slideNext(),37===b&&m.slidePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&m.slideNext(),38===b&&m.slidePrev())}}function h(a){a.originalEvent&&(a=a.originalEvent);var b=m._wheelEvent,d=0;if(a.detail)d=-a.detail;else if("mousewheel"===b)if(m.params.mousewheelForceToAxis)if(c()){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;d=a.wheelDeltaX}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;d=a.wheelDeltaY}else d=a.wheelDelta;else if("DOMMouseScroll"===b)d=-a.detail;else if("wheel"===b)if(m.params.mousewheelForceToAxis)if(c()){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;d=-a.deltaX}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;d=-a.deltaY}else d=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY;if(m.params.freeMode){var e=m.getWrapperTranslate()+d;if(e>0&&(e=0),e<m.maxTranslate()&&(e=m.maxTranslate()),m.setWrapperTransition(0),m.setWrapperTranslate(e),m.updateProgress(),m.updateActiveIndex(),0===e||e===m.maxTranslate())return}else(new Date).getTime()-m._lastWheelScrollTime>60&&(0>d?m.slideNext():m.slidePrev()),m._lastWheelScrollTime=(new Date).getTime();return m.params.autoplay&&m.stopAutoplay(),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function i(a,b){a=n(a);var d,e,f,g,h;d=a.attr("data-swiper-parallax"),e=a.attr("data-swiper-parallax-x"),f=a.attr("data-swiper-parallax-y"),e||f||!d?(e=e?e:"0",f=f?f:"0"):c()?(e=d,f="0"):(f=d,e="0"),e=e.indexOf("%")>=0?parseInt(e,10)*b+"%":e*b+"px",f=f.indexOf("%")>=0?parseInt(f,10)*b+"%":f*b+"px",g=e,h=f,a.transform("translate3d("+g+", "+h+",0px)")}var j={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,
keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,runCallbacksOnInit:!0};b=b||{};for(var k in j)if("undefined"==typeof b[k])b[k]=j[k];else if("object"==typeof b[k])for(var l in j[k])"undefined"==typeof b[k][l]&&(b[k][l]=j[k][l]);var m=this;m.params=b;var n;if(n="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,n&&(m.container=n(a),0!==m.container.length)){if(m.container.length>1)return void m.container.each(function(){new Swiper(this,b)});m.container[0].swiper=m,m.container.data("swiper",m),m.container.addClass("swiper-container-"+m.params.direction),m.params.freeMode&&m.container.addClass("swiper-container-free-mode"),(m.params.parallax||m.params.watchSlidesVisibility)&&(m.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(m.params.effect)>=0&&(m.support.transforms3d?(m.params.watchSlidesProgress=!0,m.container.addClass("swiper-container-3d")):m.params.effect="slide"),"slide"!==m.params.effect&&m.container.addClass("swiper-container-"+m.params.effect),"cube"===m.params.effect&&(m.params.resistanceRatio=0,m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.centeredSlides=!1,m.params.spaceBetween=0),"fade"===m.params.effect&&(m.params.watchSlidesProgress=!0,m.params.spaceBetween=0),m.params.grabCursor&&m.support.touch&&(m.params.grabCursor=!1),m.wrapper=m.container.children("."+m.params.wrapperClass),m.params.pagination&&(m.paginationContainer=n(m.params.pagination),m.params.paginationClickable&&m.paginationContainer.addClass("swiper-pagination-clickable")),m.rtl=c()&&("rtl"===m.container[0].dir.toLowerCase()||"rtl"===m.container.css("direction")),m.rtl&&m.container.addClass("swiper-container-rtl"),m.rtl&&(m.wrongRTL="-webkit-box"===m.wrapper.css("display")),m.translate=0,m.progress=0,m.velocity=0,m.lockSwipeToNext=function(){m.params.allowSwipeToNext=!1},m.lockSwipeToPrev=function(){m.params.allowSwipeToPrev=!1},m.lockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!1},m.unlockSwipeToNext=function(){m.params.allowSwipeToNext=!0},m.unlockSwipeToPrev=function(){m.params.allowSwipeToPrev=!0},m.unlockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!0},m.params.slidesPerColumn>1&&m.container.addClass("swiper-container-multirow"),m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab"),m.imagesToLoad=[],m.imagesLoaded=0,m.loadImage=function(a,b,c,d){function e(){d&&d()}var f;a.complete&&c?e():b?(f=new Image,f.onload=e,f.onerror=e,f.src=b):e()},m.preloadImages=function(){function a(){"undefined"!=typeof m&&null!==m&&(void 0!==m.imagesLoaded&&m.imagesLoaded++,m.imagesLoaded===m.imagesToLoad.length&&(m.params.updateOnImagesReady&&m.update(),m.params.onImagesReady&&m.params.onImagesReady(m)))}m.imagesToLoad=m.container.find("img");for(var b=0;b<m.imagesToLoad.length;b++)m.loadImage(m.imagesToLoad[b],m.imagesToLoad[b].currentSrc||m.imagesToLoad[b].getAttribute("src"),!0,a)},m.autoplayTimeoutId=void 0,m.autoplaying=!1,m.autoplayPaused=!1,m.startAutoplay=function(){return"undefined"!=typeof m.autoplayTimeoutId?!1:m.params.autoplay?m.autoplaying?!1:(m.autoplaying=!0,m.params.onAutoplayStart&&m.params.onAutoplayStart(m),void d()):!1},m.stopAutoplay=function(a){m.autoplayTimeoutId&&(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplaying=!1,m.autoplayTimeoutId=void 0,m.params.onAutoplayStop&&m.params.onAutoplayStop(m))},m.pauseAutoplay=function(a){m.autoplayPaused||(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplayPaused=!0,0===a?(m.autoplayPaused=!1,d()):m.wrapper.transitionEnd(function(){m.autoplayPaused=!1,m.autoplaying?d():m.stopAutoplay()}))},m.minTranslate=function(){return-m.snapGrid[0]},m.maxTranslate=function(){return-m.snapGrid[m.snapGrid.length-1]},m.updateContainerSize=function(){m.width=m.container[0].clientWidth,m.height=m.container[0].clientHeight,m.size=c()?m.width:m.height},m.updateSlidesSize=function(){m.slides=m.wrapper.children("."+m.params.slideClass),m.snapGrid=[],m.slidesGrid=[],m.slidesSizesGrid=[];var a,b=m.params.spaceBetween,d=0,e=0,f=0;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*m.size),m.virtualWidth=-b,m.slides.css(m.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var g;m.params.slidesPerColumn>1&&(g=Math.floor(m.slides.length/m.params.slidesPerColumn)===m.slides.length/m.params.slidesPerColumn?m.slides.length:Math.ceil(m.slides.length/m.params.slidesPerColumn)*m.params.slidesPerColumn);var h;for(a=0;a<m.slides.length;a++){h=0;var i=m.slides.eq(a);if(m.params.slidesPerColumn>1){var j,k,l,n,o=m.params.slidesPerColumn;"column"===m.params.slidesPerColumnFill?(k=Math.floor(a/o),l=a-k*o,j=k+l*g/o,i.css({"-webkit-box-ordinal-group":j,"-moz-box-ordinal-group":j,"-ms-flex-order":j,"-webkit-order":j,order:j})):(n=g/o,l=Math.floor(a/n),k=a-l*n),i.css({"margin-top":0!==l&&m.params.spaceBetween&&m.params.spaceBetween+"px"}).attr("data-swiper-column",k).attr("data-swiper-row",l)}"none"!==i.css("display")&&("auto"===m.params.slidesPerView?h=c()?i.outerWidth(!0):i.outerHeight(!0):(h=(m.size-(m.params.slidesPerView-1)*b)/m.params.slidesPerView,c()?m.slides[a].style.width=h+"px":m.slides[a].style.height=h+"px"),m.slides[a].swiperSlideSize=h,m.slidesSizesGrid.push(h),m.params.centeredSlides?(d=d+h/2+e/2+b,0===a&&(d=d-m.size/2-b),Math.abs(d)<.001&&(d=0),f%m.params.slidesPerGroup===0&&m.snapGrid.push(d),m.slidesGrid.push(d)):(f%m.params.slidesPerGroup===0&&m.snapGrid.push(d),m.slidesGrid.push(d),d=d+h+b),m.virtualWidth+=h+b,e=h,f++)}m.virtualWidth=Math.max(m.virtualWidth,m.size);var p;if(m.rtl&&m.wrongRTL&&("slide"===m.params.effect||"coverflow"===m.params.effect)&&m.wrapper.css({width:m.virtualWidth+m.params.spaceBetween+"px"}),m.params.slidesPerColumn>1&&(m.virtualWidth=(h+m.params.spaceBetween)*g,m.virtualWidth=Math.ceil(m.virtualWidth/m.params.slidesPerColumn)-m.params.spaceBetween,m.wrapper.css({width:m.virtualWidth+m.params.spaceBetween+"px"}),m.params.centeredSlides)){for(p=[],a=0;a<m.snapGrid.length;a++)m.snapGrid[a]<m.virtualWidth+m.snapGrid[0]&&p.push(m.snapGrid[a]);m.snapGrid=p}if(!m.params.centeredSlides){for(p=[],a=0;a<m.snapGrid.length;a++)m.snapGrid[a]<=m.virtualWidth-m.size&&p.push(m.snapGrid[a]);m.snapGrid=p,Math.floor(m.virtualWidth-m.size)>Math.floor(m.snapGrid[m.snapGrid.length-1])&&m.snapGrid.push(m.virtualWidth-m.size)}0===m.snapGrid.length&&(m.snapGrid=[0]),0!==m.params.spaceBetween&&m.slides.css(c()?m.rtl?{marginLeft:b+"px"}:{marginRight:b+"px"}:{marginBottom:b+"px"}),m.params.watchSlidesProgress&&m.updateSlidesOffset()},m.updateSlidesOffset=function(){for(var a=0;a<m.slides.length;a++)m.slides[a].swiperSlideOffset=c()?m.slides[a].offsetLeft:m.slides[a].offsetTop},m.updateSlidesProgress=function(a){if("undefined"==typeof a&&(a=m.translate||0),0!==m.slides.length){"undefined"==typeof m.slides[0].swiperSlideOffset&&m.updateSlidesOffset();var b=m.params.centeredSlides?-a+m.size/2:-a;m.rtl&&(b=m.params.centeredSlides?a-m.size/2:a);{m.container[0].getBoundingClientRect(),c()?"left":"top",c()?"right":"bottom"}m.slides.removeClass(m.params.slideVisibleClass);for(var d=0;d<m.slides.length;d++){var e=m.slides[d],f=m.params.centeredSlides===!0?e.swiperSlideSize/2:0,g=(b-e.swiperSlideOffset-f)/(e.swiperSlideSize+m.params.spaceBetween);if(m.params.watchSlidesVisibility){var h=-(b-e.swiperSlideOffset-f),i=h+m.slidesSizesGrid[d],j=h>=0&&h<m.size||i>0&&i<=m.size||0>=h&&i>=m.size;j&&m.slides.eq(d).addClass(m.params.slideVisibleClass)}e.progress=m.rtl?-g:g}}},m.updateProgress=function(a){"undefined"==typeof a&&(a=m.translate||0);var b=m.maxTranslate()-m.minTranslate();0===b?(m.progress=0,m.isBeginning=m.isEnd=!0):(m.progress=(a-m.minTranslate())/b,m.isBeginning=m.progress<=0,m.isEnd=m.progress>=1),m.isBeginning&&m.params.onReachBeginning&&m.params.onReachBeginning(m),m.isEnd&&m.params.onReachEnd&&m.params.onReachEnd(m),m.params.watchSlidesProgress&&m.updateSlidesProgress(a),m.params.onProgress&&m.params.onProgress(m,m.progress)},m.updateActiveIndex=function(){var a,b,c,d=m.rtl?m.translate:-m.translate;for(b=0;b<m.slidesGrid.length;b++)"undefined"!=typeof m.slidesGrid[b+1]?d>=m.slidesGrid[b]&&d<m.slidesGrid[b+1]-(m.slidesGrid[b+1]-m.slidesGrid[b])/2?a=b:d>=m.slidesGrid[b]&&d<m.slidesGrid[b+1]&&(a=b+1):d>=m.slidesGrid[b]&&(a=b);(0>a||"undefined"==typeof a)&&(a=0),c=Math.floor(a/m.params.slidesPerGroup),c>=m.snapGrid.length&&(c=m.snapGrid.length-1),a!==m.activeIndex&&(m.snapIndex=c,m.previousIndex=m.activeIndex,m.activeIndex=a,m.updateClasses())},m.updateClasses=function(){m.slides.removeClass(m.params.slideActiveClass+" "+m.params.slideNextClass+" "+m.params.slidePrevClass);var a=m.slides.eq(m.activeIndex);if(a.addClass(m.params.slideActiveClass),a.next("."+m.params.slideClass).addClass(m.params.slideNextClass),a.prev("."+m.params.slideClass).addClass(m.params.slidePrevClass),m.bullets&&m.bullets.length>0){m.bullets.removeClass(m.params.bulletActiveClass);var b;m.params.loop?(b=m.activeIndex-m.loopedSlides,b>m.slides.length-1-2*m.loopedSlides&&(b-=m.slides.length-2*m.loopedSlides)):b="undefined"!=typeof m.snapIndex?m.snapIndex:m.activeIndex||0,m.bullets.eq(b).addClass(m.params.bulletActiveClass)}m.params.loop||(m.params.prevButton&&(m.isBeginning?n(m.params.prevButton).addClass(m.params.buttonDisabledClass):n(m.params.prevButton).removeClass(m.params.buttonDisabledClass)),m.params.nextButton&&(m.isEnd?n(m.params.nextButton).addClass(m.params.buttonDisabledClass):n(m.params.nextButton).removeClass(m.params.buttonDisabledClass)))},m.updatePagination=function(){if(m.params.pagination&&m.paginationContainer&&m.paginationContainer.length>0){for(var a="",b=m.params.loop?m.slides.length-2*m.loopedSlides:m.snapGrid.length,c=0;b>c;c++)a+=m.params.paginationBulletRender?m.params.paginationBulletRender(c,m.params.bulletClass):'<span class="'+m.params.bulletClass+'"></span>';m.paginationContainer.html(a),m.bullets=m.paginationContainer.find("."+m.params.bulletClass)}},m.update=function(a){function b(){d=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(d),m.updateActiveIndex(),m.updateClasses()}if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),m.updatePagination(),m.updateClasses(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),a){var c,d;m.params.freeMode?b():(c="auto"===m.params.slidesPerView&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0),c||b())}},m.onResize=function(){if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),("auto"===m.params.slidesPerView||m.params.freeMode)&&m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),m.params.freeMode){var a=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate());m.setWrapperTranslate(a),m.updateActiveIndex(),m.updateClasses()}else m.updateClasses(),"auto"===m.params.slidesPerView&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0)};var o=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?o=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(o=["MSPointerDown","MSPointerMove","MSPointerUp"]),m.touchEvents={start:m.support.touch||!m.params.simulateTouch?"touchstart":o[0],move:m.support.touch||!m.params.simulateTouch?"touchmove":o[1],end:m.support.touch||!m.params.simulateTouch?"touchend":o[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===m.params.touchEventsTarget?m.container:m.wrapper).addClass("swiper-wp8-"+m.params.direction),m.events=function(a){var c=a?"off":"on",d=a?"removeEventListener":"addEventListener",e="container"===m.params.touchEventsTarget?m.container[0]:m.wrapper[0],f=m.support.touch?e:document,g=m.params.nested?!0:!1;m.browser.ie?(e[d](m.touchEvents.start,m.onTouchStart,!1),f[d](m.touchEvents.move,m.onTouchMove,g),f[d](m.touchEvents.end,m.onTouchEnd,!1)):(m.support.touch&&(e[d](m.touchEvents.start,m.onTouchStart,!1),e[d](m.touchEvents.move,m.onTouchMove,g),e[d](m.touchEvents.end,m.onTouchEnd,!1)),!b.simulateTouch||m.device.ios||m.device.android||(e[d]("mousedown",m.onTouchStart,!1),f[d]("mousemove",m.onTouchMove,g),f[d]("mouseup",m.onTouchEnd,!1))),window[d]("resize",m.onResize),m.params.nextButton&&n(m.params.nextButton)[c]("click",m.onClickNext),m.params.prevButton&&n(m.params.prevButton)[c]("click",m.onClickPrev),m.params.pagination&&m.params.paginationClickable&&n(m.paginationContainer)[c]("click","."+m.params.bulletClass,m.onClickIndex),(m.params.preventClicks||m.params.preventClicksPropagation)&&e[d]("click",m.preventClicks,!0)},m.attachEvents=function(a){m.events()},m.detachEvents=function(){m.events(!0)},m.allowClick=!0,m.preventClicks=function(a){m.allowClick||(m.params.preventClicks&&a.preventDefault(),m.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},m.onClickNext=function(a){a.preventDefault(),m.slideNext()},m.onClickPrev=function(a){a.preventDefault(),m.slidePrev()},m.onClickIndex=function(a){a.preventDefault();var b=n(this).index()*m.params.slidesPerGroup;m.params.loop&&(b+=m.loopedSlides),m.slideTo(b)},m.updateClickedSlide=function(a){var b=e(a,"."+m.params.slideClass);if(!b)return m.clickedSlide=void 0,void(m.clickedIndex=void 0);if(m.clickedSlide=b,m.clickedIndex=n(b).index(),m.params.slideToClickedSlide&&void 0!==m.clickedIndex&&m.clickedIndex!==m.activeIndex){var c,d=m.clickedIndex;if(m.params.loop)if(c=n(m.clickedSlide).attr("data-swiper-slide-index"),d>m.slides.length-m.params.slidesPerView)m.fixLoop(),d=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+c+'"]').eq(0).index(),setTimeout(function(){m.slideTo(d)},0);else if(d<m.params.slidesPerView-1){m.fixLoop();var f=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+c+'"]');d=f.eq(f.length-1).index(),setTimeout(function(){m.slideTo(d)},0)}else m.slideTo(d);else m.slideTo(d)}};var p,q,r,s,t,u,v,w,x,y="input, select, textarea, button",z=Date.now(),A=[];m.animating=!1,m.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var B;if(m.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),B="touchstart"===a.type,B||!("which"in a)||3!==a.which){if(m.params.noSwiping&&e(a,"."+m.params.noSwipingClass))return void(m.allowClick=!0);if(!m.params.swipeHandler||e(a,m.params.swipeHandler)){if(p=!0,q=!1,s=void 0,m.touches.startX=m.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,m.touches.startY=m.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,r=Date.now(),m.allowClick=!0,m.updateContainerSize(),m.swipeDirection=void 0,m.params.threshold>0&&(v=!1),"touchstart"!==a.type){var b=!0;n(a.target).is(y)&&(b=!1),document.activeElement&&n(document.activeElement).is(y)&&document.activeElement.blur(),b&&a.preventDefault()}m.params.onTouchStart&&m.params.onTouchStart(m,a)}}},m.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!(B&&"mousemove"===a.type||a.preventedByNestedSwiper)){if(m.params.onlyExternal)return q=!0,void(m.allowClick=!1);if(B&&document.activeElement&&a.target===document.activeElement&&n(a.target).is(y))return q=!0,void(m.allowClick=!1);if(m.params.onTouchMove&&m.params.onTouchMove(m,a),m.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)){if(m.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,m.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof s){var d=180*Math.atan2(Math.abs(m.touches.currentY-m.touches.startY),Math.abs(m.touches.currentX-m.touches.startX))/Math.PI;s=c()?d>m.params.touchAngle:90-d>m.params.touchAngle}if(s&&m.params.onTouchMoveOpposite&&m.params.onTouchMoveOpposite(m,a),p){if(s)return void(p=!1);m.params.onSliderMove&&m.params.onSliderMove(m,a),a.preventDefault(),m.params.touchMoveStopPropagation&&!m.params.nested&&a.stopPropagation(),q||(b.loop&&m.fixLoop(),u="cube"===m.params.effect?(m.rtl?-m.translate:m.translate)||0:m.getWrapperTranslate(),m.setWrapperTransition(0),m.animating&&m.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),m.params.autoplay&&m.autoplaying&&(m.params.autoplayDisableOnInteraction?m.stopAutoplay():m.pauseAutoplay()),x=!1,m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grabbing",m.container[0].style.cursor="-moz-grabbin",m.container[0].style.cursor="grabbing")),q=!0;var e=m.touches.diff=c()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY;e*=m.params.touchRatio,m.rtl&&(e=-e),m.swipeDirection=e>0?"prev":"next",t=e+u;var f=!0;if(e>0&&t>m.minTranslate()?(f=!1,m.params.resistance&&(t=m.minTranslate()-1+Math.pow(-m.minTranslate()+u+e,m.params.resistanceRatio))):0>e&&t<m.maxTranslate()&&(f=!1,m.params.resistance&&(t=m.maxTranslate()+1-Math.pow(m.maxTranslate()-u-e,m.params.resistanceRatio))),f&&(a.preventedByNestedSwiper=!0),!m.params.allowSwipeToNext&&"next"===m.swipeDirection&&u>t&&(t=u),!m.params.allowSwipeToPrev&&"prev"===m.swipeDirection&&t>u&&(t=u),m.params.followFinger){if(m.params.threshold>0){if(!(Math.abs(e)>m.params.threshold||v))return void(t=u);if(!v)return v=!0,m.touches.startX=m.touches.currentX,m.touches.startY=m.touches.currentY,t=u,void(m.touches.diff=c()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY)}(m.params.freeMode||m.params.watchSlidesProgress)&&m.updateActiveIndex(),m.params.freeMode&&(0===A.length&&A.push({position:m.touches[c()?"startX":"startY"],time:r}),A.push({position:m.touches[c()?"currentX":"currentY"],time:(new Date).getTime()})),m.updateProgress(t),m.setWrapperTranslate(t)}}}}},m.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),m.params.onTouchEnd&&m.params.onTouchEnd(m,a),p){m.params.grabCursor&&q&&p&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab");var b=Date.now(),c=b-r;if(m.allowClick&&(m.updateClickedSlide(a),m.params.onTap&&m.params.onTap(m,a),300>c&&b-z>300&&(w&&clearTimeout(w),w=setTimeout(function(){m&&(m.params.paginationHide&&m.paginationContainer.length>0&&!n(a.target).hasClass(m.params.bulletClass)&&m.paginationContainer.toggleClass(m.params.paginationHiddenClass),m.params.onClick&&m.params.onClick(m,a))},300)),300>c&&300>b-z&&(w&&clearTimeout(w),m.params.onDoubleTap&&m.params.onDoubleTap(m,a))),z=Date.now(),setTimeout(function(){m&&m.allowClick&&(m.allowClick=!0)},0),!p||!q||!m.swipeDirection||0===m.touches.diff||t===u)return void(p=q=!1);p=q=!1;var d;if(d=m.params.followFinger?m.rtl?m.translate:-m.translate:-t,m.params.freeMode){if(d<-m.minTranslate())return void m.slideTo(m.activeIndex);if(d>-m.maxTranslate())return void m.slideTo(m.slides.length-1);if(m.params.freeModeMomentum){if(A.length>1){var e=A.pop(),f=A.pop(),g=e.position-f.position,h=e.time-f.time;m.velocity=g/h,m.velocity=m.velocity/2,Math.abs(m.velocity)<.02&&(m.velocity=0),(h>150||(new Date).getTime()-e.time>300)&&(m.velocity=0)}else m.velocity=0;A.length=0;var i=1e3*m.params.freeModeMomentumRatio,j=m.velocity*i,k=m.translate+j;m.rtl&&(k=-k);var l,o=!1,s=20*Math.abs(m.velocity)*m.params.freeModeMomentumBounceRatio;k<m.maxTranslate()&&(m.params.freeModeMomentumBounce?(k+m.maxTranslate()<-s&&(k=m.maxTranslate()-s),l=m.maxTranslate(),o=!0,x=!0):k=m.maxTranslate()),k>m.minTranslate()&&(m.params.freeModeMomentumBounce?(k-m.minTranslate()>s&&(k=m.minTranslate()+s),l=m.minTranslate(),o=!0,x=!0):k=m.minTranslate()),0!==m.velocity&&(i=Math.abs(m.rtl?(-k-m.translate)/m.velocity:(k-m.translate)/m.velocity)),m.params.freeModeMomentumBounce&&o?(m.updateProgress(l),m.setWrapperTransition(i),m.setWrapperTranslate(k),m.onTransitionStart(),m.animating=!0,m.wrapper.transitionEnd(function(){x&&(m.params.onMomentumBounce&&m.params.onMomentumBounce(m),m.setWrapperTransition(m.params.speed),m.setWrapperTranslate(l),m.wrapper.transitionEnd(function(){m.onTransitionEnd()}))})):m.velocity?(m.updateProgress(k),m.setWrapperTransition(i),m.setWrapperTranslate(k),m.onTransitionStart(),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m.onTransitionEnd()}))):m.updateProgress(k),m.updateActiveIndex()}return void((!m.params.freeModeMomentum||c>=m.params.longSwipesMs)&&(m.updateProgress(),m.updateActiveIndex()))}var v,y=0,B=m.slidesSizesGrid[0];for(v=0;v<m.slidesGrid.length;v+=m.params.slidesPerGroup)"undefined"!=typeof m.slidesGrid[v+m.params.slidesPerGroup]?d>=m.slidesGrid[v]&&d<m.slidesGrid[v+m.params.slidesPerGroup]&&(y=v,B=m.slidesGrid[v+m.params.slidesPerGroup]-m.slidesGrid[v]):d>=m.slidesGrid[v]&&(y=v,B=m.slidesGrid[m.slidesGrid.length-1]-m.slidesGrid[m.slidesGrid.length-2]);var C=(d-m.slidesGrid[y])/B;if(c>m.params.longSwipesMs){if(!m.params.longSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(C>=m.params.longSwipesRatio?y+m.params.slidesPerGroup:y),"prev"===m.swipeDirection&&m.slideTo(C>1-m.params.longSwipesRatio?y+m.params.slidesPerGroup:y)}else{if(!m.params.shortSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(y+m.params.slidesPerGroup),"prev"===m.swipeDirection&&m.slideTo(y)}}},m._slideTo=function(a,b){return m.slideTo(a,b,!0,!0)},m.slideTo=function(a,b,d,e){"undefined"==typeof d&&(d=!0),"undefined"==typeof a&&(a=0),0>a&&(a=0),m.snapIndex=Math.floor(a/m.params.slidesPerGroup),m.snapIndex>=m.snapGrid.length&&(m.snapIndex=m.snapGrid.length-1);var f=-m.snapGrid[m.snapIndex];m.params.autoplay&&m.autoplaying&&(e||!m.params.autoplayDisableOnInteraction?m.pauseAutoplay(b):m.stopAutoplay()),m.updateProgress(f);for(var g=0;g<m.slidesGrid.length;g++)-f>=m.slidesGrid[g]&&(a=g);if("undefined"==typeof b&&(b=m.params.speed),m.previousIndex=m.activeIndex||0,m.activeIndex=a,f===m.translate)return m.updateClasses(),!1;m.onTransitionStart(d);c()?f:0,c()?0:f;return 0===b?(m.setWrapperTransition(0),m.setWrapperTranslate(f),m.onTransitionEnd(d)):(m.setWrapperTransition(b),m.setWrapperTranslate(f),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m.onTransitionEnd(d)}))),m.updateClasses(),!0},m.onTransitionStart=function(a){"undefined"==typeof a&&(a=!0),m.lazy&&m.lazy.onTransitionStart(),a&&(m.params.onTransitionStart&&m.params.onTransitionStart(m),m.params.onSlideChangeStart&&m.activeIndex!==m.previousIndex&&m.params.onSlideChangeStart(m))},m.onTransitionEnd=function(a){m.animating=!1,m.setWrapperTransition(0),"undefined"==typeof a&&(a=!0),m.lazy&&m.lazy.onTransitionEnd(),a&&(m.params.onTransitionEnd&&m.params.onTransitionEnd(m),m.params.onSlideChangeEnd&&m.activeIndex!==m.previousIndex&&m.params.onSlideChangeEnd(m))},m.slideNext=function(a,b,c){if(m.params.loop){if(m.animating)return!1;m.fixLoop();{m.container[0].clientLeft}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,b,a,c)}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,b,a,c)},m._slideNext=function(a){return m.slideNext(!0,a,!0)},m.slidePrev=function(a,b,c){if(m.params.loop){if(m.animating)return!1;m.fixLoop();{m.container[0].clientLeft}return m.slideTo(m.activeIndex-1,b,a,c)}return m.slideTo(m.activeIndex-1,b,a,c)},m._slidePrev=function(a){return m.slidePrev(!0,a,!0)},m.slideReset=function(a,b,c){return m.slideTo(m.activeIndex,b,a)},m.setWrapperTransition=function(a,b){m.wrapper.transition(a),m.params.onSetTransition&&m.params.onSetTransition(m,a),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTransition(a),m.params.parallax&&m.parallax&&m.parallax.setTransition(a),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTransition(a),m.params.control&&m.controller&&m.controller.setTransition(a,b)},m.setWrapperTranslate=function(a,b,d){var e=0,f=0,g=0;c()?e=m.rtl?-a:a:f=a,m.wrapper.transform(m.support.transforms3d?"translate3d("+e+"px, "+f+"px, "+g+"px)":"translate("+e+"px, "+f+"px)"),m.translate=c()?e:f,b&&m.updateActiveIndex(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTranslate(m.translate),m.params.parallax&&m.parallax&&m.parallax.setTranslate(m.translate),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTranslate(m.translate),m.params.control&&m.controller&&m.controller.setTranslate(m.translate,d),m.params.hashnav&&m.hashnav&&m.hashnav.setHash(),m.params.onSetTranslate&&m.params.onSetTranslate(m,m.translate)},m.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),m.rtl&&d&&(d=-d),d||0},m.getWrapperTranslate=function(a){return"undefined"==typeof a&&(a=c()?"x":"y"),m.getTranslate(m.wrapper[0],a)},m.observers=[],m.initObservers=function(){if(m.params.observeParents)for(var a=m.container.parents(),b=0;b<a.length;b++)f(a[b]);f(m.container[0],{childList:!1}),f(m.wrapper[0],{attributes:!1})},m.disconnectObservers=function(){for(var a=0;a<m.observers.length;a++)m.observers[a].disconnect();m.observers=[]},m.createLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove();var a=m.wrapper.children("."+m.params.slideClass);m.loopedSlides=parseInt(m.params.loopedSlides||m.params.slidesPerView,10),m.loopedSlides=m.loopedSlides+m.params.loopAdditionalSlides,m.loopedSlides>a.length&&(m.loopedSlides=a.length);var b,c=[],d=[];for(a.each(function(b,e){var f=n(this);b<m.loopedSlides&&d.push(e),b<a.length&&b>=a.length-m.loopedSlides&&c.push(e),f.attr("data-swiper-slide-index",b)}),b=0;b<d.length;b++)m.wrapper.append(n(d[b].cloneNode(!0)).addClass(m.params.slideDuplicateClass));for(b=c.length-1;b>=0;b--)m.wrapper.prepend(n(c[b].cloneNode(!0)).addClass(m.params.slideDuplicateClass))},m.destroyLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove()},m.fixLoop=function(){var a;m.activeIndex<m.loopedSlides?(a=m.slides.length-3*m.loopedSlides+m.activeIndex,a+=m.loopedSlides,m.slideTo(a,0,!1,!0)):("auto"===m.params.slidesPerView&&m.activeIndex>=2*m.loopedSlides||m.activeIndex>m.slides.length-2*m.params.slidesPerView)&&(a=-m.slides.length+m.activeIndex+m.loopedSlides,a+=m.loopedSlides,m.slideTo(a,0,!1,!0))},m.appendSlide=function(a){if(m.params.loop&&m.destroyLoop(),"object"==typeof a&&a.length)for(var b=0;b<a.length;b++)a[b]&&m.wrapper.append(a[b]);else m.wrapper.append(a);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0)},m.prependSlide=function(a){m.params.loop&&m.destroyLoop();var b=m.activeIndex+1;if("object"==typeof a&&a.length){for(var c=0;c<a.length;c++)a[c]&&m.wrapper.prepend(a[c]);b=m.activeIndex+a.length}else m.wrapper.prepend(a);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.slideTo(b,0,!1)},m.removeSlide=function(a){m.params.loop&&m.destroyLoop();var b,c=m.activeIndex;if("object"==typeof a&&a.length){for(var d=0;d<a.length;d++)b=a[d],m.slides[b]&&m.slides.eq(b).remove(),c>b&&c--;c=Math.max(c,0)}else b=a,m.slides[b]&&m.slides.eq(b).remove(),c>b&&c--,c=Math.max(c,0);m.params.observer&&m.support.observer||m.update(!0),m.slideTo(c,0,!1)},m.removeAllSlides=function(){for(var a=[],b=0;b<m.slides.length;b++)a.push(b);m.removeSlide(a)},m.effects={fade:{setTranslate:function(){for(var a=0;a<m.slides.length;a++){var b=m.slides.eq(a),d=b[0].swiperSlideOffset,e=-d-m.translate,f=0;c()||(f=e,e=0);var g=m.params.fade.crossFade?Math.max(1-Math.abs(b[0].progress),0):1+Math.min(Math.max(b[0].progress,-1),0);b.css({opacity:g}).transform("translate3d("+e+"px, "+f+"px, 0px)")}},setTransition:function(a){m.slides.transition(a)}},cube:{setTranslate:function(){var a,b=0;m.params.cube.shadow&&(c()?(a=m.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=n('<div class="swiper-cube-shadow"></div>'),m.wrapper.append(a)),a.css({height:m.width+"px"})):(a=m.container.find(".swiper-cube-shadow"),0===a.length&&(a=n('<div class="swiper-cube-shadow"></div>'),m.container.append(a))));for(var d=0;d<m.slides.length;d++){var e=m.slides.eq(d),f=90*d,g=Math.floor(f/360);m.rtl&&(f=-f,g=Math.floor(-f/360));var h=Math.max(Math.min(e[0].progress,1),-1),i=0,j=0,k=0;d%4===0?(i=4*-g*m.size,k=0):(d-1)%4===0?(i=0,k=4*-g*m.size):(d-2)%4===0?(i=m.size+4*g*m.size,k=m.size):(d-3)%4===0&&(i=-m.size,k=3*m.size+4*m.size*g),m.rtl&&(i=-i),c()||(j=i,i=0);var l="rotateX("+(c()?0:-f)+"deg) rotateY("+(c()?f:0)+"deg) translate3d("+i+"px, "+j+"px, "+k+"px)";if(1>=h&&h>-1&&(b=90*d+90*h,m.rtl&&(b=90*-d-90*h)),e.transform(l),m.params.cube.slideShadows){var o=e.find(c()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),p=e.find(c()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===o.length&&(o=n('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>'),e.append(o)),0===p.length&&(p=n('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>'),e.append(p));{e[0].progress}o.length&&(o[0].style.opacity=-e[0].progress),p.length&&(p[0].style.opacity=e[0].progress)}}if(m.wrapper.css({"-webkit-transform-origin":"50% 50% -"+m.size/2+"px","-moz-transform-origin":"50% 50% -"+m.size/2+"px","-ms-transform-origin":"50% 50% -"+m.size/2+"px","transform-origin":"50% 50% -"+m.size/2+"px"}),m.params.cube.shadow)if(c())a.transform("translate3d(0px, "+(m.width/2+m.params.cube.shadowOffset)+"px, "+-m.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+m.params.cube.shadowScale+")");else{var q=Math.abs(b)-90*Math.floor(Math.abs(b)/90),r=1.5-(Math.sin(2*q*Math.PI/360)/2+Math.cos(2*q*Math.PI/360)/2),s=m.params.cube.shadowScale,t=m.params.cube.shadowScale/r,u=m.params.cube.shadowOffset;a.transform("scale3d("+s+", 1, "+t+") translate3d(0px, "+(m.height/2+u)+"px, "+-m.height/2/t+"px) rotateX(-90deg)")}var v=m.isSafari||m.isUiWebView?-m.size/2:0;m.wrapper.transform("translate3d(0px,0,"+v+"px) rotateX("+(c()?0:b)+"deg) rotateY("+(c()?-b:0)+"deg)")},setTransition:function(a){m.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),m.params.cube.shadow&&!c()&&m.container.find(".swiper-cube-shadow").transition(a)}},coverflow:{setTranslate:function(){for(var a=m.translate,b=c()?-a+m.width/2:-a+m.height/2,d=c()?m.params.coverflow.rotate:-m.params.coverflow.rotate,e=m.params.coverflow.depth,f=0,g=m.slides.length;g>f;f++){
var h=m.slides.eq(f),i=m.slidesSizesGrid[f],j=h[0].swiperSlideOffset,k=(b-j-i/2)/i*m.params.coverflow.modifier,l=c()?d*k:0,o=c()?0:d*k,p=-e*Math.abs(k),q=c()?0:m.params.coverflow.stretch*k,r=c()?m.params.coverflow.stretch*k:0;Math.abs(r)<.001&&(r=0),Math.abs(q)<.001&&(q=0),Math.abs(p)<.001&&(p=0),Math.abs(l)<.001&&(l=0),Math.abs(o)<.001&&(o=0);var s="translate3d("+r+"px,"+q+"px,"+p+"px)  rotateX("+o+"deg) rotateY("+l+"deg)";if(h.transform(s),h[0].style.zIndex=-Math.abs(Math.round(k))+1,m.params.coverflow.slideShadows){var t=h.find(c()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),u=h.find(c()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===t.length&&(t=n('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>'),h.append(t)),0===u.length&&(u=n('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>'),h.append(u)),t.length&&(t[0].style.opacity=k>0?k:0),u.length&&(u[0].style.opacity=-k>0?-k:0)}}if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){var v=m.wrapper.style;v.perspectiveOrigin=b+"px 50%"}},setTransition:function(a){m.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}}},m.lazy={initialImageLoaded:!1,loadImageInSlide:function(a){if("undefined"!=typeof a&&0!==m.slides.length){var b=m.slides.eq(a),c=b.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==c.length&&c.each(function(){var a=n(this);a.addClass("swiper-lazy-loading");var c=a.attr("data-src");m.loadImage(a[0],c,!1,function(){a.attr("src",c),a.removeAttr("data-src"),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),b.find(".swiper-lazy-preloader, .preloader").remove(),m.params.onLazyImageLoaded&&m.params.onLazyImageLoaded(m,b[0],a[0])}),m.params.onLazyImageLoad&&m.params.onLazyImageLoad(m,b[0],a[0])})}},load:function(){if(m.params.watchSlidesVisibility)m.wrapper.children("."+m.params.slideVisibleClass).each(function(){m.lazy.loadImageInSlide(n(this).index())});else if(m.params.slidesPerView>1)for(var a=m.activeIndex;a<m.activeIndex+m.params.slidesPerView;a++)m.slides[a]&&m.lazy.loadImageInSlide(a);else m.lazy.loadImageInSlide(m.activeIndex);if(m.params.lazyLoadingInPrevNext){var b=m.wrapper.children("."+m.params.slideNextClass);b.length>0&&m.lazy.loadImageInSlide(b.index());var c=m.wrapper.children("."+m.params.slidePrevClass);c.length>0&&m.loadImageInSlide(c.index())}},onTransitionStart:function(){m.params.lazyLoading&&(m.params.lazyLoadingOnTransitionStart||!m.params.lazyLoadingOnTransitionStart&&!m.lazy.initialImageLoaded)&&(m.lazy.initialImageLoaded=!0,m.lazy.load())},onTransitionEnd:function(){m.params.lazyLoading&&!m.params.lazyLoadingOnTransitionStart&&m.lazy.load()}},m.scrollbar={set:function(){if(m.params.scrollbar){var a=m.scrollbar;a.track=n(m.params.scrollbar),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=n('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=c()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=m.size/m.virtualWidth,a.moveDivider=a.divider*(a.trackSize/m.size),a.dragSize=a.trackSize*a.divider,c()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",m.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(m.params.scrollbar){var a,b=m.scrollbar,d=(m.translate||0,b.dragSize);a=(b.trackSize-b.dragSize)*m.progress,m.rtl&&c()?(a=-a,a>0?(d=b.dragSize-a,a=0):-a+b.dragSize>b.trackSize&&(d=b.trackSize+a)):0>a?(d=b.dragSize+a,a=0):a+b.dragSize>b.trackSize&&(d=b.trackSize-a),c()?(b.drag.transform("translate3d("+a+"px, 0, 0)"),b.drag[0].style.width=d+"px"):(b.drag.transform("translate3d(0px, "+a+"px, 0)"),b.drag[0].style.height=d+"px"),m.params.scrollbarHide&&(clearTimeout(b.timeout),b.track[0].style.opacity=1,b.timeout=setTimeout(function(){b.track[0].style.opacity=0,b.track.transition(400)},1e3))}},setTransition:function(a){m.params.scrollbar&&m.scrollbar.drag.transition(a)}},m.controller={setTranslate:function(a,b){var c,d,e=m.params.control;if(m.isArray(e))for(var f=0;f<e.length;f++)e[f]!==b&&e[f]instanceof Swiper&&(a=e[f].rtl&&"horizontal"===e[f].params.direction?-m.translate:m.translate,c=(e[f].maxTranslate()-e[f].minTranslate())/(m.maxTranslate()-m.minTranslate()),d=(a-m.minTranslate())*c+e[f].minTranslate(),m.params.controlInverse&&(d=e[f].maxTranslate()-d),e[f].updateProgress(d),e[f].setWrapperTranslate(d,!1,m),e[f].updateActiveIndex());else e instanceof Swiper&&b!==e&&(a=e.rtl&&"horizontal"===e.params.direction?-m.translate:m.translate,c=(e.maxTranslate()-e.minTranslate())/(m.maxTranslate()-m.minTranslate()),d=(a-m.minTranslate())*c+e.minTranslate(),m.params.controlInverse&&(d=e.maxTranslate()-d),e.updateProgress(d),e.setWrapperTranslate(d,!1,m),e.updateActiveIndex())},setTransition:function(a,b){var c=m.params.control;if(m.isArray(c))for(var d=0;d<c.length;d++)c[d]!==b&&c[d]instanceof Swiper&&c[d].setWrapperTransition(a,m);else c instanceof Swiper&&b!==c&&c.setWrapperTransition(a,m)}},m.hashnav={init:function(){if(m.params.hashnav){m.hashnav.initialized=!0;var a=document.location.hash.replace("#","");if(a)for(var b=0,c=0,d=m.slides.length;d>c;c++){var e=m.slides.eq(c),f=e.attr("data-hash");if(f===a&&!e.hasClass(m.params.slideDuplicateClass)){var g=e.index();m.slideTo(g,b,m.params.runCallbacksOnInit,!0)}}}},setHash:function(){m.hashnav.initialized&&m.params.hashnav&&(document.location.hash=m.slides.eq(m.activeIndex).attr("data-hash")||"")}},m.disableKeyboardControl=function(){n(document).off("keydown",g)},m.enableKeyboardControl=function(){n(document).on("keydown",g)},m._wheelEvent=!1,m._lastWheelScrollTime=(new Date).getTime(),m.params.mousewheelControl){if(void 0!==document.onmousewheel&&(m._wheelEvent="mousewheel"),!m._wheelEvent)try{new WheelEvent("wheel"),m._wheelEvent="wheel"}catch(C){}m._wheelEvent||(m._wheelEvent="DOMMouseScroll")}return m.disableMousewheelControl=function(){return m._wheelEvent?(m.container.off(m._wheelEvent,h),!0):!1},m.enableMousewheelControl=function(){return m._wheelEvent?(m.container.on(m._wheelEvent,h),!0):!1},m.parallax={setTranslate:function(){m.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){i(this,m.progress)}),m.slides.each(function(){var a=n(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=Math.min(Math.max(a[0].progress,-1),1);i(this,b)})})},setTransition:function(a){"undefined"==typeof a&&(a=m.params.speed),m.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=n(this),c=parseInt(b.attr("data-swiper-parallax-duration"),10)||a;0===a&&(c=0),b.transition(c)})}},m.init=function(){m.params.loop&&m.createLoop(),m.updateContainerSize(),m.updateSlidesSize(),m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&(m.params.loop||m.updateProgress(),m.effects[m.params.effect].setTranslate()),m.params.loop?m.slideTo(m.params.initialSlide+m.loopedSlides,0,m.params.runCallbacksOnInit):(m.slideTo(m.params.initialSlide,0,m.params.runCallbacksOnInit),0===m.params.initialSlide&&(m.parallax&&m.params.parallax&&m.parallax.setTranslate(),m.lazy&&m.params.lazyLoading&&m.lazy.load())),m.attachEvents(),m.params.observer&&m.support.observer&&m.initObservers(),m.params.preloadImages&&!m.params.lazyLoading&&m.preloadImages(),m.params.autoplay&&m.startAutoplay(),m.params.keyboardControl&&m.enableKeyboardControl&&m.enableKeyboardControl(),m.params.mousewheelControl&&m.enableMousewheelControl&&m.enableMousewheelControl(),m.params.hashnav&&m.hashnav&&m.hashnav.init(),m.params.onInit&&m.params.onInit(m)},m.destroy=function(a){m.detachEvents(),m.disconnectObservers(),m.params.keyboardControl&&m.disableKeyboardControl&&m.disableKeyboardControl(),m.params.mousewheelControl&&m.disableMousewheelControl&&m.disableMousewheelControl(),m.params.onDestroy&&m.params.onDestroy(),a!==!1&&(m=null)},m.init(),m}},Swiper.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled},device:function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),d=(a.match(/(iPod)(.*OS\s([\d_]+))?/),!c&&a.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:c||d||c,android:b}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),flexbox:function(){for(var a=document.createElement("div").style,b="WebkitBox msFlexbox MsFlexbox WebkitFlex MozBox flex".split(" "),c=0;c<b.length;c++)if(b[c]in a)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()}};for(var b=["jQuery","Zepto","Dom7"],c=0;c<b.length;c++)window[b[c]]&&a(window[b[c]]);var d;d="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,d&&("transitionEnd"in d.fn||(d.fn.transitionEnd=function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this}),"transform"in d.fn||(d.fn.transform=function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this}),"transition"in d.fn||(d.fn.transition=function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this}))}(),"undefined"!=typeof module?module.exports=Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper}),function(a){var b=document.createElement("div"),c=b.getElementsByTagName("i"),d=a(document.documentElement);b.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->",c[0]&&d.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(d.addClass("tablesaw-enhanced"),a(function(){a(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={}),Tablesaw.config||(Tablesaw.config={}),function(a){var b="table",c={toolbar:"tablesaw-bar"},d={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},e="stack",f="table[data-tablesaw-mode],table[data-tablesaw-sortable]",g=function(b){if(!b)throw new Error("Tablesaw requires an element.");this.table=b,this.$table=a(b),this.mode=this.$table.attr("data-tablesaw-mode")||e,this.init()};g.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",b+"-"+Math.round(1e4*Math.random())),this.createToolbar();var a=this._initCells();this.$table.trigger(d.create,[this,a])},g.prototype._initCells=function(){var b,c=this.table.querySelectorAll("thead tr"),d=this;return a(c).each(function(){var e=0;a(this).children().each(function(){var f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(e+1)+")";if(b=e+1,f)for(var h=0;f-1>h;h++)e++,g+=", :nth-child("+(e+1)+")";this.cells=d.$table.find("tr").not(a(c).eq(0)).not(this).children(g),e++})}),b},g.prototype.refresh=function(){this._initCells(),this.$table.trigger(d.refresh)},g.prototype.createToolbar=function(){var b=this.$table.prev("."+c.toolbar);b.length||(b=a("<div>").addClass(c.toolbar).insertBefore(this.$table)),this.$toolbar=b,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},g.prototype.destroy=function(){this.$table.prev("."+c.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var e=this.$table.attr("id");a(document).unbind("."+e),a(window).unbind("."+e),this.$table.trigger(d.destroy,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(b)},a.fn[b]=function(){return this.each(function(){var c=a(this);if(!c.data(b)){var d=new g(this);c.data(b,d)}})},a(document).on("enhance.tablesaw",function(c){a(c.target).find(f)[b]()})}(jQuery),function(a,b,c){var d={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},e={obj:"tablesaw-stack"},f={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},g=function(a){this.$table=b(a),this.labelless=this.$table.is("["+f.labelless+"]"),this.hideempty=this.$table.is("["+f.hideempty+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(e.obj,this)};g.prototype.init=function(a){if(this.$table.addClass(d.stackTable),!this.labelless){var c=b(this.allHeaders),e=this.hideempty;c.each(function(){var c=b(this),g=b(this.cells).filter(function(){return!(b(this).parent().is("["+f.labelless+"]")||e&&b(this).is(":empty"))}),h=g.not(this).filter("thead th").length&&" tablesaw-cell-label-top",i=c.find(".tablesaw-sortable-btn"),j=i.length?i.html():c.html();if(""!==j)if(h){var k=parseInt(b(this).attr("colspan"),10),l="";k&&(l="td:nth-child("+k+"n + "+a+")"),g.filter(l).prepend("<b class='"+d.cellLabels+h+"'>"+j+"</b>")}else g.wrapInner("<span class='"+d.cellContentLabels+"'></span>"),g.prepend("<b class='"+d.cellLabels+"'>"+j+"</b>")})}},g.prototype.destroy=function(){this.$table.removeClass(d.stackTable),this.$table.find("."+d.cellLabels).remove(),this.$table.find("."+d.cellContentLabels).each(function(){b(this).replaceWith(this.childNodes)})},b(document).on("tablesawcreate",function(a,b,c){if("stack"===b.mode){var d=new g(b.table);d.init(c)}}),b(document).on("tablesawdestroy",function(a,c){"stack"===c.mode&&b(c.table).data(e.obj).destroy()})}(this,jQuery),function(a){var b="tablesawbtn",c=".btn",d={_create:function(){return a(this).each(function(){a(this).trigger("beforecreate."+b)[b]("_init").trigger("create."+b)})},_init:function(){var c=a(this),d=this.getElementsByTagName("select")[0];return d&&a(this).addClass("btn-select")[b]("_select",d),c},_select:function(b){var c=function(b,c){var d,e,f,g=a(c).find("option");if(g.each(function(){var a=this;a.selected&&(d=document.createTextNode(a.text))}),f=b.childNodes,g.length>0)for(var h=0,i=f.length;i>h;h++)e=f[h],e&&3===e.nodeType&&b.replaceChild(d,e)};c(this,b),a(this).bind("change refresh",function(){c(this,b)})}};a.fn[b]=function(c,d,e,f){return this.each(function(){return c&&"string"==typeof c?a.fn[b].prototype[c].call(this,d,e,f):a(this).data(b+"active")?a(this):(a(this).data(b+"active",!0),void a.fn[b].prototype._create.call(this))})},a.extend(a.fn[b].prototype,d),a(document).on("enhance",function(d){a(c,d.target)[b]()})}(jQuery),function(a,b,c){var d=function(a){this.$table=b(a),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.i18n={columnBtnText:"Columns",columnsDialogError:"No eligible columns."},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};d.prototype.init=function(){function a(){i.addClass("visible"),f.removeClass("down").addClass("up"),b(document).unbind("click."+d,c),window.clearTimeout(l),l=window.setTimeout(function(){b(document).one("click."+d,c)},15)}function c(a){a&&b(a.target).closest("."+j.classes.popup).length||(b(document).unbind("click."+d),f.removeClass("up").addClass("down"),i.removeClass("visible"))}var d,e,f,g,h,i,j=this;this.$table.addClass(this.classes.columnToggleTable),d=this.$table.attr("id"),e=d+"-popup",i=b("<div class='"+this.classes.columnBtnContain+"'></div>"),f=b("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+this.i18n.columnBtnText+"</span></a>"),g=b("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),h=b("<div class='btn-group'></div>");var k=!1;b(this.headers).not("td").each(function(){var a=b(this),c=a.attr("data-tablesaw-priority"),d=a.add(this.cells);c&&"persist"!==c&&(d.addClass(j.classes.priorityPrefix+c),b("<label><input type='checkbox' checked>"+a.text()+"</label>").appendTo(h).children(0).data("cells",d),k=!0)}),k||h.append("<label>"+this.i18n.columnsDialogError+"</label>"),h.appendTo(g),h.find('input[type="checkbox"]').on("change",function(a){var c=a.target.checked;b(a.target).data("cells").toggleClass("tablesaw-cell-hidden",!c).toggleClass("tablesaw-cell-visible",c),j.$table.trigger("tablesawcolumns")}),f.appendTo(i),i.appendTo(this.$table.prev("."+this.classes.toolbar));var l;f.on("click.tablesaw",function(b){b.preventDefault(),i.is(".visible")?c():a()}),g.appendTo(i),this.$menu=h,b(window).on("resize."+d,function(){j.refreshToggle()}),this.refreshToggle()},d.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var a=b(this);this.checked="table-cell"===a.data("cells").eq(0).css("display")})},d.prototype.refreshPriority=function(){var a=this;b(this.headers).not("td").each(function(){var c=b(this),d=c.attr("data-tablesaw-priority"),e=c.add(this.cells);d&&"persist"!==d&&e.addClass(a.classes.priorityPrefix+d)})},d.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var a=b(this);a.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},b(document).on("tablesawcreate",function(a,b){if("columntoggle"===b.mode){var c=new d(b.table);c.init()}}),b(document).on("tablesawdestroy",function(a,c){"columntoggle"===c.mode&&b(c.table).data("tablesaw-coltoggle").destroy()})}(this,jQuery),function(a,b,c){function d(c){function d(a){return b(a.cells).add(a)}function f(a){d(a).removeClass("tablesaw-cell-hidden")}function g(a){d(a).addClass("tablesaw-cell-hidden")}function h(a){d(a).addClass("tablesaw-cell-persist")}function i(a){return b(a).is('[data-tablesaw-priority="persist"]')}function j(){c.removeClass(w),b("#"+B+"-persist").remove()}function k(){var a="#"+B+".tablesaw-swipe ",d=[],e=c.width();x.each(function(c){var f;i(this)&&(f=b(this).outerWidth(),.75*e>f&&d.push(a+" .tablesaw-cell-persist:nth-child("+(c+1)+") { width: "+f+"px; }"))}),j(),c.addClass(w),A.append(b("<style>"+d.join("\n")+"</style>").attr("id",B+"-persist"))}function l(){var a,c=[];return y.each(function(d){var e=b(this),f="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(f||a){if(f&&a)return c[1]=d,!1}else a=!0,c[0]=d}),c}function m(){var a=l();return[a[1]-1,a[0]-1]}function n(a){return a?l():m()}function o(a){return a[1]>-1&&a[1]<y.length}function p(){var a=20,d=c.parent().width(),e=[],i=0,k=[],l=x.length;x.each(function(c){var f=b(this),g=f.is('[data-tablesaw-priority="persist"]');e.push(g),i+=z[c]+(g?0:a),k.push(i),(g||i>d)&&l--});var m=0===l;x.each(function(a){return e[a]?void h(this):void(k[a]<=d||m?(m=!1,f(this)):g(this))}),C||j(),c.trigger("tablesawcolumns")}function q(a){var b=n(a);o(b)&&(isNaN(b[0])&&(a?b[0]=0:b[0]=y.length-1),C||k(),g(y.get(b[0])),f(y.get(b[1])),c.trigger("tablesawcolumns"))}function r(a,b){return(a.touches||a.originalEvent.touches)[0][b]}var s=b("<div class='tablesaw-advance'></div>"),t=b("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(s),u=b("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(s),v="disabled",w="tablesaw-fix-persist",x=c.find("thead th"),y=x.not('[data-tablesaw-priority="persist"]'),z=[],A=b(document.head||"head"),B=c.attr("id"),C=b("html").is(".ie-lte8");if(!x.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");c.css("width","auto"),x.each(function(){z.push(b(this).outerWidth())}),c.css("width",""),s.appendTo(c.prev(".tablesaw-bar")),c.addClass("tablesaw-swipe"),B||(B="tableswipe-"+Math.round(1e4*Math.random()),c.attr("id",B)),t.add(u).click(function(a){q(!!b(a.target).closest(u).length),a.preventDefault()}),c.bind("touchstart.swipetoggle",function(a){var c,d,f=r(a,"pageX"),g=r(a,"pageY");b(this).bind("touchmove",function(a){c=r(a,"pageX"),d=r(a,"pageY"),Math.abs(c-f)>e.horizontalThreshold&&Math.abs(d-g)<e.verticalThreshold&&a.preventDefault()}).bind("touchend.swipetoggle",function(){c-f<-1*e.horizontalThreshold&&q(!0),c-f>e.horizontalThreshold&&q(!1),b(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){t[o(m())?"removeClass":"addClass"](v),u[o(l())?"removeClass":"addClass"](v)}).bind("tablesawnext.swipetoggle",function(){q(!0)}).bind("tablesawprev.swipetoggle",function(){q(!1)}).bind("tablesawdestroy.swipetoggle",function(){var c=b(this);c.removeClass("tablesaw-swipe"),c.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),b(a).off("resize",p),c.unbind(".swipetoggle")}),p(),b(a).on("resize",p)}b.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});var e=Tablesaw.config.swipe;b(document).on("tablesawcreate",function(a,b){"swipe"===b.mode&&d(b.$table)})}(this,jQuery),function(a){function b(b){return a.map(b.childNodes,function(b){var c=a(b);if(c.is("input, select"))return c.val();if(!c.hasClass("tablesaw-cell-label"))return a.trim(c.text())}).join("")}var c="tablesaw-sortable",d="table[data-"+c+"]",e="[data-"+c+"-switch]",f={defaultCol:"data-tablesaw-sortable-default-col"},g={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:c+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:c+"-btn"},h={sort:"Sort"},i={_create:function(b){return a(this).each(function(){var d=a(this).data("init"+c);return d?!1:void a(this).data("init"+c,!0).trigger("beforecreate."+c)[c]("_init",b).trigger("create."+c)})},_init:function(){var d,i,j=a(this),k=function(){j.addClass(c)},l=function(b){a.each(b,function(b,c){a(c).addClass(g.head)})},m=function(b,c){a.each(b,function(b,d){var e=a("<button class='"+g.sortButton+"'/>");e.bind("click",{col:d},c),a(d).wrapInner(e)})},n=function(b){a.each(b,function(b,c){var d=a(c);d.removeAttr(f.defaultCol),d.removeClass(g.ascend),d.removeClass(g.descend)})},o=function(b){if(!a(b.target).is("a[href]")){b.stopPropagation();var e=a(this).parent(),f=b.data.col,h=d.index(e);n(e.siblings()),e.hasClass(g.descend)?(j[c]("sortBy",f,!0),h+="_asc"):(j[c]("sortBy",f),h+="_desc"),i&&i.find("select").val(h).trigger("refresh"),b.preventDefault()}},p=function(b){a.each(b,function(b,c){var d=a(c);d.is("["+f.defaultCol+"]")&&(d.hasClass(g.descend)||d.addClass(g.ascend))})},q=function(d){i=a("<div>").addClass(g.switcher).addClass(g.tableToolbar).html(function(){var c=["<label>"+h.sort+":"];return c.push('<span class="btn btn-small">&#160;<select>'),d.each(function(d){var e=a(this),h=e.is("["+f.defaultCol+"]"),i=e.hasClass(g.descend),j=!1;a(this.cells).slice(0,3).each(function(){return isNaN(parseInt(b(this),10))?void 0:(j=!0,!1)}),c.push("<option"+(h&&!i?" selected":"")+' value="'+d+'_asc">'+e.text()+" "+(j?"":"(A-Z)")+"</option>"),c.push("<option"+(h&&i?" selected":"")+' value="'+d+'_desc">'+e.text()+" "+(j?"":"(Z-A)")+"</option>")}),c.push("</select></span></label>"),c.join("")});var e=j.prev(".tablesaw-bar"),k=e.children().eq(0);k.length?i.insertBefore(k):i.appendTo(e),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var b=a(this).val().split("_"),e=d.eq(b[0]);n(e.siblings()),j[c]("sortBy",e.get(0),"asc"===b[1])})};k(),d=j.find("thead th[data-"+c+"-col]"),l(d),m(d,o),p(d),j.is(e)&&q(d,j.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(b){return a(b).prevAll().length},getTableRows:function(){return a(this).find("tbody tr")},sortRows:function(c,d,e,f){var g,h,i,j=function(c){var e=[];return a.each(c,function(c,f){e.push({cell:b(a(f).children().get(d)),rowNum:c})}),e},k=function(a,b){var c,d=/[^\-\+\d\.]/g;return c=a?function(a,c){return b||!isNaN(parseFloat(a.cell))?parseFloat(a.cell.replace(d,""))-parseFloat(c.cell.replace(d,"")):a.cell.toLowerCase()>c.cell.toLowerCase()?1:-1}:function(a,c){return b||!isNaN(parseFloat(a.cell))?parseFloat(c.cell.replace(d,""))-parseFloat(a.cell.replace(d,"")):a.cell.toLowerCase()<c.cell.toLowerCase()?1:-1}},l=function(a,b){var c,d,e,f=[];for(c=0,d=a.length;d>c;c++)e=a[c].rowNum,f.push(b[e]);return f};return g=j(c),h=k(e,a(f).is("[data-sortable-numeric]")),i=g.sort(h),c=l(i,c)},replaceTableRows:function(b){var c=a(this),d=c.find("tbody");d.html(b)},makeColDefault:function(b,c){var d=a(b);d.attr(f.defaultCol,"true"),c?(d.removeClass(g.descend),d.addClass(g.ascend)):(d.removeClass(g.ascend),d.addClass(g.descend))},sortBy:function(b,d){var e,f,g=a(this);e=g[c]("getColumnNumber",b),f=g[c]("getTableRows"),f=g[c]("sortRows",f,e,d,b),g[c]("replaceTableRows",f),g[c]("makeColDefault",b,d)}};a.fn[c]=function(b){var d,e=Array.prototype.slice.call(arguments,1);return b&&"string"==typeof b?(d=a.fn[c].prototype[b].apply(this[0],e),"undefined"!=typeof d?d:a(this)):(a(this).data(c+"data")||(a(this).data(c+"active",!0),a.fn[c].prototype._create.call(this,b)),a(this))},a.extend(a.fn[c].prototype,i),a(document).on("tablesawcreate",function(a,b){b.$table.is(d)&&b.$table[c]()})}(jQuery),function(a,b,c){function d(c){function d(b){var c=b.attr(e.attr.init);return!c||a.matchMedia&&a.matchMedia(c).matches}function f(){if(!d(c))return void g.hide();g.show();var a=h.find("li").removeClass(i);c.find("thead th").each(function(c){"none"===b(this).css("display")&&a.eq(c).addClass(i)})}var g=b('<div class="tablesaw-advance minimap">'),h=b('<ul class="tablesaw-advance-dots">').appendTo(g),i="tablesaw-advance-dots-hide",j=c.find("thead th");j.each(function(){h.append("<li><i></i></li>")}),g.appendTo(c.prev(".tablesaw-bar")),f(),b(a).on("resize",f),c.bind("tablesawcolumns.minimap",function(){f()}).bind("tablesawdestroy.minimap",function(){var c=b(this);c.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),b(a).off("resize",f),c.unbind(".minimap")})}var e={attr:{init:"data-tablesaw-minimap"}};b(document).on("tablesawcreate",function(a,b){"swipe"!==b.mode&&"columntoggle"!==b.mode||!b.$table.is("[ "+e.attr.init+"]")||d(b.$table)})}(this,jQuery),function(a,b){var c={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s'},init:function(a){var d=b(a),e=d.attr(c.attributes.excludeMode),f=d.prev(".tablesaw-bar"),g="",h=b("<div>").addClass(c.classes.main+" "+c.classes.toolbar).html(function(){var a,b=["<label>"+c.i18n.columns+":"],f=d.attr("data-tablesaw-mode");b.push('<span class="btn btn-small">&#160;<select>');for(var h=0,i=c.modes.length;i>h;h++)e&&e.toLowerCase()===c.modes[h]||(a=f===c.modes[h],a&&(g=c.modes[h]),b.push("<option"+(a?" selected":"")+' value="'+c.modes[h]+'">'+c.i18n.modes[h]+"</option>"));return b.push("</select></span></label>"),b.join("")}),i=f.find(".tablesaw-advance").eq(0);i.length?h.insertBefore(i):h.appendTo(f),h.find(".btn").tablesawbtn(),h.find("select").bind("change",c.onModeChange)},onModeChange:function(){var a=b(this),d=a.closest("."+c.classes.main),e=a.closest(".tablesaw-bar").nextUntil(e).eq(0),f=a.val();d.remove(),e.data("table").destroy(),e.attr("data-tablesaw-mode",f),e.table()}};b(a.document).on("tablesawcreate",function(a,b){b.$table.is(c.selectors.init)&&c.init(b.table)})}(this,jQuery),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Ba.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){va.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sb[a]||(e(b),sb[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function k(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d),ub===!1&&(ub=!0,va.updateOffset(this),ub=!1)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=va.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ka.length>0)for(c in Ka)d=Ka[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=va.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pa(a,"Date",oa(a,"Date")+f*c),g&&na(a,oa(a,"Month")+g*c),d&&va.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lb[a]||mb[b]||b}return a}function A(a){var b,d,e={};for(d in a)c(a,d)&&(b=z(d),b&&(e[b]=a[d]));return e}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}va[b]=function(e,f){
var g,h,i=va._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=va().utc().set(d,a);return i.call(va._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return ja(va([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Da]<0||a._a[Da]>11?Da:a._a[Ea]<1||a._a[Ea]>D(a._a[Ca],a._a[Da])?Ea:a._a[Fa]<0||a._a[Fa]>24||24===a._a[Fa]&&(0!==a._a[Ga]||0!==a._a[Ha]||0!==a._a[Ia])?Fa:a._a[Ga]<0||a._a[Ga]>59?Ga:a._a[Ha]<0||a._a[Ha]>59?Ha:a._a[Ia]<0||a._a[Ia]>999?Ia:-1,a._pf._overflowDayOfYear&&(Ca>b||b>Ea)&&(b=Ea),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Ja[a]&&La)try{b=va.locale(),require("./locale/"+a),va.locale(b)}catch(c){}return Ja[a]}function M(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(va.isMoment(a)||x(a)?+a:+va(a))-+c,c._d.setTime(+c._d+d),va.updateOffset(c,!1),c):va(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pa);for(b=0,c=d.length;c>b;b++)rb[d[b]]?d[b]=rb[d[b]]:d[b]=N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nb[b]||(nb[b]=O(b)),nb[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qa.lastIndex=0;d>=0&&Qa.test(a);)a=a.replace(Qa,c),Qa.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _a;case"DDDD":return bb;case"YYYY":case"GGGG":case"gggg":return d?cb:Ta;case"Y":case"G":case"g":return eb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?db:Ua;case"S":if(d)return _a;case"SS":if(d)return ab;case"SSS":if(d)return bb;case"DDD":return Sa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wa;case"a":case"A":return b._locale._meridiemParse;case"x":return Za;case"X":return $a;case"Z":case"ZZ":return Xa;case"T":return Ya;case"SSSS":return Va;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ab:Ra;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ra;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xa)||[],c=b[b.length-1]||[],d=(c+"").match(jb)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?e:-e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Da]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Da]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Da]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Ea]=C(b));break;case"Do":null!=b&&(e[Ea]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Ca]=va.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Ca]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fa]=C(b);break;case"m":case"mm":e[Ga]=C(b);break;case"s":case"ss":e[Ha]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ia]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=va.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Ca],ja(va(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Ca],ja(va(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ka(d,e,f,h,g),a._a[Ca]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Ea]&&null==a._a[Da]&&U(a),a._dayOfYear&&(f=b(a._a[Ca],e[Ca]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fa(f,0,a._dayOfYear),a._a[Da]=d.getUTCMonth(),a._a[Ea]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fa]&&0===a._a[Ga]&&0===a._a[Ha]&&0===a._a[Ia]&&(a._nextDay=!0,a._a[Fa]=0),a._d=(a._useUTC?fa:ea).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fa]=24)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(b){if(b._f===va.ISO_8601)return void aa(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Q(b._f,b._locale).match(Pa)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(R(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rb[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),T(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Fa]<=12&&(b._pf.bigHour=a),b._a[Fa]=k(b._locale,b._a[Fa],b._meridiem),V(b),H(b)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));o(a,c||b)}function aa(a){var b,c,d=a._i,e=fb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hb.length;c>b;b++)if(hb[b][1].exec(d)){a._f=hb[b][0]+(e[6]||" ");break}for(b=0,c=ib.length;c>b;b++)if(ib[b][1].exec(d)){a._f+=ib[b][0];break}d.match(Xa)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function ba(a){aa(a),a._isValid===!1&&(delete a._isValid,va.createFromInputFallback(a))}function ca(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function da(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Ma.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?ba(b):w(d)?(b._a=ca(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):va.createFromInputFallback(b)}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function ha(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ia(a,b,c){var d=va.duration(a).abs(),e=Aa(d.as("s")),f=Aa(d.as("m")),g=Aa(d.as("h")),h=Aa(d.as("d")),i=Aa(d.as("M")),j=Aa(d.as("y")),k=e<ob.s&&["s",e]||1===f&&["m"]||f<ob.m&&["mm",f]||1===g&&["h"]||g<ob.h&&["hh",g]||1===h&&["d"]||h<ob.d&&["dd",h]||1===i&&["M"]||i<ob.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ha.apply({},k)}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=va(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a,b,c,d,e){var f,g,h=fa(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function la(b){var c,d=b._i,e=b._f;return b._locale=b._locale||va.localeData(b._l),null===d||e===a&&""===d?va.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),va.isMoment(d)?new m(d,!0):(e?w(e)?_(b):Y(b):da(b),c=new m(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function ma(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return va();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function na(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function oa(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pa(a,b,c){return"Month"===b?na(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qa(a,b){return function(c){return null!=c?(pa(this,a,c),va.updateOffset(this,b),this):oa(this,a)}}function ra(a){return 400*a/146097}function sa(a){return 146097*a/400}function ta(a){va.duration.fn[a]=function(){return this._data[a]}}function ua(a){"undefined"==typeof ender&&(wa=za.moment,a?za.moment=f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",va):za.moment=va)}for(var va,wa,xa,ya="2.9.0",za="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Aa=Math.round,Ba=Object.prototype.hasOwnProperty,Ca=0,Da=1,Ea=2,Fa=3,Ga=4,Ha=5,Ia=6,Ja={},Ka=[],La="undefined"!=typeof module&&module&&module.exports,Ma=/^\/?Date\((\-?\d+)/i,Na=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Oa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ra=/\d\d?/,Sa=/\d{1,3}/,Ta=/\d{1,4}/,Ua=/[+\-]?\d{1,6}/,Va=/\d+/,Wa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xa=/Z|[\+\-]\d\d:?\d\d/gi,Ya=/T/i,Za=/[\+\-]?\d+/,$a=/[\+\-]?\d+(\.\d{1,3})?/,_a=/\d/,ab=/\d\d/,bb=/\d{3}/,cb=/\d{4}/,db=/[+-]?\d{6}/,eb=/[+-]?\d+/,fb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gb="YYYY-MM-DDTHH:mm:ssZ",hb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ib=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jb=/([\+\-]|\d\d)/gi,kb=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nb={},ob={s:45,m:45,h:22,d:26,M:11},pb="DDD w W M D d".split(" "),qb="M D H h m s w W".split(" "),rb={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sb={},tb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],ub=!1;pb.length;)xa=pb.pop(),rb[xa+"o"]=i(rb[xa],xa);for(;qb.length;)xa=qb.pop(),rb[xa+xa]=h(rb[xa],2);rb.DDDD=h(rb.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=va.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=va([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ja(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),va=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),la(g)},va.suppressDeprecationWarnings=!1,va.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),va.min=function(){var a=[].slice.call(arguments,0);return ma("isBefore",a)},va.max=function(){var a=[].slice.call(arguments,0);return ma("isAfter",a)},va.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),la(g).utc()},va.unix=function(a){return va(1e3*a)},va.duration=function(a,b){var d,e,f,g,h=a,i=null;return va.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Na.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Ea])*d,h:C(i[Fa])*d,m:C(i[Ga])*d,s:C(i[Ha])*d,ms:C(i[Ia])*d}):(i=Oa.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=t(va(h.from),va(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new n(h),va.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},va.version=ya,va.defaultFormat=gb,va.ISO_8601=function(){},va.momentProperties=Ka,va.updateOffset=function(){},va.relativeTimeThreshold=function(b,c){return ob[b]===a?!1:c===a?ob[b]:(ob[b]=c,!0)},va.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return va.locale(a,b)}),va.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?va.defineLocale(a,b):va.localeData(a),c&&(va.duration._locale=va._locale=c)),va._locale._abbr},va.defineLocale=function(a,b){return null!==b?(b.abbr=a,Ja[a]||(Ja[a]=new l),Ja[a].set(b),va.locale(a),Ja[a]):(delete Ja[a],null)},va.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return va.localeData(a)}),va.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return va._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},va.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},va.isDuration=function(a){return a instanceof n};for(xa=tb.length-1;xa>=0;--xa)B(tb[xa]);va.normalizeUnits=function(a){return z(a)},va.invalid=function(a){var b=va.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},va.parseZone=function(){return va.apply(null,arguments).parseZone()},va.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},va.isDate=x,o(va.fn=m.prototype,{clone:function(){return va(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=va(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?va.utc(this._a):va(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=P(this,a||va.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=j(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return va.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(va(),a)},calendar:function(a){var b=a||va(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,va(b)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ga(a,this.localeData()),this.add(a-b,"d")):b},month:qa("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=z(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=va.isMoment(a)?a:va(a),+this>+a):(c=va.isMoment(a)?+a:+va(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=va.isMoment(a)?a:va(a),+a>+this):(c=va.isMoment(a)?+a:+va(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=va.isMoment(a)?a:va(a),+this===+a):(c=+va(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=va.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=va.apply(null,arguments),a>this?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,va.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,va.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?va(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Aa((va(this).startOf("day")-va(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=z(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(b){var c;return b===a?this._locale._abbr:(c=va.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),va.fn.millisecond=va.fn.milliseconds=qa("Milliseconds",!1),va.fn.second=va.fn.seconds=qa("Seconds",!1),va.fn.minute=va.fn.minutes=qa("Minutes",!1),va.fn.hour=va.fn.hours=qa("Hours",!0),va.fn.date=qa("Date",!0),va.fn.dates=f("dates accessor is deprecated. Use date instead.",qa("Date",!0)),va.fn.year=qa("FullYear",!0),va.fn.years=f("years accessor is deprecated. Use year instead.",qa("FullYear",!0)),va.fn.days=va.fn.day,va.fn.months=va.fn.month,va.fn.weeks=va.fn.week,va.fn.isoWeeks=va.fn.isoWeek,va.fn.quarters=va.fn.quarter,va.fn.toJSON=va.fn.toISOString,va.fn.isUTC=va.fn.isUtc,o(va.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(ra(e)),e-=q(sa(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ia(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=va.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=va.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*ra(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sa(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:va.fn.lang,locale:va.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),va.duration.fn.toString=va.duration.fn.toISOString;for(xa in kb)c(kb,xa)&&ta(xa.toLowerCase());va.duration.fn.asMilliseconds=function(){return this.as("ms")},va.duration.fn.asSeconds=function(){return this.as("s")},va.duration.fn.asMinutes=function(){return this.as("m")},va.duration.fn.asHours=function(){return this.as("h")},va.duration.fn.asDays=function(){return this.as("d")},va.duration.fn.asWeeks=function(){return this.as("weeks")},va.duration.fn.asMonths=function(){return this.as("M")},va.duration.fn.asYears=function(){return this.as("y")},va.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),La?module.exports=va:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(za.moment=wa),va}),ua(!0)):ua()}.call(this),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["moment"],b):"object"==typeof exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h}}function h(a){a&&this._set(g(a))}function i(a){return(a||"").toLowerCase().replace(/\//g,"_")}function j(a){var b,c,d;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=new h(a[b]),d=i(c.name),y[d]=c,n(d)}function k(a){return y[i(a)]||null}function l(){var a,b=[];for(a in y)y.hasOwnProperty(a)&&y[a]&&b.push(y[a].name);return b.sort()}function m(a){var b,c;

for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),p(c[0],c[1]),p(c[1],c[0])}function n(a){if(z[a]){var b,c=y[a],d=z[a];for(b=0;b<d.length;b++)o(c,d[b]);z[a]=null}}function o(a,b){var c=y[i(b)]=new h;c._set(a),c.name=b}function p(a,b){a=i(a),y[a]?o(y[a],b):(z[a]=z[a]||[],z[a].push(b))}function q(a){j(a.zones),m(a.links),u.dataVersion=a.version}function r(a){return r.didShowError||(r.didShowError=!0,t("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!k(a)}function s(a){return!(!a._a||void 0!==a._tzm)}function t(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function u(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=k(d),f=a.utc.apply(null,c);return e&&!a.isMoment(b)&&s(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function v(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function w(a){return function(){return this._z=null,a.apply(this,arguments)}}if(void 0!==a.tz)return a;var x="0.3.0",y={},z={},A=a.version.split("."),B=+A[0],C=+A[1];(2>B||2===B&&6>C)&&t("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;i>e;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],c>b&&u.moveAmbiguousForward?b=c:b>d&&u.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},u.version=x,u.dataVersion="",u._zones=y,u._links=z,u.add=j,u.link=m,u.load=q,u.zone=k,u.zoneExists=r,u.names=l,u.Zone=h,u.unpack=g,u.unpackBase60=c,u.needsOffset=s,u.moveInvalidForward=!0,u.moveAmbiguousForward=!1;var D=a.fn;a.tz=u,a.defaultZone=null,a.updateOffset=function(b,c){var d;void 0===b._z&&(b._z=a.defaultZone),b._z&&(d=b._z.offset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},D.tz=function(b){return b?(this._z=k(b),this._z?a.updateOffset(this):t("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},D.zoneName=v(D.zoneName),D.zoneAbbr=v(D.zoneAbbr),D.utc=w(D.utc),a.tz.setDefault=function(b){return(2>B||2===B&&9>C)&&t("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?k(b):null,a};var E=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(E)?(E.push("_z"),E.push("_a")):E&&(E._z=null),q({version:"2014j",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HAST HADT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|01010101010101010101010|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT|30 40|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT|-80|0|","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT|-70|0|","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST|-90|0|","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT|-80|0|","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST|50 60|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","Europe/Volgograd|MSK MSK|-30 -40|01010|1BWn0 1qM0 WM0 8Hz0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT|-bu|0|","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Cayman","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Cancun|America/Merida","America/Cancun|America/Mexico_City","America/Cancun|America/Monterrey","America/Cancun|Mexico/General","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Chisinau","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Tiraspol","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Pyongyang|Asia/Seoul","Asia/Pyongyang|ROK","Asia/Samarkand|Asia/Tashkent","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["moment"],b):"object"==typeof exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h}}function h(a){a&&this._set(g(a))}function i(a){return(a||"").toLowerCase().replace(/\//g,"_")}function j(a){var b,c,d;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=new h(a[b]),d=i(c.name),y[d]=c,n(d)}function k(a){return y[i(a)]||null}function l(){var a,b=[];for(a in y)y.hasOwnProperty(a)&&y[a]&&b.push(y[a].name);return b.sort()}function m(a){var b,c;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),p(c[0],c[1]),p(c[1],c[0])}function n(a){if(z[a]){var b,c=y[a],d=z[a];for(b=0;b<d.length;b++)o(c,d[b]);z[a]=null}}function o(a,b){var c=y[i(b)]=new h;c._set(a),c.name=b}function p(a,b){a=i(a),y[a]?o(y[a],b):(z[a]=z[a]||[],z[a].push(b))}function q(a){j(a.zones),m(a.links),u.dataVersion=a.version}function r(a){return r.didShowError||(r.didShowError=!0,t("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!k(a)}function s(a){return!(!a._a||void 0!==a._tzm)}function t(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function u(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=k(d),f=a.utc.apply(null,c);return e&&!a.isMoment(b)&&s(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function v(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function w(a){return function(){return this._z=null,a.apply(this,arguments)}}if(void 0!==a.tz)return a;var x="0.3.0",y={},z={},A=a.version.split("."),B=+A[0],C=+A[1];(2>B||2===B&&6>C)&&t("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,
this.offsets=a.offsets},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;i>e;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],c>b&&u.moveAmbiguousForward?b=c:b>d&&u.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},u.version=x,u.dataVersion="",u._zones=y,u._links=z,u.add=j,u.link=m,u.load=q,u.zone=k,u.zoneExists=r,u.names=l,u.Zone=h,u.unpack=g,u.unpackBase60=c,u.needsOffset=s,u.moveInvalidForward=!0,u.moveAmbiguousForward=!1;var D=a.fn;a.tz=u,a.defaultZone=null,a.updateOffset=function(b,c){var d;void 0===b._z&&(b._z=a.defaultZone),b._z&&(d=b._z.offset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},D.tz=function(b){return b?(this._z=k(b),this._z?a.updateOffset(this):t("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},D.zoneName=v(D.zoneName),D.zoneAbbr=v(D.zoneAbbr),D.utc=w(D.utc),a.tz.setDefault=function(b){return(2>B||2===B&&9>C)&&t("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?k(b):null,a};var E=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(E)?(E.push("_z"),E.push("_a")):E&&(E._z=null),a}),usga=window.usga||{},usga.BaseCampaignWorkflow=can.Construct.extend({init:function(a){if(this.teamApproachMemberInfoWebserviceUrl=usga.config.teamApproachMemberInfoWebserviceUrl,this.pipCheckOutUrl=usga.config.pipCheckOutUrl,this.clubhouseHomeUrl=usga.config.clubhouseHomeUrl,this.defaultRenewFlowUrl=usga.config.defaultRenewFlowUrl,this.defaultJoinFlowUrl=usga.config.defaultJoinFlowUrl,this.defaultReacquisitionUrl=usga.config.defaultReacquisitionUrl,this.alternateJoinUrl=usga.config.alternateJoinUrl,"object"!=typeof a)throw"campaignData is not defined.";for(i=0;i<a.campaign.levels.length;i++)for(a.campaign.levels[i].button=a.campaign.button,j=0;j<a.membershipLevels.length;j++){var b=a.membershipLevels[j];if(b.id==a.campaign.levels[i].id){a.campaign.levels[i].membership=b;break}}a.oneElementArray=[{}],this.campaignData=a,this.campaignData.showDualOption=!0,this.campaignData.showIndividualOption=!0,this.campaignData.campaign.levelsTitle||(this.campaignData.campaign.levelsTitle=""),this.callbacks={}},start:function(a){var b=this;"object"!=typeof a&&(console.log("params was not supplied."),a={}),"function"!=typeof a.showCampaign?(console.log("params.showCampaign is not defined."),this.callbacks.showCampaign=function(){}):this.callbacks.showCampaign=a.showCampaign,"function"!=typeof a.showLoader?(console.log("params.showLoader is not defined."),this.callbacks.showLoader=function(){}):this.callbacks.showLoader=a.showLoader,"function"!=typeof a.hideLoader?(console.log("params.hideLoader is not defined."),this.callbacks.hideLoader=function(){}):this.callbacks.hideLoader=a.hideLoader,usga.Gigya.onUser(function(a){"function"==typeof b.callbacks.ssoSuccessful&&a&&(b.user=a,b.ssoId=a.UID,b.callbacks.ssoSuccessful(a))}),usga.Gigya.onConnectMemberId(this.proxy(this.connectMemberIdSSO)),usga.Gigya.onClosePopup(this.proxy(this.closePopupSSO))},getTeamApproachMemberInfoById:function(a){var b=this,c=new XMLHttpRequest;c.open("POST",this.teamApproachMemberInfoWebserviceUrl,!0);var d='<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><GetMemberInfoByID xmlns="http://tempuri.org/"><Member_ID>'+a.memberId+"</Member_ID></GetMemberInfoByID></s:Body></s:Envelope>";c.onreadystatechange=function(){if(500==c.status)return void alert("Error loading data from teamapproach for the following memberID: "+a.memberId);if(4==c.readyState&&200==c.status){var d=new X2JS,e=d.xml_str2json(c.responseText).Envelope.Body.GetMemberInfoByIDResponse.GetMemberInfoByIDResult.MemberInfo;if("undefined"==typeof e)return void alert("No records found in teamapproach for the following memberID: "+a.memberId);for(var f in e)"object"==typeof e[f]&&e[f]["_xsi:nil"]&&(e[f]="");b.taUser=e,b.userLevelInfo=b.getCurrentUserLevelInfo(),a.callback(e)}},c.setRequestHeader("Content-Type","text/xml"),c.setRequestHeader("SOAPAction","http://tempuri.org/GetMemberInfoByID"),c.send(d)},connectMemberIdSSO:function(){"function"!=typeof this.callbacks.connectMemberIdSuccessful?console.log("connectMemberIdSuccessful is not defined."):this.callbacks.connectMemberIdSuccessful(usga.Gigya.getConnectedMember()),this.callbacks.closePopup=null},closePopupSSO:function(){"function"!=typeof this.callbacks.closePopup?console.log("closePopup is not defined."):this.callbacks.closePopup(),this.callbacks.closePopup=null},successfulEventSSO:function(a){var b=this;"function"!=typeof this.callbacks.ssoSuccessful?console.log("ssoSuccessful is not defined."):usga.Gigya.getUserInfo(function(a){this.callbacks.showLoader(),b.ssoId=a.UID,b.callbacks.ssoSuccessful(a)})},showLoginSSO:function(a){this.callbacks.hideLoader(),usga.Gigya.login({campaign:!0,email:a.email?a.email:this.taUser?this.taUser.Email_Address:""}),this.callbacks.ssoSuccessful=a.callback},showRegistrationSSO:function(a){this.callbacks.hideLoader(),usga.Gigya.register({campaign:!0,email:a.email?a.email:this.taUser?this.taUser.Email_Address:""}),this.callbacks.ssoSuccessful=a.callback},showConnectMemberIdSSO:function(a){this.callbacks.hideLoader(),"object"!=typeof a&&(console.log("params was not supplied."),a={}),"function"!=typeof a.callback&&(a.callback=function(){}),"function"!=typeof a.closePopup&&(a.closePopup=function(){}),a.campaign=!0,this.callbacks.connectMemberIdSuccessful=a.callback,this.callbacks.closePopup=a.closePopup,usga.Gigya.connect(a)},prepareCampaignDataBeforeUI:function(){this.campaignData.campaign.filteredLevels=this.campaignData.campaign.levels},getCurrentUserLevelInfo:function(){if(!this.taUser)return null;var a="single",b=0;"Dual"==this.taUser.Member_Type&&(b=1,a="dual");var c=this.taUser.Member_Level_Code-b;return{level:(10>c?"0":"")+c,type:a,giftType:this.taUser.Gift_Type,lastPayment:this.taUser.Last_Payment_Amount,ssoId:this.taUser.SSOID,alternateId:this.taUser.Alternate_ID,isDual:"dual"==a,isIndividual:"dual"!=a}},failedConnectMemberId:function(){},connectMemberId:function(a){var b=this;"object"!=typeof a&&(console.log("params was not supplied."),a={}),"function"!=typeof a.yesCallback&&(a.yesCallback=function(){}),"function"!=typeof a.noCallback&&(a.noCallback=function(){}),this.showConnectMemberIdSSO({callback:function(c){return 0===c.MemberId?void b.failedConnectMemberId():void b.isThisYou({memberId:c.MemberId,yesCallback:function(){b.taAccountId=c.MemberId,a.yesCallback()},noCallback:function(){b.taUser=null,a.noCallback(),b.connectMemberId(a)}})},closePopup:function(){b.failedConnectMemberId()}})},handleLevelUp:function(){this.userLevelInfo&&this.handleLevelUpByLevel(this.userLevelInfo.level)},handleLevelUpByLevel:function(a){this.campaignData.campaign.filteredLevels=[];for(var b=0;b<this.campaignData.campaign.levels.length;b++)if(this.campaignData.campaign.levels[b].id==a){if(this.campaignData.campaign.filteredLevels.push(this.campaignData.campaign.levels[b]),this.campaignData.campaign.oneLevelUp&&b+1<this.campaignData.campaign.levels.length){var c=this.campaignData.campaign.levels[b+1];this.campaignData.campaign.buttonRight&&(c.button=this.campaignData.campaign.buttonRight),this.campaignData.campaign.filteredLevels.push(c)}break}},handlePriceRange:function(){var a=this;if(!this.campaignData.campaign.filteredLevels||0!==this.campaignData.campaign.filteredLevels.length){var b=[];this.campaignData.showDualOption=!0,this.campaignData.showIndividualOption=this.userLevelInfo.isIndividual;for(var c=0;c<this.campaignData.campaign.filteredLevels.length;c++){var d=this.campaignData.campaign.filteredLevels[c];if(d.price){d.priceRange||(d.priceRange=d.price);for(var e=this.userLevelInfo.isDual?d.priceRange.dual:d.priceRange.individual,f=0===c?"renew":"upgrade",g=0;g<e.length;g++){var h=e[g];if(h.fromPrice||(h.fromPrice=0),h.toPrice||0===h.toPrice||(h.toPrice=999999),this.userLevelInfo.lastPayment>=h.fromPrice&&this.userLevelInfo.lastPayment<=h.toPrice){d.price=h[f+"Individual"],d.priceDual=h[f+"Dual"],this.userLevelInfo.isDual&&(d.price=d.priceDual),b.push(d);break}}}}return this.campaignData.campaign.filteredLevels=b,0===b.length?void this.displayNotAppropriateCampaignModal({closeCallback:function(){a.redirectToClubhouseHome()}}):void 0}},handlePricingBook:function(){var a=this;if(this.campaignData.campaign.filteredLevels&&0===this.campaignData.campaign.filteredLevels.length)return void this.displayNotAppropriateCampaignModal({closeCallback:function(){a.redirectToClubhouseHome()}});for(var b=this.campaignData.campaign.priceBook,c=0;c<b.length;c++){var d=b[c],e=d.currentLevel;if(d.isDual=!1,d.currentType&&"DUAL"==d.currentType&&(d.isDual=!0),d.isDual==this.userLevelInfo.isDual&&this.compareCaseInsensitive(e,this.userLevelInfo.level)&&this.compareCaseInsensitive(d.currentGiftType,this.userLevelInfo.giftType)&&d.lastPayment==this.userLevelInfo.lastPayment)return this.userLevelInfo.isDual?this.campaignData.campaign.filteredLevels[0].price=this.campaignData.campaign.filteredLevels[0].priceDual=d.price:this.campaignData.campaign.filteredLevels[0].price=d.price,this.campaignData.campaign.sourceCode=d.sourceCode,this.campaignData.showDualOption=this.userLevelInfo.isDual,void(this.campaignData.showIndividualOption=!this.campaignData.showDualOption)}this.displayNotAppropriateCampaignModal({closeCallback:function(){a.redirectToClubhouseHome()}})},showCampaignUI:function(a){return"object"!=typeof a&&(console.log("params was not supplied."),a={}),"function"!=typeof a.doneButtonClick?(console.log("doneButtonClick is not defined."),this.callbacks.doneButtonClick=function(){}):this.callbacks.doneButtonClick=a.doneButtonClick,this.taUser&&(this.campaignData.taUser=this.taUser),this.uiShowed?(this.uiShowed=null,void this.callbacks.doneButtonClick()):(this.prepareCampaignDataBeforeUI(),void this.callbacks.showCampaign(this.campaignData))},processAction:function(a){if("object"!=typeof a)throw"params was not supplied.";if(!a.hasOwnProperty("selectedLevel"))throw"params.selectedLevel was not supplied.";this.selectedLevel=a.selectedLevel,this.uiShowed=!0,this.callbacks.doneButtonClick()},getHiddenElement:function(a,b){return $("<input>").attr("type","hidden").attr("name",a).val("undefined"!=typeof b?b:"")},gotoPIPCheckOut:function(){var a=(this.pipCheckOutUrl,$("<form>").attr("action",this.pipCheckOutUrl).attr("method","post"));this.taUser&&(a.append(this.getHiddenElement("curr_mem_level",this.taUser.Member_Level_Desc)),a.append(this.getHiddenElement("curr_mem_level_numeric",this.taUser.Member_Level_Code)),a.append(this.getHiddenElement("curr_member_status",this.taUser.Activity_Status)),a.append(this.getHiddenElement("curr_member_expiration",this.taUser.Expiration_Date)),a.append(this.getHiddenElement("curr_member_last_payment",this.taUser.Last_Payment_Amount)),a.append(this.getHiddenElement("auto_renew_status",this.taUser.Auto_Renew)),a.append(this.getHiddenElement("gift_type",this.taUser.Gift_Type))),a.append(this.getHiddenElement("qs",document.URL)),a.append(this.getHiddenElement("cid",this.campaignData.queryString.c)),a.append(this.getHiddenElement("cmp",this.campaignData.queryString.cmp)),a.append(this.getHiddenElement("r",this.campaignData.queryString.r)),a.append(this.getHiddenElement("Urlmemberid",this.campaignData.queryString.id)),a.append(this.getHiddenElement("memberID",this.taAccountId));var b=this.campaignData.campaign.type.charAt(0).toUpperCase()+this.campaignData.campaign.type.slice(1);a.append(this.getHiddenElement("od_trans_type",b)),a.append(this.getHiddenElement("Mem_type",this.selectedLevel.memberType)),a.append(this.getHiddenElement("PriceValues","Individual"==this.selectedLevel.memberType?this.selectedLevel.price:this.selectedLevel.priceDual));var c="Individual"==this.selectedLevel.memberType?this.selectedLevel.membership.id:(1*this.selectedLevel.membership.id+1).toString();1==c.length&&(c="0"+c),a.append(this.getHiddenElement("Mem_level_numeric",c)),a.append(this.getHiddenElement("Mem_level",this.selectedLevel.membership.shortTitle));var d=this.selectedLevel.additionalBenefits[this.selectedLevel.button.toLowerCase()+"Benefits"];if(d)for(var e=0;e<d.length;e++)a.append(this.getHiddenElement("benefit"+(e+1),d[e].code)),a.append(this.getHiddenElement("benefit"+(e+1)+"_description",d[e].description));"upgrade"==this.campaignData.campaign.type?(a.append(this.getHiddenElement("ref_number",this.campaignData.campaign.sourceCode)),a.append(this.getHiddenElement("def_ref_number",""))):(a.append(this.getHiddenElement("ref_number",this.campaignData.queryString.source)),a.append(this.getHiddenElement("def_ref_number",this.campaignData.campaign.sourceCode))),a.append(this.getHiddenElement("Ssoid",this.ssoId)),$("body").append(a),a.submit()},isMemberExpirationDateGreaterThan6MonthsFromToday:function(a){return this.isMemberExpirationDateGreaterThanMonthsFromToday(6)},isMemberExpirationDateGreaterThanMonthsFromToday:function(a){var b=new Date(this.taUser.Expiration_Date);return new Date(new Date(b).setMonth(b.getMonth()-a))>new Date},hasUserBeenExpiredForMorThan6Months:function(a){return this.hasUserBeenExpiredForMorThanMonths(6)},hasUserBeenExpiredForMorThanMonths:function(a){var b=new Date(this.taUser.Expiration_Date);return new Date(new Date(b).setMonth(b.getMonth()+a))<new Date},isAlternateIdAssociated:function(){return""!==this.taUser.Alternate_ID},isSSOUserFederated:function(){if(!this.user)return!1;if(!this.user.data)return!1;var a=""!==this.user.data.memberId;return a&&(this.taAccountId=this.user.data.memberId),a},doesMemberHaveExpirationDate:function(){return""!==this.taUser.Expiration_Date},doesTaAccountIdPresentInUrl:function(){return this.campaignData.queryString.id?!0:!1},isUserEnrolledInAutoRenew:function(){return"true"==this.taUser.Auto_Renew},isThisYou:function(a){var b=this;this.getTeamApproachMemberInfoById({memberId:a.memberId,callback:function(){b.displayConfirmationModal({yesCallback:a.yesCallback,noCallback:a.noCallback})}})},displayConfirmationModal:function(a){return"object"!=typeof a&&(a={}),"function"!=typeof a.yesCallback&&(a.yesCallback=function(){}),"function"!=typeof a.noCallback&&(a.noCallback=function(){}),usga.url.query.confirmed?void a.yesCallback():(this.taUser.First_Name||this.taUser.Last_Name?a.message="Are you "+this.taUser.First_Name+" "+this.taUser.Last_Name+"?":this.taUser.Email_Address?a.message="Is your email "+this.taUser.Email_Address+"?":a.message="Is your member id "+this.taUser.Member_ID+"?",void this.showCampaignModal(".confirmation",a))},displayAutoRenewModal:function(a){this.showCampaignModal(".auto-renew",a)},displayActiveMemberModal:function(a){this.showCampaignModal(".active-member",a)},displayIneligibleRenewalModal:function(a){this.showCampaignModal(".ineligible-for-renewal",a)},displayNotAppropriateCampaignModal:function(a){this.showCampaignModal(".not-eligible-offer",a)},showCampaignModal:function(a,b){if(!this.campaignModal&&$("#campaignModal").length&&(this.campaignModal=new usga.ModalCampaign("#campaignModal")),this.campaignModal){this.callbacks.hideLoader(),"function"!=typeof b.closeCallback&&(b.closeCallback=function(){}),"function"!=typeof b.yesCallback&&(b.yesCallback=function(){}),"function"!=typeof b.noCallback&&(b.noCallback=function(){});var c=this,d=b.closeCallback,e=b.yesCallback,f=b.noCallback;b.closeCallback=function(){c.callbacks.hideLoader(),d()},b.yesCallback=function(){c.callbacks.hideLoader(),e()},b.noCallback=function(){c.callbacks.hideLoader(),f()},this.campaignModal.open(a,b)}},redirectQueryString:function(){return this.taAccountId?"?confirmed=yes&id="+this.taAccountId:""},redirectToClubhouseHome:function(){document.location=this.clubhouseHomeUrl},redirectToRenewFlow:function(){document.location=this.defaultRenewFlowUrl+this.redirectQueryString()},redirectToJoinFlow:function(){document.location=this.defaultJoinFlowUrl+this.redirectQueryString()},redirectToReacquisitionFlow:function(){document.location=this.defaultReacquisitionUrl+this.redirectQueryString()},redirectToAlternateJoinFlow:function(){document.location=this.alternateJoinUrl+this.redirectQueryString()},nullShieldLowerCase:function(a){return a?a.toLowerCase():""},compareCaseInsensitive:function(a,b){return this.nullShieldLowerCase(a)==this.nullShieldLowerCase(b)}}),usga.CampaignWorkflowFactory={create:function(a){if("object"!=typeof a)throw"campaignData was not supplied.";if("object"!=typeof a.campaign)throw"campaignData.campaign was not supplied.";switch(a.campaign.type){case"join":return new usga.JoinCampaignWorkflow(a);case"reacquisition":return new usga.ReacquisitionCampaignWorkflow(a);case"renew":return new usga.RenewCampaignWorkflow(a);case"upgrade":return new usga.UpgradeCampaignWorkflow(a);default:throw a.campaign.type+" is not correct or not implemented yet."}}},usga=window.usga||{},usga.BaseMap=can.Map.extend({setup:function(){can.Map.setup.apply(this,arguments),this.List=can.List({Map:this},{})}},{}),usga=window.usga||{},usga.BaseModule=can.Control.extend({biggerMaxWidth:1170,bigMaxWidth:960,mediumMaxWidth:767,smallMaxWidth:480,resizeTimeout:100,offsetVisible:50,lazyLoading:!0,domReady:!1,loaded:!1,hasProtectedContent:!1,setup:function(a,b){var c=this._super(a,b);return this.$element=this.element,c},init:function(){this.screenSize=this.getScreenSize(),this.onDocumentReady&&(usga.domReady?this.onDocumentReady():this.on(document,"ready",this.proxy(this.onDocumentReady))),this.onWindowLoad&&(usga.windowLoad?this.onWindowLoad():this.on(window,"load",this.proxy(this.onWindowLoad))),(this.onWindowScroll||this.onFirstShow)&&this.on(window,"scroll",this.proxy(this._onWindowScroll)),(this.onWindowResize||this.onLayout)&&this.on(window,"resize",this.proxy(this._onWindowResize)),this.hasProtectedContent&&usga.Gigya.onUser(this.proxy(this.onUserLogged)),this.onFirstShow?this.lazyLoading?this.checkModuleVisible():(this.loaded=!0,this.onFirstShow()):this.loaded=!0},getViewportSize:function(){var a=window,b="inner";"innerWidth"in window||(b="client",a=document.documentElement||document.body);var c=document.body.style;return{width:c.width?parseInt(c.width):a[b+"Width"],height:c.height?parseInt(c.height):a[b+"Height"]}},getScreenSize:function(){var a,b=this.getViewportSize();return a=b.width<=this.smallMaxWidth?"small":b.width<=this.mediumMaxWidth?"medium":b.width<=this.bigMaxWidth?"big":b.width<=this.biggerMaxWidth?"bigger":"infinity"},isDomReady:function(){return usga.domReady},isSmallScreen:function(){return"small"==this.getScreenSize()},isMediumScreen:function(){return"medium"==this.getScreenSize()},isBigScreen:function(){return"big"==this.getScreenSize()},isBiggerScreen:function(){return"bigger"==this.getScreenSize()},isInfinityScreen:function(){return"infinity"==this.getScreenSize()},checkModuleVisible:function(){var a=$(window).scrollTop(),b=this.$element.offset();b&&a+$(window).height()>=b.top-this.offsetVisible&&(this.loaded=!0,this.onFirstShow())},applyCloudinaryConfig:function(a,b){var c=can.extend({},b);c.quality||(c.quality=70,c.width>1200&&(c.quality=50)),a.cloudinary(c)},trigger:function(a){can.event.trigger.call(this,a,usga.getArgs(arguments,1))},bind:function(a,b){can.event.bind.call(this,a,b)},unbind:function(a,b){can.event.unbind.call(this,a,b)},updateProtectedLinks:function(){var a=this.element.find("a[href*='/protected/'], a.protected__link");a.off("click"),usga.Gigya.isUserHasAccessToProtectedContent()?a.removeClass("locked").addClass("unlocked"):a.removeClass("unlocked").addClass("locked"),a.filter(".locked").click(this.onProtectedLinkClick)},_onWindowResize:function(){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.proxy(this.onResizeTimer),this.resizeTimeout)},onResizeTimer:function(){this.resizeTimer=null,this.onFirstShow&&this.lazyLoading&&!this.loaded&&this.checkModuleVisible();var a=this.getScreenSize();this.screenSize!==a&&(this.screenSize=a,this.onLayout&&this.loaded&&this.onLayout(this.screenSize)),this.onWindowResize&&this.onWindowResize()},_onWindowScroll:function(){this.onFirstShow&&this.lazyLoading&&!this.loaded&&this.checkModuleVisible(),this.onWindowScroll&&this.onWindowScroll()},onUserLogged:function(a){this.updateProtectedLinks()},onProtectedLinkClick:function(a){a.preventDefault(),usga.Gigya.isLoggedIn()?usga.Gigya.isMember()?usga.Gigya.isMembershipActualOrInGracePeriod()||usga.Gigya.openMembershipExpiredDialog():usga.Gigya.openNonMemberDialog():usga.Gigya.openNotLoggedInDialog(),usga.Gigya.setRedirectionUrl($(this).attr("href"))}}),usga.BaseCloudinaryModule=usga.BaseModule.extend({getCloudinaryConfigParameterFromCss:function(a,b){var c=a.css(b);return c&&"auto"!=c&&"none"!=c?parseInt(c.replace("px","")):void 0},getImageAttr:function(a,b,c){var d=a.attr(b);return d?(c&&(d=parseInt(d)),d):void 0},applyCloudinary:function(a){a=a||this.$element;for(var b,c,d,e,f,g,h,i=a.find("img[data-src]"),j=$.cloudinary.device_pixel_ratio(),k=0;k<i.length;k++)b=$(i[k]),d=this.getCloudinaryConfigParameterFromCss(b,"max-width"),e=this.getCloudinaryConfigParameterFromCss(b,"max-height"),f=this.getImageAttr(b,"width",!0),g=this.getImageAttr(b,"height",!0),(d!=f||e!=g)&&(b.removeAttr("height"),b.removeAttr("width"),h=d>1170?50:70,j=1170>d?j:null,c={width:d,height:e,crop:this.getImageAttr(b,"data-crop")||"fill",quality:this.getImageAttr(b,"data-quality")||h},1170>d&&j>1&&(c.dpr=Math.ceil(2*j)/2),b.cloudinary(c))},onFirstShow:function(){this.applyCloudinary()},onLayout:function(){this.applyCloudinary()}}),usga.VariableSlider=usga.BaseCloudinaryModule.extend({sliderSelector:"",getSliderConfig:function(){},initSlider:function(){var a=this.getSliderConfig();a&&(this.slider=this.$element.find(this.sliderSelector).bxSlider(a))},reinitSlider:function(){var a=this.getSliderConfig();can.Object.same(a,this.lastConfig)||(this.lastConfig=a,!a&&this.slider?this.slider.destroySlider():a&&!this.slider?this.initSlider():a&&this.slider&&this.slider.reloadSlider(a))},onFirstShow:function(){this._super(),this.$element.removeClass("loading"),this.initSlider()},onLayout:function(a){this._super(),this.reinitSlider()}}),usga.Paginator=can.Map.extend({count:0,offset:0,limit:10,next:function(){this.attr("offset",this.offset+this.limit)},prev:function(){this.attr("offset",this.offset-this.limit)},canNext:function(){return this.attr("offset")<this.attr("count")-this.attr("limit")},canPrev:function(){return this.attr("offset")>0},page:function(a){return void 0===a?Math.floor(this.attr("offset")/this.attr("limit"))+1:void this.attr("offset",(parseInt(a,10)-1)*this.attr("limit"))},pageCount:function(){return this.attr("count")?Math.ceil(this.attr("count")/this.attr("limit")):null}}),usga.BaseModal=usga.BaseModule.extend({init:function(){this._super(),this.element.appendTo($("body"))},open:function(){this.$element.show()},close:function(a){this.$element.hide(),this.onClose(a)},onClose:function(){}}),can.Component.extend({tag:"cloudinary-image",template:'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=" data-src="{{src}}" data-crop="{{crop}}" alt="{{alt}}">',scope:{define:{src:{set:function(a){return a?(this.stripPrefix&&0===a.indexOf(this.stripPrefix)&&(a=a.substr(this.stripPrefix.length)),a):""}}},stripPrefix:"/content/dam"}}),usga.BaseSearchModule=usga.BaseCloudinaryModule.extend({KEYS:{ENTER:13},defaults:{baseUrl:usga.embed?"http://www.usga.org":location.protocol+"//"+location.host,baseSearchPageUrl:"",searchPageUrl:"/search-results.html#q={query}{type}",template:"",attivioSearchQueryData:{q:""}},getResultsUrl:function(a,b,c,d){var e="";return d&&(e="&type="+d),a+can.sub(b,{query:usga.BaseSearchModule.prepareQueryText(c),type:e})},navigateToUrl:function(a){var b=location.pathname,c=usga.url.trimHost(a);location.href=a,b&&"/"!==b&&0===c.indexOf(b)&&setTimeout(function(){location.reload(!0)},0)},prepareQueryText:function(a){return a&&"string"==typeof a?encodeURIComponent(a):""}},{hasProtectedContent:!0,init:function(a,b){this._super()},_renderTemplate:function(){return this.options.template&&$(this.options.template)[0]?can.view(this.options.template,this.context,{"protected":this.proxy(this._handleByProtectedHelper),pages:this.proxy(this._handleByPagesHelper),activePageLink:this.proxy(this._handleByActivePageLinkHelper),activeType:this.proxy(this._handleByActiveTypeHelper)}):""},_handleByProtectedHelper:function(a){a.context.isProtected&&$(a.nodeList[0]).addClass("protected__link")},_handleByPagesHelper:function(a){if(this.context&&this.context.paginator){for(var b=this.context.paginator.page(),c=this.context.paginator.pageCount(),d=[],e=[],f=[],g=0;c>g;g++)d.push({page:g+1});var h=b-3;1>h&&(h=1),e=d.slice(h-1,h+4);for(var i=0,j=e.length;j>i;i++)f.push(a.fn(e[i]));return f}},_handleByActiveTypeHelper:function(a){if(this.context&&"type"in this.context){var b=$(a.nodeList),c=this.context.type||"";b.find("a[data-type]").removeClass("active"),b.find(can.sub('a[data-type="{type}"]',{type:c})).addClass("active")}},_handleByActivePageLinkHelper:function(a,b){var c=$(b.nodeList[0]),d=c.parent();this.context.paginator&&this.context.paginator.page()===a&&(d.find("[data-page]").removeClass("active"),c.addClass("active"))},_getQueryText:function(){return this.$query.val().trim().replace(/\s+/g," ")},getResultsUrl:function(a){var b="";return a&&(b="&type="+a),this.options.baseSearchPageUrl+can.sub(this.options.searchPageUrl,{query:usga.BaseSearchModule.prepareQueryText(this._getQueryText()),type:b})},_makeRequest:function(a,b){return $.ajax({url:usga.config.attivioSearchUrl,data:$.extend({},this.options.attivioSearchQueryData,{q:usga.quote(a)},b||{}),dataType:"jsonp"})},_getSynonyms:function(a){if(usga.isObject(a)&&a.feedback)for(var b=0,c=a.feedback.length;c>b;b++){var d=a.feedback[b];if(d.name&&"synonyms.expansion"===d.name&&d.message){var e=d.message.match(/=>\s*\[([^\]]+)\]$/);if(e[1])return{label:e[1]}}}return!1},_getPredictiveDocumentsCount:function(a){return usga.isObject(a)&&a.documents&&$.isArray(a.documents)?a.documents.length:0},_getDocumentsCount:function(a){var b=this._getFacetCounts(a);return usga.reduce(b,function(a,b){return a+b.count},0)},_getFacetBucket:function(a){if(usga.isObject(a)&&a.facets)for(var b=0,c=a.facets.length;c>b;b++){var d=a.facets[b];if(d.field&&"concepts"===d.field&&$.isArray(d.buckets))return d.buckets[0]}return!1},_getFacetCounts:function(a){var b={};if(usga.isObject(a)&&a.facets)for(var c=0,d=a.facets.length;d>c;c++){var e=a.facets[c];if("contentType"===e.field&&$.isArray(e.buckets))for(var f=$.merge([],e.buckets),g=0,h=f.length;h>g;g++){var i=this._plainDocumentType(f[g].label);i.match(/rules/i)&&(i="rules"),b[i]||(b[i]={count:0,label:f[g].label||"",type:i}),b[i].count+=f[g].count||0}}return $.each(usga.keys(b),function(a,c){c.count&&null!==c.count||delete b[a]}),b},_getDocuments:function(a){return usga.isObject(a)&&a.documents?a.documents:[]},_plainDocumentType:function(a){return a.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s+/g,"_")},_getDocumentType:function(a){var b=this._getDocumentProperty(a,"contentType",!0);return b&&null!==b?b&&"string"!=typeof b&&(b=""+b):b="all",b?{name:this._plainDocumentType(b),label:b}:null},_getDocumentProperty:function(a,b,c,d,e){if(!a||!usga.isObject(a)||!a[b])return void 0;if($.isArray(a[b])){if(c)return a[b][0];if(d)return a[b].join(e||"")}return a[b]},_prepareRenderItem:function(a,b){var c={},d=this._getDocumentProperty(a,"title",!0),e=this._getDocumentProperty(a,"text",!0)||"",f=this._getDocumentProperty(a,"uri",!0),g=this._getDocumentProperty(a,"imageUrl",!0),h=this._getDocumentProperty(a,"contentType",!0),i=(this._getDocumentType(a),""+this._getDocumentProperty(a,"protected",!0)=="true"),j="Title";return c.title=b?d||j:usga.stripTags(d||j),c.text=b?e||"":usga.stripTags(e),c.uri=f,f&&0!==f.search(/^[^:]+:\/\//)&&(c.uri=this.options.baseUrl.replace(/\/$/,"")+"/"+f.replace(/^\//g,"")),c.shortUrl=usga.url["short"](c.uri),g&&(c.imageUrl=usga.trimDamInUrl(g)),c.type=h,c.isProtected=i,c},_trackDtmFullSearch:function(a,b){usga.trackDtm("user-full-search",{search:{term:a,results:b}})},_trackDtmTypedSearch:function(a,b,c){usga.trackDtm("user-search-filter-"+(c||"all"),{search:{term:a,results:b}})}}),window.usga=window.usga||{},function(a,b){var c=void 0!==a.isProd?b.isFunction(a.isProd)?a.isProd():!!a.isProd:!0;a.config={cloudName:"usga",gigyaApiKey:c?"3_2XjOryTsvLPQvhvmmwB8TY-OB_6VT05LD5NVNZjYl1TTvIhq_2kEmKcC9MG1LbVw":"3_5B0rrVdH06F8hPSY0XgLXrpXMRDgP6M5v5lF60lKTkALovXxebE6I0IvdNBV0w2g",gigyaBaseServiceUrl:c?"//account.usga.org":"//staging.account.usga.org",teamApproachMemberInfoWebserviceUrl:c?"https://members.usga.org/data/endpoints/MemberInfo.asmx":"https://members.usga.org/qa/data/endpoints/MemberInfo.asmx",pipCheckOutUrl:c?"https://members.usga.org/signup_membership/":"https://members.usga.org/qa/signup_2015/signup.aspx",clubhouseHomeUrl:c?"https://www.usga.org/clubhouse/":"/clubhouse.html",defaultJoinFlowUrl:"/clubhouse/campaigns/members-join.html",defaultRenewFlowUrl:"/clubhouse/campaigns/members-renew.html",defaultReacquisitionUrl:"/clubhouse/campaigns/members-renew-offer.html",alternateJoinUrl:"/clubhouse/campaigns/members-renew-guest.html",attivioSearchUrl:c?"//search.usga.org/usga/json":"//209.48.25.21:17000/usga/json",eventsPhpApiUrl:c?"https://membersclubhouse.usga.org/api/":"//events-usgamc.mngd.org/api/"}}(window.usga,window.jQuery);var usga=window.usga||{};usga.FormValidator=usga.BaseModule.extend({customRules:[],error:null,errors:[],isValid:!1,emailRegEx:new RegExp("^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$"),validate:function(){var a=!0,b=[];return this.error=null,this.errors=[],this.isValid=!0,$.merge(b,this.options.rules||[]),$.merge(b,this.customRules||[]),$.each(b,this.proxy(function(b,c){if(c.elements&&c.validator){var d=this.$element.find(c.elements),e=this.getValidatorMethod(c.validator);this.invokeValidator(d,e,c)||(a=!1)}})),!a&&this.errors.length&&(this.error=this.errors[0]),this.isValid=a,a},getValidatorMethod:function(a){var b=can.camelize("validate-"+a+"-field");return this[b]||null},invokeValidator:function(a,b,c){if(!a[0]||!$.isFunction(b)||!c)return!0;var d=!0;return a.each(this.proxy(function(a,e){var f=$(e);this.validateField(f,b,c.options||{})||(d=!1,this.errors.push({message:c.message||"",field:f.attr("name")||c.elements||"",element:f[0]}))})),d},validateField:function(a,b,c){if(!a[0]||!$.isFunction(b))return!0;var d,e=a.prop("tagName").toLowerCase();switch(e){case"select":d=""===a.val()?null:a.val();break;default:d=a.val().trim()}return b.call(this,d,c)},validateRequiredField:function(a,b){var c=!!a&&a.length>0;return c},validateEmailField:function(a,b){return a?a.match(this.emailRegEx):!0},validateLengthofField:function(a,b){return a&&b.maxLength?a.length<=b.maxLength:!0}}),window.usga=window.usga||{},function(a,b,c){var d,e=!1,f=!1,g=!1,h={},i=null,j=null,k="",l=function(a,b){var c=h[a];c||(c=h[a]=[]),c.push(b)},m=function(c){var d=h[c];if(d){var e=a.getArgs(arguments,1);b.each(d,function(a,b){n.apply(null,[b].concat(e))})}},n=function(b){if("function"==typeof b){var c=a.getArgs(arguments,1);b.apply(null,c)}},o=function(c,d){if("gigya-loaded"===c)e=!0,setTimeout(s,10);else if(~["login-successful","register-successful","register-fan-successful","login-connect-successful","connect-account-successful"].indexOf(c)){var f=d.memberExpDate?new Date(d.memberExpDate):!1;f&&moment(f).isValid()&&moment()<moment(f).add(1,"month")&&(b.cookie.raw=!0,b.cookie("__LoggedIn__",d.akamaiToken,{expires:30,path:"/",domain:"usga.org"}));var g=10;"register-successful"!==c&&"register-fan-successful"!==c||!a.browser.safari||(g=1e3),
setTimeout(s,g)}else"logout"===c?(z.resetDtm(),q(!0),b.cookie("__LoggedIn__",null,{path:"/"}),b.removeCookie("__LoggedIn__",{path:"/"}),w(null),m("logout")):"connect-member-id"===c?(j=d,m("connect-member-id")):"close-popup"===c&&m("close-popup")},p=function(){return"sso"===a.url.query.show},q=function(a){a?b.removeCookie("sessionLogin",{path:"/"}):b.cookie("sessionLogin",!0,{path:"/"})},r=function(){return void 0!==b.cookie("sessionLogin")},s=function(){c&&c.gigya.accounts.getAccountInfo({callback:function(b){var c="OK"==b.status?b:null;w(c),y()||!z.isUserOnProtectedContentPage()||z.isUserHasAccessToProtectedContent()||(document.location.href=a.config.clubhouseHomeUrl),c?(m("login",i),k&&z.isUserHasAccessToProtectedContent()&&(document.location.href=k),p()&&!z.isUserHasAccessToProtectedContent()&&z.openMembershipExpiredDialog(),z.setDtm(),r()||(q(),z.trackDtm())):!f&&p()&&(a.url.query.target&&z.setRedirectionUrl(a.url.query.target),z.openNotLoggedInDialog()),f||(f=!0,m("ready",i))},include:"profile,data",extraProfileFields:"address,phones"})},t=function(a,b){c&&c.gigya.ds.get({type:"Member",oid:a,callback:function(a){"OK"==a.status?n(b,a):(console.warn("DataStore object can not be retrieved."),n(b))}})},u=function(d){if(!c)return void a.log("usga.Gigya: UA is not available");var e=b.Deferred(),f=b.Deferred();return f.promise().then(function(b){b?c.gigya.ds.get({oid:d,type:"Member",callback:function(c){if(a.isObject(c)||(a.log("usga.Gigya: wrong ds response"),e.resolve(!1)),"OK"===c.status){var d=c.data&&null!==c.data&&c.data.address&&null!==c.data.address&&c.data.address.shipping&&null!==c.data.address.billing&&a.isObject(c.data.address.shipping)?c.data.address.shipping:{};b.address1=b.address&&null!==b.address?b.address:"",b.address2=d.address2&&null!==d.address2?d.address2:"",e.resolve(b)}else a.log("usga.Gigya: "+c.errorMessage),e.resolve(!1)}}):e.resolve(!1)}),c.gigya.accounts.getAccountInfo({callback:function(b){a.isObject(b)||(a.log("usga.Gigya: wrong info response"),f.resolve(!1)),"OK"==b.status?f.resolve(b.profile&&null!==b.profile&&a.isObject(b.profile)?b.profile:{}):(a.log("usga.Gigya: "+b.errorMessage),f.resolve(!1))},include:"profile",extraProfileFields:"address"}),e.promise()},v=function(d,e){if(!c)return void a.log("usga.Gigya: UA is not available");var f=b.Deferred(),g=JSON.stringify(e),h=b.ajax({url:a.config.gigyaBaseServiceUrl.replace(/\/+$/,"")+"/Services/SetProfileData.ashx",method:"post",dataType:"jsonp",data:{uid:d,apiKey:a.config.gigyaApiKey,data:g}});return h.done(function(b){a.isObject(b)||(a.log("usga.Gigya: wrong response"),f.resolve(!1)),"success"===b.status?f.resolve(!0):(a.log("usga.Gigya: "+b.error),f.resolve(!1))}),h.fail(function(b,c){a.log("usga.Gigya: "+c),f.resolve(!1)}),f.promise()},w=function(a){i=a,g=!!a,m("user",a)},x=function(a,d){c&&c.display(b.extend(d,{action:a}))},y=function(){return void 0!==window.CQ},z=a.Gigya={init:function(a){c&&(d=b.extend({},a,{eventHandler:o}),c.init(d))},isReady:function(){return f},setDtm:function(){var b="User not logged in";i&&(this.isFederatedUserOutsideRenewalWindow()?b="Federated User outside renewal window":this.isExpiringFederatedUserWithinRenewalWindow()?b="Federated User within renewal window":this.isExpiredFederatedUser()?b="Expired Federated User":this.isLapsedFederatedUser()?b="Lapsed Federated User":this.isFan()?b="Logged In Fan Account":this.isProspect()&&(b="Logged in Prospect Account")),a.setDtm({user:{loginstate:b,id:i?i.UID:"",level:i&&i.data?i.data.memberLevel:""}})},resetDtm:function(){b.extend(window.digitalData,{user:null})},trackDtm:function(){a.trackDtm("userlogin",{})},isLoggedIn:function(){return g},isMember:function(){if(i){var a=i.data;return!!a.memberExpDate}},isMembershipActual:function(){if(i){var a=i.data,b=a.memberExpDate;if(b)return moment().add(1,"month")<moment(new Date(b))}},isMembershipActualOrInGracePeriod:function(){if(i){var a=i.data,b=a.memberExpDate;if(b)return moment()<moment(new Date(b)).add(1,"month")}},isExpiredMember:function(){return this.isMember()&&!this.isMembershipActual()},isUserState:function(a){var b=!1;if(i){var c=i.data;if(c.memberExpDate){var d=moment(),e=new Date(c.memberExpDate);switch(a){case"standard-active":b=d.add(45,"day")<moment(e);break;case"standard-expiring":b=d.add(45,"day")>=moment(e);break;case"standard-expired":b=moment(e).add(30,"day")<d;break;case"standard-in-grace":b=moment(e).add(30,"day")>=d&&moment(e)<d;break;default:b=!1}}}return b},isExpiringFederatedUserWithinRenewalWindow:function(){if(i&&this.isMember()&&i.data.memberExpDate){var a=new Date(i.data.memberExpDate);return moment().add(6,"M")>moment(a)&&moment()<moment(a)}},isFederatedUserOutsideRenewalWindow:function(){if(i&&this.isMember()&&!this.isExpiredMember()){var a=i.data.memberExpDate;if(a)return moment().add(6,"M")<moment(new Date(a))}},isExpiredFederatedUser:function(){if(i&&this.isExpiredMember()){var a=i.data.memberExpDate;if(a)return moment()<moment(new Date(a)).add(6,"M")}},isLapsedFederatedUser:function(){return i&&this.isExpiredMember()?!this.isExpiredFederatedUser():void 0},isFan:function(){if(i){var a=i.data;return!a.memberId&&!a.memberExpDate}},isProspect:function(){if(i){var a=i.data;return a.memberId&&!a.memberExpDate}},getUser:function(a){f?n(a,i):this.onReady(a)},getDataStore:function(a){z.getUser(function(b){b?t(b.UID,a):n(a)})},getProfileMailingAddress:function(){return i?u(i.UID):b.when(!1)},setProfileMailingAddress:function(a){return i?v(i.UID,a):b.when(!1)},getConnectedMember:function(){return j},login:function(a){x("sign-in",a)},logout:function(){c&&c.logout()},register:function(a){x("register",a)},campaignRegister:function(){this.register({campaign:!0})},campaignLogin:function(){this.login({campaign:!0})},profile:function(a){x("profile",a)},connect:function(a){x("connect-member-id",a)},connectAccount:function(a){x("connect-account",a)},isUserOnProtectedContentPage:function(){return-1!=document.location.href.indexOf("/clubhouse/protected/")},isUserHasAccessToProtectedContent:function(){return this.isLoggedIn()&&this.isMember()&&this.isMembershipActualOrInGracePeriod()},showProtectedContentModal:function(c,d){!this.protectedContentModal&&b("#protectedContentModal").length&&(this.protectedContentModal=new a.ProtectedContentModal("#protectedContentModal")),this.protectedContentModal&&this.protectedContentModal.open(c,d)},openNotLoggedInDialog:function(){this.showProtectedContentModal(".sign-in")},openNonMemberDialog:function(){this.showProtectedContentModal(".non-member")},openMembershipExpiredDialog:function(){this.showProtectedContentModal(".expired")},setRedirectionUrl:function(a){k=a},onReady:function(a){f?n(a,i):l("ready",a)},onLogin:function(a){l("login",a)},onLogout:function(a){l("logout",a)},onUser:function(a){l("user",a),f&&n(a,i)},onConnectMemberId:function(a){l("connect-member-id",a)},onClosePopup:function(a){l("close-popup",a)}}}(window.usga,window.jQuery,window.UA),usga=window.usga||{},usga.JoinCampaignWorkflow=usga.BaseCampaignWorkflow.extend({init:function(a){this._super(a)},start:function(a){this._super(a);var b=this;this.startParams=a,usga.Gigya.getUser(function(a){a?(b.user=a,b.ssoId=a.UID,b.loggedIn=!0,b.loggedInWorkflow()):(b.user=null,b.loggedIn=!1,b.notLoggedInWorkflow())})},loadedTeamApproachMemberInfoLoggedInStandardChecks:function(){var a=this;return this.doesMemberHaveExpirationDate()?this.isUserEnrolledInAutoRenew()?void this.displayAutoRenewModal({closeCallback:function(){a.redirectToClubhouseHome()}}):this.isMemberExpirationDateGreaterThan6MonthsFromToday()?void this.displayIneligibleRenewalModal({closeCallback:function(){a.redirectToClubhouseHome()}}):this.hasUserBeenExpiredForMorThan6Months()?"join"==this.campaignData.campaign.type?void this.redirectToReacquisitionFlow():void this.showCampaignUI({doneButtonClick:function(){a.gotoPIPCheckOut()}}):void this.redirectToRenewFlow():void("join"==this.campaignData.campaign.type?this.showCampaignUI({doneButtonClick:function(){a.gotoPIPCheckOut()}}):this.redirectToJoinFlow())},showUIAndRequireLoginRegister:function(){var a=this;this.showCampaignUI({doneButtonClick:function(){a.isAlternateIdAssociated()?a.showLoginSSO({email:a.taUser.Email_Address,callback:function(b){return a.isSSOUserFederated()?void a.loggedInStandardChecks():void a.gotoPIPCheckOut()}}):a.showRegistrationSSO({email:a.taUser.Email_Address,callback:function(b){return a.isSSOUserFederated()?void a.loggedInStandardChecks():void a.gotoPIPCheckOut()}})}})},loadedTeamApproachMemberInfoNotLoggedInStandardChecks:function(){var a=this;return this.doesMemberHaveExpirationDate()?this.isUserEnrolledInAutoRenew()?void this.displayAutoRenewModal({closeCallback:function(){a.redirectToClubhouseHome()}}):this.isMemberExpirationDateGreaterThan6MonthsFromToday()?void this.displayIneligibleRenewalModal({closeCallback:function(){a.redirectToClubhouseHome()}}):this.hasUserBeenExpiredForMorThan6Months()?"join"==this.campaignData.campaign.type?void this.redirectToReacquisitionFlow():void this.showUIAndRequireLoginRegister():void this.redirectToRenewFlow():void("join"==this.campaignData.campaign.type?this.showUIAndRequireLoginRegister():this.redirectToJoinFlow())},loggedInStandardChecks:function(){var a=this;this.getTeamApproachMemberInfoById({memberId:this.taAccountId,callback:function(){a.loadedTeamApproachMemberInfoLoggedInStandardChecks()}})},notLoggedInStandardChecks:function(){var a=this;this.getTeamApproachMemberInfoById({memberId:this.taAccountId,callback:function(){a.loadedTeamApproachMemberInfoNotLoggedInStandardChecks()}})},loggedInWorkflow:function(){var a=this;this.isSSOUserFederated()?this.getTeamApproachMemberInfoById({memberId:this.taAccountId,callback:function(){a.loadedTeamApproachMemberInfoLoggedInStandardChecks()}}):this.doesTaAccountIdPresentInUrl()?this.isThisYou({memberId:this.campaignData.queryString.id,yesCallback:function(){a.taAccountId=a.campaignData.queryString.id,a.loadedTeamApproachMemberInfoLoggedInStandardChecks()},noCallback:function(){a.taUser=null,a.showCampaignUI({doneButtonClick:function(){a.gotoPIPCheckOut()}})}}):a.showCampaignUI({doneButtonClick:function(){a.gotoPIPCheckOut()}})},notLoggedInWorkflowShowCampaignUI:function(){var a=this;this.showCampaignUI({doneButtonClick:function(){a.showRegistrationSSO({callback:function(b){return a.isSSOUserFederated()?void a.loggedInStandardChecks():void a.gotoPIPCheckOut()}})}})},notLoggedInWorkflow:function(){var a=this;this.doesTaAccountIdPresentInUrl()?this.isThisYou({memberId:this.campaignData.queryString.id,yesCallback:function(){a.taAccountId=a.campaignData.queryString.id,a.loadedTeamApproachMemberInfoNotLoggedInStandardChecks()},noCallback:function(){a.taUser=null,a.notLoggedInWorkflowShowCampaignUI()}}):this.notLoggedInWorkflowShowCampaignUI()}}),usga=window.usga||{},usga.ReacquisitionCampaignWorkflow=usga.JoinCampaignWorkflow.extend({prepareCampaignDataBeforeUI:function(){this._super(),this.handleLevelUpByLevel("01")}}),usga=window.usga||{},usga.RenewCampaignWorkflow=usga.JoinCampaignWorkflow.extend({prepareCampaignDataBeforeUI:function(){this._super(),this.handleLevelUp(),this.handlePriceRange()},loggedInWorkflow:function(){var a=this;this.isSSOUserFederated()?this.getTeamApproachMemberInfoById({memberId:this.taAccountId,callback:function(){a.loadedTeamApproachMemberInfoStandardChecks()}}):this.doesTaAccountIdPresentInUrl()?this.isThisYou({memberId:a.campaignData.queryString.id,yesCallback:function(){a.taAccountId=a.campaignData.queryString.id,a.loadedTeamApproachMemberInfoStandardChecks()},noCallback:function(){a.taUser=null,a.connectMemberId({yesCallback:function(){a.loadedTeamApproachMemberInfoStandardChecks()}})}}):a.connectMemberId({yesCallback:function(){a.loadedTeamApproachMemberInfoStandardChecks()}})},notLoggedInWorkflow:function(){var a=this;this.doesTaAccountIdPresentInUrl()?this.isThisYou({memberId:a.campaignData.queryString.id,yesCallback:function(){a.taAccountId=a.campaignData.queryString.id,a.loadedTeamApproachMemberInfoStandardChecks()},noCallback:function(){a.taUser=null,a.connectMemberId({yesCallback:function(){a.loadedTeamApproachMemberInfoStandardChecks()}})}}):a.connectMemberId({yesCallback:function(){a.loadedTeamApproachMemberInfoStandardChecks()}})},handlingExpirationDate:function(){var a=this;return this.isMemberExpirationDateGreaterThan6MonthsFromToday()?(this.displayIneligibleRenewalModal({closeCallback:function(){a.redirectToClubhouseHome()}}),!0):this.hasUserBeenExpiredForMorThan6Months()?(this.redirectToReacquisitionFlow(),!0):!1},loadedTeamApproachMemberInfoStandardChecks:function(){var a=this;if(this.isUserEnrolledInAutoRenew())return void this.displayAutoRenewModal({closeCallback:function(){a.redirectToClubhouseHome()}});if(this.doesMemberHaveExpirationDate()){if(this.handlingExpirationDate())return;this.showCampaignUI({doneButtonClick:function(){a.loggedIn?a.gotoPIPCheckOut():a.loadedTeamApproachMemberInfoNotLoggedInStandardChecks()}})}else this.redirectToJoinFlow()},loadedTeamApproachMemberInfoNotLoggedInStandardChecks:function(){var a=this;this.userLevelInfo.alternateId?this.showLoginSSO({callback:function(b){a.handleUserAfterSSONotLoggedIn()}}):this.showRegistrationSSO({callback:function(b){a.handleUserAfterSSONotLoggedIn()}})},handleUserAfterSSONotLoggedIn:function(){var a=this,b=a.taAccountId;if(a.isSSOUserFederated()){if(b==a.taAccountId)return void a.gotoPIPCheckOut();a.getTeamApproachMemberInfoById({memberId:a.taAccountId,callback:function(){a.uiShowed=null,a.loggedIn=!0,a.loadedTeamApproachMemberInfoStandardChecks()}})}else a.taAccountId=b,a.gotoPIPCheckOut()},failedConnectMemberId:function(){this.redirectToAlternateJoinFlow()}}),usga=window.usga||{},usga.UpgradeCampaignWorkflow=usga.RenewCampaignWorkflow.extend({prepareCampaignDataBeforeUI:function(){this.campaignData.campaign.filteredLevels=[];for(var a=0;a<this.campaignData.campaign.levels.length-1;a++)if(this.campaignData.campaign.levels[a].id==this.userLevelInfo.level){this.campaignData.campaign.filteredLevels.push(this.campaignData.campaign.levels[a+1]);break}this.handlePricingBook()},handlingExpirationDate:function(){return this.isMemberExpirationDateGreaterThan6MonthsFromToday()?!1:this.hasUserBeenExpiredForMorThan6Months()?(this.redirectToReacquisitionFlow(),!0):(this.redirectToRenewFlow(),!0)},failedConnectMemberId:function(){var a=this;this.displayNotAppropriateCampaignModal({closeCallback:function(){a.redirectToClubhouseHome()}})}}),window.usga=window.usga||{},function(a,b){var c=window.navigator.userAgent.toLowerCase(),d=window.navigator.appName,e=function(){var a,b=!1;return"Microsoft Internet Explorer"==d?(a=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})","i"),a.exec(c)&&(b=parseFloat(RegExp.$1))):"Netscape"==d&&(a=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})","i"),a.exec(c)&&(b=parseFloat(RegExp.$1))),b},f=function(){return/^((?!chrome).)*safari/i.test(c)},g=function(){var a="ontouchstart"in window;return window.navigator.msPointerEnabled&&(a=navigator.msMaxTouchPoints>0),a},h=function(){return can.deparam(document.location.hash.substr(1))},i=function(b){var c="#";return a.isObject(b)&&(c=c.concat(can.param(b))),c},j=function(a,b){if(a){var c=""+a;return b=b||30,c=c.replace(/^(?:[^\:]+\:\/\/)*(.*)$/,"$1").replace(/(\/|#|\?)*$/,""),c.length>b&&(c=(c.substr(0,b)+"...").replace(/(\?|#|\/)\.\.\./,"...")),c}return""},k=function(a){return a?a=a.replace(/^(?:[^\:]+\:\/\/)*(.*)$/,"$1").replace(location.host,"").replace(/^\/+/,"/"):a};b.extend(a,{$:b,domReady:!1,windowLoad:!1,device:{ios:c.match(/i(pod|pad|phone)/),android:c.match(/android/),mobile:-1!==c.search(/(i(pod|pad|phone)|android)/)},browser:{ie:e(),safari:f()},supports:{touch:g()},url:{query:can.deparam(document.location.search.substr(1)),getHash:h,createHash:i,"short":j,trimHost:k},setDtm:function(a){window.digitalData=window.digitalData||{},window.digitalData=b.extend(!0,window.digitalData,a)},trackDtm:function(a,c,d){window._satellite&&(this.setDtm(c),window._satellite.track(a),b.isFunction(d)&&setTimeout(function(){d(a,c,window.digitalData)},1e3))},log:function(){var a=window.console;a&&"function"==typeof a.log&&a.log.apply(a,arguments)},getArgs:function(a,b,c){b=b||0;var d=c?b+c:a.length;return Array.prototype.slice.call(a,b,d)},cutText:function(a,b,c){if(a&&null!==a||(a=""),a=""+a,(!b||isNaN(+b)||1>+b)&&(b=80),void 0===c&&(c=" ..."),a.length<=b)return a;var d=a.substr(0,b+1),e=d.lastIndexOf(" ");return e>=0&&(d=d.substr(0,e)),d&&(d+=c),d},quote:function(a){return a.replace("\\","\\\\").replace("'","\\'")},stripTags:function(a){return!1===(a&&"string"==typeof a)&&(a=a?""+a:""),a.replace(/<[^>]+>/gi,"")},trimDamInUrl:function(a){return!1===(a&&"string"==typeof a)&&(a=a?""+a:""),a.replace(/^\/*content\/dam\/*/,"")},getMomentInNewYorkTimezone:function(a){return a&&"string"==typeof a&&moment(a).isValid()?moment(new Date(a)).tz("America/New_York"):moment().tz("America/New_York")},isObject:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},keys:function(b){if(!a.isObject(b))return[];if(Object.keys)return Object.keys(b);var c=[];for(var d in b)a.has(b,d)&&c.push(d);return c},values:function(b){for(var c=a.keys(b),d=c.length,e=Array(d),f=0;d>f;f++)e[f]=b[c[f]];return e},findWhere:function(c,d){var e=!1;return a.isObject(d)||(d={}),b.isArray(c)&&b.each(c,function(c,f){var g=f,h=!0;if(!a.isObject(g))return!0;for(var i=a.keys(d),j=i.length,k=0;j>k;k++){var l=i[k].replace(/^\!/,""),m=i[k],n=!1;"!"===m.substr(0,1)&&(n=!0),h=n?b.isArray(d[m])?-1===b.inArray(g[l],d[m]):g[l]!==d[m]:void 0!==g[l]&&(b.isArray(d[m])?-1!==b.inArray(g[l],d[m]):g[l]===d[l])}return h?(e=c,!1):void 0}),e},has:function(a,b){return null!==a&&hasOwnProperty.call(a,b)},reduce:function(b,c,d){if(null===this)return d;if("function"!=typeof c)return d;for(var e=a.values(b),f=e.length>>>0,g=0,h=d;f>g;g++)g in e&&(h=c(h,e[g]));return h},sum:function(b){return a.reduce(b,function(a,b){return a+b},0)},replaceURLWithHTMLLinks:function(a,b){var c=/(\b(https?|ftp|file):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|])/gi,d='<a href="$1">$1</a>';return b&&(d='<a href="$1" target="_blank">$1</a>'),a.replace(c,d)},replaceTwitterUsernameWithHTMLLinks:function(a,b){var c=/(^|\s)@([a-z0-9_]+)/gi,d='$1<a href="http://www.twitter.com/$2">@$2</a>';return b&&(d='$1<a href="http://www.twitter.com/$2" target="_blank">@$2</a>'),a.replace(c,d)},replaceHashtagsWithHTMLLinks:function(a,b,c){var d=/(^|\s)#([a-z0-9_]+)/gi,e="twitter"===c?"http://www.twitter.com/search?q=$2":"https://www.facebook.com/hashtag/$2",f='$1<a href="'+e+'">#$2</a>';return b&&(f='$1<a href="'+e+'" target="_blank">#$2</a>'),a.replace(d,f)},scrollTo:function(a,c){var d=b(a);if(d.length){c=c||500;var e=d.offset().top;b("html, body").animate({scrollTop:e},c)}}});var l=b("html");a.browser.ie&&l.addClass("ie ie"+a.browser.ie),a.device.ios&&l.addClass("ios"),l.addClass(a.supports.touch?"touch":"no-touch"),b(function(){a.domReady=!0}),b(window).load(function(){a.windowLoad=!0})}(window.usga,window.jQuery),usga.ArticleListing=usga.BaseModule.extend({onDocumentReady:function(){this.$element.find(".article-listing__filter__dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})}}),usga.Article=usga.BaseCloudinaryModule.extend({galleries:[],init:function(){this._super(),this.$socialBar=this.$element.find(".side-social"),this.applyCloudinary()},checkSocialVisibility:function(){var a=this.$element.height()-120,b=this.$element.offset().top,c=$(window).scrollTop();c>b+a-this.$socialBar.height()?this.$socialBar.hide():this.$socialBar.show()},onWindowResize:function(){this.isSmallScreen()||this.isMediumScreen()||this.checkSocialVisibility()},showMediaGallery:function(a,b,c){var d=this.galleries[a];d||(this.galleries[a]=d=new usga.Gallery(a,{items:c})),d.toggleExpand(),d.trackDtmGallery(b)},".article-media_gallery click":function(a){this.showMediaGallery(a.data("gallery-target"),a.data("gallery-title"),a.data("gallery-url"))}}),usga.BrightcovePlayer=usga.BaseModule.extend({scriptUrlTemplate:"//players.brightcove.net/{accountId}/{playerId}_default/index.min.js",onFirstShow:function(){var a={accountId:this.options.accountId,playerId:this.options.playerId,videoId:this.options.videoId},b=this.options.autoplay&&null!==this.options.autoplay||!1,c=can.sub(this.scriptUrlTemplate,a);this.$element.append(can.view("#brightcovePlayerTemplate",a)),jQuery.ajax({url:c,dataType:"script",cache:!1}).done(function(){usga.browser.ie&&usga.browser.ie<11&&this.element.find(".vjs-fullscreen-control").hide(),videojs("myPlayer").ready(function(){b&&this.autoplay(!0)})})}}),usga.Calculator=usga.BaseModule.extend({init:function(){if(this._super(),this.$form=this.$element.find(".box-calc__general"),this.$index=this.$form.find("input[name=index]"),this.$rating=this.$form.find("input[name=rating]"),this.$error=this.$element.find(".box-calc__error"),this.$results=this.$element.find(".box-calc__result"),this.options.mobile&&(this.$fullResults=this.$results.find(".box-calc__result__full-results-content"),this.$fullResultsButton=this.$results.find("#fullResults"),this.$resultsTable=this.$results.find("tbody")),window.location.search){var a=window.location.search.substring(1),b=can.deparam(a);b.index&&b.rating&&(this.$index.val(b.index),this.$rating.val(b.rating),this.runCalculation(),this.$fullResults.show(),this.$fullResultsButton.hide())}},calcCourse:function(a,b){var c=parseFloat(a),d=c/113*b,e=-1!=a.indexOf("+"),f=c>=1.5&&9.5>=c&&c%1==.5;return d=113==b&&e&&f?Math.floor(c):Math.round(d),e&&0!==d&&(d="+"+d),d},formatIndex:function(a){return a.toFixed(1).replace("-","+")},calcCourseTable:function(a){for(var b,c,d=[{start:"+9.9",value:this.calcCourse("+9.9",a)}],e=-9.8;40.4>=e;e+=.1)c=this.formatIndex(e),b=this.calcCourse(c,a),b!=d[d.length-1].value&&(d[d.length-1].end=this.formatIndex(e-.1),d.push({start:c,value:b}));return d[d.length-1].end=40.4,d},runCalculation:function(){var a=this.$index.val(),b=this.$rating.val();this.clearErrorMessages();var c=this.validateHandicapIndex(a),d=this.validateValue(b,".rating",55,155);if(c&&d){b=Math.round(parseFloat(b)),a=-1!=a.indexOf("+")?"+"+parseFloat(a).toFixed(1):parseFloat(a).toFixed(1);var e=this.calcCourse(a,b);this.showResults(e,a,b),this.options.mobile&&this.calculateTable(b)}else this.$error.show(),this.options.mobile&&(this.$results.hide(),this.$form.addClass("black").addClass("collapsed"))},calculateTable:function(a){this.$resultsTable.empty();for(var b=this.calcCourseTable(a),c="",d=0;d<b.length;d++)c+=can.sub('<tr><td>{start} to {end}</td><td class="play">{value}</td></tr>',b[d]);this.$resultsTable.html(c)},clearErrorMessages:function(){this.$error.find(".box-calc__text").hide()},validateHandicapIndex:function(a){var b=a;return""!==b&&(b=parseFloat(a)),-1!=a.indexOf("+")?(b=-b,this.validateValue(b,".index",-9.9,40.4)):this.validateValue(b,".index",-500,40.4)},validateValue:function(a,b,c,d){if(""===a)this.addErrorMessage(b+".empty");else if(isNaN(a))this.addErrorMessage(b+".wrong");else{if(!(parseFloat(a)<c||parseFloat(a)>d))return!0;this.addErrorMessage(b+".wrong")}},addErrorMessage:function(a){this.$error.find(a).show()},showResults:function(a,b,c){this.$results.find(".index").html(b),this.$results.find(".rating").html(c),this.$results.find(".course").html(a),this.options.mobile?(this.$error.hide(),this.$fullResults.hide(),this.$fullResultsButton.show(),this.$form.addClass("black").addClass("collapsed")):this.$form.hide(),this.$results.show()},onDocumentReady:function(){this.$element.find(".custom-select").chosen()},"#calcButton click":function(){this.runCalculation()},"#closeErrorButton click":function(){this.$error.hide()},"#calcAgain click":function(){this.$results.hide(),this.$index.val(""),this.$rating.val(""),this.$form.show()},".box-calc__switcher__hide click":function(){this.$form.addClass("collapsed")},".box-calc__switcher__show click":function(){this.$index.val(""),this.$rating.val(""),this.$form.removeClass("collapsed")},"#fullResults click":function(){this.$fullResults.show(),this.$fullResultsButton.hide()},".box-calc__link click":function(a,b){var c=encodeURIComponent(this.$index.val()),d=encodeURIComponent(this.$rating.val()),e="?index="+c+"&rating="+d,f=a.attr("href");a.attr("href",f+e)}}),usga.Championships=usga.VariableSlider.extend({sliderSelector:".championships__slider",config:{},_isSliderLoaded:!1,initSlider:function(){this._super(),this.togglePager()},getSliderConfig:function(){var a={infiniteLoop:!1,minSlides:2,maxSlides:2,slideWidth:this.mediumMaxWidth-8,slideMargin:30,adaptiveHeight:!0,hideControlOnEnd:!0,pager:!0,onSliderLoad:this.proxy(this.onSliderLoaded)},b=this.getViewportSize();return b.width<=this.bigMaxWidth&&(a.maxSlides=1,a.minSlides=1),this.config=a,a},isPagerAvailable:function(){var a=this.$element.find(".championships__slider__item");if(!(a.length>1))return!1;for(var b=this.$element.find(".bx-viewport").width(),c=0,d=0,e=a.length;e>d;d++){var f=$(a[d]);c+=f.outerWidth(!0)}return c-this.config.slideMargin<=b?!1:!0},togglePager:function(){this.isPagerAvailable()?(this.$element.removeClass("championships__slider-no-pager"),this.$element.find(".bx-controls").addClass("bx-has-pager").find(".bx-pager").toggle(!0)):(this.$element.addClass("championships__slider-no-pager"),this.$element.find(".bx-controls").removeClass("bx-has-pager").find(".bx-pager").toggle(!1))},onWindowResize:function(){this._isSliderLoaded&&this.togglePager()},onSliderLoaded:function(){this._isSliderLoaded=!0,this.togglePager()}}),usga.ClubhouseEvent=usga.ClubhouseEvent||{},usga.ClubhouseEvent.PhpApi=can.Construct({CLASS_NAME:"PhpApi",userId:0,init:function(){if(!usga.config||!usga.config.eventsPhpApiUrl)throw new Error("Endpoint is not specified",this.CLASS_NAME)},setUserId:function(a){this.userId=a},subscribe:function(a){return this.makeRequest("subscribe",{event_id:a,user_id:this.userId})},unsubscribe:function(a){return this.makeRequest("unsubscribe",{event_id:a,user_id:this.userId})},getSubscribeStatus:function(a){return this.makeRequest("getsubscribestatus",{event_id:a,user_id:this.userId})},setGuestNumber:function(a,b){return this.makeRequest("setguestnumber",{event_id:a,user_id:this.userId,guest_number:b})},submitQuestion:function(a,b){return this.makeRequest("askquestion",{event_id:a,user_id:this.userId,question:b})},makeRequest:function(a,b){var c,d=$.Deferred();return c=$.ajax({url:usga.config.eventsPhpApiUrl.replace(/\/+$/,"")+"/"+a,data:b,type:"post",dataType:"json"}),c.done(function(a,b,c){if(usga.isObject(a)&&200===c.status){var e=new usga.ClubhouseEvent.ApiResponse(a);"ok"!==e.data.attr("status")&&(e.error=!0,e.statusText=e.data.attr("message")),d.resolve(e)}else d.resolve(new usga.ClubhouseEvent.ApiResponse({},"usga.ClubhouseEvent.PhpApi: "+b,!0))}),c.fail(function(a,b){d.resolve(new usga.ClubhouseEvent.ApiResponse({},"usga.ClubhouseEvent.PhpApi: "+b,!0))}),d.promise()}}),usga.ClubhouseEvent.ApiResponse=can.Construct({error:!1,statusText:"",data:{},init:function(a,b,c){this.data=new usga.ClubhouseEvent.ApiResponseData(a||{}),this.statusText=b||"",this.error=c||!1}}),usga.ClubhouseEvent.ApiResponseData=can.Map.extend({define:{status:{type:"string",value:"error"},message:{type:"string",value:""},subscribed:{type:"boolean",value:!1},rsvpCount:{type:"number",get:function(){return this.rsvp_count&&null!==this.rsvp_count?+this.rsvp_count:0}}}}),usga.ClubhouseEvent=usga.ClubhouseEvent||{},usga.ClubhouseEvent.BaseMap=can.Map.extend({init:function(a,b){this._super(),this.define&&$.each(this.define,this.proxy(function(b,c){var d=a&&null!==a&&a[b]&&null!==a[b]?a[b]:void 0;if(d||void 0===c.value||this.attr(b,c.value),void 0!==c.Type){var e=c.Type;this.attr(b,d?new e(d):new e)}}))}}),usga.ClubhouseEvent.CustomButtonProperties=usga.ClubhouseEvent.BaseMap.extend({define:{text:{type:"string",value:""},location:{type:"string",value:""},target:{type:"string",value:"_self"}}}),usga.ClubhouseEvent.Messages=usga.ClubhouseEvent.BaseMap.extend({define:{pre:{type:"string",value:"You can subscribe to this event"},exceededLimit:{type:"string",value:"Unfortunately subscribing limit is reached"},thankYou:{type:"string",value:"Thank you!"}}}),usga.ClubhouseEvent.ProfileInformation=usga.ClubhouseEvent.BaseMap.extend({define:{firstName:{type:"string",value:""},lastName:{type:"string",value:""},address1:{type:"string",value:""},city:{type:"string",value:""},country:{type:"string",value:"US"},state:{type:"string",value:"NY"},zip:{type:"string",value:""}}}),usga.ClubhouseEvent.Event=usga.ClubhouseEvent.BaseMap.extend({define:{id:{type:"number",value:0},image:{type:"string",value:""},isMemberExclusive:{type:"boolean",value:!1},isFull:{type:"boolean",value:!1},title:{type:"string",value:""},url:{type:"string",value:""},location:{type:"string",value:""},startDate:{type:"string",value:""},endDate:{type:"string",value:""},rsvpMessages:{Type:usga.ClubhouseEvent.Messages},details:{type:"string",value:""},guestsMax:{type:"number",value:0},rsvpButton:{type:"boolean",value:!0},rsvpButtonText:{type:"string",value:"RSVP"},rsvpCancelButtonText:{type:"string",value:"Cancel"},askQuestionButton:{type:"boolean",value:!0},askQuestionButtonText:{type:"string",value:"Ask question"},customButton:{type:"boolean",value:!1},customButtonProperties:{Type:usga.ClubhouseEvent.CustomButtonProperties},rsvpMessage:{type:"string",value:""},guests:{type:"number",value:0},isUserSubscribed:{type:"string",value:""},status:{type:"string",value:""},statusType:{type:"string",value:""}}}),usga.ClubhouseEvent.EventList=can.List.extend({Map:usga.ClubhouseEvent.Event},{}),usga.BaseProfileInformation=usga.ClubhouseEvent.BaseMap.extend({define:{firstName:{type:"string",value:""},lastName:{type:"string",value:""},address1:{type:"string",value:""},address2:{type:"string",value:""},city:{type:"string",value:""},state:{type:"string",value:"NY"},country:{type:"string",value:"US"},zip:{type:"string",value:""}}}),usga.RsvpProfileInformation=usga.BaseProfileInformation.extend({init:function(){this.validatePresenceOf(["firstName"],{message:"Enter first name"}),this.validatePresenceOf(["lastName"],{message:"Enter last name"}),this.validatePresenceOf(["address1"],{message:"Enter address"}),this.validatePresenceOf(["country"],{message:"Select country"}),this.validatePresenceOf(["state"],{message:"Select state"}),this.validatePresenceOf(["city"],{message:"Enter city"}),this.validatePresenceOf(["zip"],{message:"Enter zip"})}},{}),usga.AskQuestionProfileInformation=usga.BaseProfileInformation.extend({init:function(){this.validatePresenceOf(["firstName"],{message:"Enter first name"}),this.validatePresenceOf(["lastName"],{message:"Enter last name"}),this.validatePresenceOf(["country"],{message:"Select country"}),this.validatePresenceOf(["state"],{message:"Select state"})}},{}),usga.ClubhouseEvent=usga.ClubhouseEvent||{},usga.ClubhouseEvent.GigyaAuthObserver=can.Construct({CLASS_NAME:"GigyaAuthObserver",targetObj:null,init:function(a){if(this.targetObj=a,!usga.isObject(a)||!a.reflectToAuthChanges)throw new Error("object is not supported",this.CLASS_NAME);if(!usga.Gigya||!usga.Gigya.onUser)throw new Error("usga.Gigya is not available",this.CLASS_NAME)},start:function(){usga.Gigya.onUser(this.proxy(this.onUser))},onUser:function(a){a&&null!==a?usga.Gigya.getProfileMailingAddress().then(this.proxy(function(b){b&&this.targetObj.reflectToAuthChanges(a,b,usga.Gigya)})):this.targetObj.reflectToAuthChanges(!1,{},usga.Gigya)}}),usga.ClubhouseEvent=usga.ClubhouseEvent||{},usga.ClubhouseEventList=usga.BaseCloudinaryModule.extend({defaults:{template:"list",events:[],pagination:!1,limit:6}},{CLASS_NAME:"ClubhouseEventList",context:{},api:void 0,observer:void 0,protectedContentModal:void 0,auth:void 0,user:void 0,userProfile:void 0,profileInformationModal:void 0,askQuestionModal:void 0,signInModal:void 0,queuedAction:"",helpers:void 0,hasProtectedContent:!0,init:function(){this._super();var a=new usga.ClubhouseEvent.EventList(this.options.events);0!==$("#protectedContentModal").length&&(this.protectedContentModal=new usga.ProtectedContentModal("#protectedContentModal")),
0!==$("#signInModal").length&&(this.signInModal=new usga.SignInModal("#signInModal")),this.setPagination(),a.length<=this.options.limit&&(this.options.pagination=!1),this.helpers=new usga.ClubhouseEventListRenderHelpers(this),this.context=new can.Map({options:this.options,isUserLoggedIn:!1,hasAccessToExclusiveContent:!1,currentEvent:!1,events:a,filter:"all",paginator:new usga.Paginator({limit:this.options.limit})}),this.setContextEvents();try{this.api=new usga.ClubhouseEvent.PhpApi,this.observer=new usga.ClubhouseEvent.GigyaAuthObserver(this),this.observer.start()}catch(b){usga.log(b)}this.renderTemplate(),this.$element.find(".guest-selection select").chosen({disable_search_threshold:999,width:"100%"}),this.context.paginator.attr("count",a.length),this.setPage(!0),this.updateItemsAccordingToAuthState(),this.applyCloudinary()},setPagination:function(){can.Component.extend({tag:"paginator",template:0!==$("#clubhouseEventListPaginatorTemplate").length?can.view("#clubhouseEventListPaginatorTemplate"):"",events:{"a[data-page] click":this.proxy(function(a,b){b.preventDefault(),this.context.paginator.page(a.data("page")),this.setPage()}),".container__pagination__direction click":this.proxy(function(a,b){b.preventDefault(),this.setPage()})}})},setContextEvents:function(){this.context.bind("change",this.proxy(function(a,b,c,d,e){"filter"===b&&this.onFilterContextChanged(d)}))},renderTemplate:function(){var a=this.getTemplate();a&&this.renderTemplateHtml(can.template(a,this.context,{setActiveFilterLink:this.proxy(this.helpers.setActiveFilterLink),setProtectedLink:this.proxy(this.helpers.setProtectedLink),renderGuestOptions:this.proxy(this.helpers.renderGuestOptions),renderStartDate:this.proxy(this.helpers.renderStartDate),renderEndDate:this.proxy(this.helpers.renderEndDate),renderStartTime:this.proxy(this.helpers.renderStartTime),hideGuestsDropdown:this.proxy(this.helpers.hideGuestsDropdown),testSubscriptionStatus:this.proxy(this.helpers.testSubscriptionStatus),testAgainstFilter:this.proxy(this.helpers.testAgainstFilter),renderPages:this.proxy(this.helpers.renderPages),setActivePage:this.proxy(this.helpers.setActivePage)}))},getTemplate:function(){var a=!usga.isObject(this.options)||!this.options.template&&null===this.options.template||"list"===this.options.template?"#clubhouseEventListTemplate":"#clubhouseEventSingleTemplate";return $(a)[0]?a:!1},renderTemplateHtml:function(a){a&&this.element.append(a)},setPage:function(a){if(this.options.pagination){var b=this.context.paginator.attr("offset"),c=this.options.limit&&null!==this.options.limit?this.options.limit:10,d=this.element.find(".event-item");d.hide(),d.filter(":eq("+b+"), :gt("+b+")").filter(":lt("+c+")").show()}a||usga.scrollTo(this.element)},updateItemsAccordingToAuthState:function(){this.updateProtectedLinks(),this.updateMemberExclusiveStatus(this.auth&&this.auth.isUserHasAccessToProtectedContent()),this.updateRsvpMessages(),this.auth&&this.updateEventsAccordingToSubscriptionStatus()},updateMemberExclusiveStatus:function(a){a?this.$element.find(".exclusive").removeClass("locked").addClass("unlocked"):this.$element.find(".exclusive").removeClass("unlocked").addClass("locked")},updateRsvpMessages:function(){this.context.events.each(this.proxy(function(a,b){this.updateRsvpMessage(a)}))},updateEventsAccordingToSubscriptionStatus:function(){this.user&&this.api.setUserId(this.user.UID);var a=this.context.events.length;this.context.events.each(this.proxy(function(b,c){this.proxy(function(){this.user?this.api.getSubscribeStatus(b.attr("id")).then(this.proxy(function(c){if(c.error?usga.log(c.statusText):b.attr("isUserSubscribed",c.data.subscribed?"Y":"N"),a-=1,this.updateRsvpMessage(b),0===a){var d=this.context.attr("events");this.context.attr("events",[]),this.context.attr("events",d),this.calculatePages(),this.setPage(!0),this.applyCloudinary()}})):b.attr("isUserSubscribed","N")})()}))},updateRsvpMessage:function(a){this.user&&"Y"===a.attr("isUserSubscribed")?a.attr("rsvpMessage",a.attr("rsvpMessages.thankYou")):a.attr("isFull")?a.attr("rsvpMessage",a.attr("rsvpMessages.exceededLimit")):a.attr("rsvpMessage",a.attr("rsvpMessages.pre"))},reflectToAuthChanges:function(a,b,c){this.user=a&&null!==a&&c.isLoggedIn()?a:void 0,this.userProfile=b&&null!==b?new usga.ClubhouseEvent.ProfileInformation(b):void 0,this.auth=c,this.context.attr("isUserLoggedIn",this.user),this.context.attr("hasAccessToExclusiveContent",this.auth.isUserHasAccessToProtectedContent()),this.updateItemsAccordingToAuthState(),this.user&&this.executeQueuedAction()},executeQueuedAction:function(){this.queuedAction&&this[this.queuedAction]&&this[this.queuedAction]()},rsvpToEvent:function(){var a=this.context.attr("currentEvent"),b="rsvpToEvent"===this.queuedAction;if(this.queuedAction="",a.attr("status",""),a.attr("statusType",""),this.user){if(a.isMemberExclusive&&!this.auth.isMember())return this.protectedContentModal&&(this.protectedContentModal.open(".non-member"),this.protectedContentModal.onClose=this.proxy(this.onModalInQueueClosed),this.queuedAction="rsvpToEvent"),!1;if(a.isMemberExclusive&&this.auth.isExpiredMember())return this.protectedContentModal&&(this.protectedContentModal.open(".expired"),this.protectedContentModal.onClose=this.proxy(this.onModalInQueueClosed),this.queuedAction="rsvpToEvent"),!1;if(!(this.userProfile.attr("firstName")&&this.userProfile.attr("lastName")&&this.userProfile.attr("address1")&&this.userProfile.attr("country")&&this.userProfile.attr("state")&&this.userProfile.attr("city")&&this.userProfile.attr("zip")))return this.profileInformationModal||0===$("#profileInformationModal").length||(this.profileInformationModal=new usga.ProfileInformationModal("#profileInformationModal",{onProfileUpdated:this.proxy(function(a){this.userProfile.attr(a.attr()),this.rsvpToEvent()}),profileScope:"rsvp"})),this.profileInformationModal&&(this.profileInformationModal.onClose=this.proxy(this.onModalInQueueClosed),this.profileInformationModal.open()),!1}else if(!this.user){var c=a.isMemberExclusive?this.protectedContentModal:this.signInModal;return c&&(c.onClose=this.proxy(this.onModalInQueueClosed),a.isMemberExclusive?c.open(".sign-in"):c.open()),this.queuedAction="rsvpToEvent",!1}return b&&0===a.attr("guests")&&a.attr("guestsMax")>0?!1:(this.api.setUserId(this.user.UID),void this.api.getSubscribeStatus(a.attr("id")).then(this.proxy(function(b){b.error?usga.log(b.statusText):b.data.subscribed||this.api.subscribe(a.attr("id")).then(this.proxy(function(b){b.error?(usga.log(b.statusText),a.attr("status","Server error"),a.attr("statusType","error")):(a.attr("isUserSubscribed","Y"),a.attr("guests")>0&&this.api.setGuestNumber(a.attr("id"),a.attr("guests")).then(this.proxy(function(b){b.error&&(usga.log(b.statusText),a.attr("status","Server error while setting guests number"),a.attr("statusType","error"))}))),this.updateRsvpMessage(a)}))})))},rsvpCancel:function(){var a=this.context.attr("currentEvent");this.queuedAction="",a.attr("status",""),a.attr("statusType",""),this.api.setUserId(this.user.UID),this.api.unsubscribe(a.attr("id")).then(this.proxy(function(b){if(b.error)usga.log(b.statusText),a.attr("status","Server error"),a.attr("statusType","error");else{a.attr("isUserSubscribed","N");var c=this.context.attr("events");this.context.attr("events",[]),this.context.attr("events",c);var d=this.calculatePages(),e=this.context.paginator.page(),f=this.context.paginator.attr("offset");(f==d||f>d)&&e>1&&(e-=1,this.context.paginator.page(e)),this.setPage(),this.applyCloudinary()}this.updateRsvpMessage(a)}))},askQuestion:function(){var a=this.context.attr("currentEvent");if(this.queuedAction="",a.attr("status",""),a.attr("statusType",""),this.user){if(a.isMemberExclusive&&!this.auth.isMember())return this.protectedContentModal&&(this.protectedContentModal.open(".non-member"),this.queuedAction="askQuestion"),!1;if(a.isMemberExclusive&&this.auth.isExpiredMember())return this.protectedContentModal&&(this.protectedContentModal.open(".expired"),this.queuedAction="askQuestion"),!1;if(!(this.userProfile.attr("firstName")&&this.userProfile.attr("lastName")&&this.userProfile.attr("address1")&&this.userProfile.attr("country")&&this.userProfile.attr("state")))return this.profileInformationModal||0===$("#profileInformationModal").length||(this.profileInformationModal=new usga.ProfileInformationModal("#profileInformationModal",{onProfileUpdated:this.proxy(function(a){this.userProfile.attr(a.attr()),this.askQuestion()}),profileScope:"ask"})),this.profileInformationModal&&(this.profileInformationModal.onClose=this.proxy(this.onModalInQueueClosed),this.profileInformationModal.open()),!1}else if(!this.user){var b=a.isMemberExclusive?this.protectedContentModal:this.signInModal;return b&&(b.onClose=this.proxy(this.onModalInQueueClosed),a.isMemberExclusive?b.open(".sign-in"):b.open()),this.queuedAction="askQuestion",!1}this.askQuestionModal||(this.askQuestionModal=new usga.AskQuestionModal("#askQuestionModal",{onMessageWritten:this.proxy(function(b){this.api.setUserId(this.user.UID),this.api.submitQuestion(a.attr("id"),b).then(this.proxy(function(a){if(a.error){var b=a.data.attr("message");usga.log(a.statusText),this.askQuestionModal.setError(b?b:"Server error")}else this.askQuestionModal.close()}))})})),this.askQuestionModal.open()},calculatePages:function(){if("all"===this.context.attr("filter"))return this.context.paginator.attr("count",this.context.events.length),this.context.events.length;var a=0;return this.context.paginator.attr("count",this.context.events.length),this.context.events.each(this.proxy(function(b,c){"Y"===b.attr("isUserSubscribed")&&a++})),this.context.paginator.attr("count",a),a},onModalInQueueClosed:function(a){a||(this.queuedAction="")},onFilterContextChanged:function(a){this.context.paginator.page(1),this.calculatePages(),this.setPage()},onRsvpButtonClick:function(a,b,c){this.context.attr("currentEvent",a),this.queuedAction="",this.rsvpToEvent()},onRsvpCancelButtonClick:function(a,b,c){this.context.attr("currentEvent",a),this.queuedAction="",this.rsvpCancel()},onAskQuestionButtonClick:function(a,b,c){this.context.attr("currentEvent",a),this.queuedAction="",this.askQuestion()},onLayout:function(){this.applyCloudinary()},".rsvp-button click":function(a,b){b.preventDefault(),this.onRsvpButtonClick(this.context.attr("events."+a.data("event-index")),a,b)},".rsvp-cancel-button click":function(a,b){b.preventDefault(),this.onRsvpCancelButtonClick(this.context.attr("events."+a.data("event-index")),a,b)},".ask-question-button click":function(a,b){b.preventDefault(),this.onAskQuestionButtonClick(this.context.attr("events."+a.data("event-index")),a,b)},".container__filter__dropdown select change":function(a,b){$(".container__filter__dropdown select").trigger("chosen:updated")},".container__filter__list__item click":function(a,b){b.preventDefault(),this.context.attr("filter",a.data("filter-value")),this.applyCloudinary()}}),usga.ClubhouseEventListRenderHelpers=can.Construct.extend({setActiveFilterLink:function(a){var b=this.context.filter||"all",c=$(a.nodeList[0]).parentsUntil("ul").parent();c.find(".container__filter__list__item").removeClass("active"),c.find('[data-filter-value="'+b+'"]').addClass("active")},setProtectedLink:function(a){var b=$(a.nodeList[0]);a.context.isMemberExclusive&&b.addClass("protected__link")},renderGuestOptions:function(a){if(a.context.guestsMax>0){for(var b=[],c=1;c<=a.context.guestsMax;c++)b.push(a.fn({number:c,label:"+"+c+" Guests"}));return b}return""},renderStartDate:function(a){var b=a.context.attr("startDate");return null!==b&&b&&moment(new Date(b)).isValid()?usga.getMomentInNewYorkTimezone(b).format("MMMM D"):""},renderEndDate:function(a){var b=a.context.attr("endDate");return null!==b&&b&&moment(new Date(b)).isValid()?usga.getMomentInNewYorkTimezone(b).format("D"):""},renderStartTime:function(a){var b=a.context.attr("startDate");return null!==b&&b&&moment(new Date(b)).isValid()?usga.getMomentInNewYorkTimezone(b).format("h:mm a"):""},testSubscriptionStatus:function(a,b){return a===b.context.attr("isUserSubscribed")?b.fn(b.context):""},hideGuestsDropdown:function(a){var b=a.context;return"N"!==b.attr("isUserSubscribed")?a.fn(b):void 0},testAgainstFilter:function(a){return"all"===this.context.attr("filter")||"my"===this.context.attr("filter")&&"Y"===a.context.isUserSubscribed?a.fn(a.context):void 0},renderPages:function(a){if(this.context&&this.context.paginator){for(var b=this.context.paginator.page(),c=this.context.paginator.pageCount(),d=[],e=[],f=[],g=0;c>g;g++)d.push({page:g+1});var h=b-3;1>h&&(h=1),e=d.slice(h-1,h+4);for(var i=0,j=e.length;j>i;i++)f.push(a.fn(e[i]));return f}},setActivePage:function(a,b){var c=$(b.nodeList[0]),d=c.parent();this.context.paginator&&this.context.paginator.page()===a&&(d.find("[data-page]").removeClass("active"),c.addClass("active"))}}),usga.Event=usga.BaseCloudinaryModule.extend({$slider:null,_slider:null,_sliderIsInitialized:!1,initSlider:function(){var a={slidesPerView:1,simulateTouch:!1,onSlideChangeEnd:this.proxy(this.onSliderSlideChanged)};this.options.delay&&(a.autoplay=1e3*this.options.delay),this.options.carousel&&(a.loop=!0),this.$slider=this.$element.find(".slider-wrapper"),this._slider=new Swiper(this.$slider,a),this._sliderIsInitialized=!0},showLoader:function(){this.loaderModal.open()},hideLoader:function(){this.loaderModal.close()},showCampaign:function(a){this.hideLoader(),this.campaignData=a,this.campaignData.campaign.levelsTitleText=a.campaign.levelsTitle.replace("##FirstName##",a.taUser?a.taUser.First_Name:"").replace("##LastName##",a.taUser?a.taUser.Last_Name:""),a.campaign.filteredLevels.length>0&&this.selectLevel(a.campaign.filteredLevels[0].id),(!this.campaignData.campaign.banner.slides||!$.isArray(this.campaignData.campaign.banner.slides)||this.campaignData.campaign.banner.slides.length<2)&&this.context.attr("hidePager",!0),this.context.attr("banner",this.campaignData.campaign.banner);var b=can.view("#clubhouseMembershipCampaign",this.context);this.$element.find(".campaign_content").empty().append(b),this.onFirstShow();var c=this;setTimeout(function(){c.initializateCategoryDropdowns()},100),this.onSliderSlideChanged()},initializateCategoryDropdowns:function(){this.$element.find(".categoryLarge").prop("selectedIndex",0),this.$element.find(".categorySmall").prop("selectedIndex",0),this.beautifyDropdowns()},".member-level__item click":function(a){this.selectLevel($(a).attr("levelId"))},".level-small change":function(a){this.selectLevel($(a).val())},".done_button click":function(){var a=this.context.attr("selectedLevel"),b=this.$element.find(".categoryLarge"),c=this.$element.find(".categorySmall");return this.$element.find(".inner-membership .visible-large").is(":visible")?a.memberType=b.val():a.memberType=c.val(),a.memberType&&""!==a.memberType?(this.showLoader(),void this.workflow.processAction({selectedLevel:a})):void alert("Please specify member type.")},onSliderSlideChanged:function(){if(this._slider&&null!==this._slider){var a=this.$element.find("#slider-menu_join");a.find("a").removeClass("active"),a.find("a:eq("+(this._slider.activeIndex||0)+")").addClass("active")}},onFirstShow:function(){this._super(),this.initSlider()},ensureCampaignIsNotExpired:function(){if(!this.options.expired)return!1;if(this.options.expired.expiredRedirect)return document.location=this.options.expired.expiredRedirect,!0;if(this.options.expired.expiredMessage){var a=can.view("#clubhouseMembershipCampaignExpired",this.options.expired);return this.$element.find(".campaign_content").empty().append(a),!0}return!1},onDocumentReady:function(){this.ensureCampaignIsNotExpired()||(this.$element.find(".guest-selection .dropdown, .container__filter__dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"}),this.loaderModal=new usga.BaseModal("#loaderModal"),this.showLoader(),this.context=new can.Map(this.options),this.context.attr("selectedLevel",null),$.get(this.options.campaignDataUrl,this.proxy(this.onCampaignDataLoaded)))},ensureQueryStringPropertyIsNotNull:function(a){this.options.queryString[a]||(this.options.queryString[a]="")},onCampaignDataLoaded:function(a){var b;b="string"==typeof a?JSON.parse(a):a,this.options.queryString||(this.options.queryString={c:usga.url.query.c,id:usga.url.query.id,source:usga.url.query.source,cmp:usga.url.query.cmp,r:usga.url.query.r});for(var c=["c","id","source","cmp","r"],d=0;d<c.length;d++)this.ensureQueryStringPropertyIsNotNull(c[d]);b.queryString=this.options.queryString,this.workflow=usga.CampaignWorkflowFactory.create(b),this.workflow.start({showCampaign:this.proxy(this.showCampaign),showLoader:this.proxy(this.showLoader),hideLoader:this.proxy(this.hideLoader)})},selectLevel:function(a){for(i=0;i<this.campaignData.campaign.filteredLevels.length;i++){var b=this.campaignData.campaign.filteredLevels[i].id==a;this.campaignData.campaign.filteredLevels[i].selected=b,b&&this.context.attr("selectedLevel",this.campaignData.campaign.filteredLevels[i])}this.context.attr("campaignData",this.campaignData),this.applyCloudinary(),this.initializateCategoryDropdowns()},beautifyDropdowns:function(){this.$element.find(".dropdown-white_member-level .dropdown").chosen({disable_search_threshold:10,width:"100%"}),this.$element.find(".join-membership__item_above .dropdown").chosen({disable_search_threshold:10,width:"100%"}),this.$element.find(".join-membership__item_under .dropdown").chosen({disable_search_threshold:10,width:"100%"})},"#slider-menu_join a click":function(a,b){b.preventDefault(),this._slider&&null!==this._slider&&this._slider.slideTo&&(this._slider.slideTo(a.data("slide-index")||0),this._slider.startAutoplay&&this._slider.startAutoplay())}}),usga.ClubhouseMembership=usga.BaseCloudinaryModule.extend({$slider:null,_slider:null,_sliderIsInitialized:!1,initSlider:function(){var a={slidesPerView:1,simulateTouch:!1,onSlideChangeEnd:this.proxy(this.onSliderSlideChanged)};this.options.delay&&(a.autoplay=1e3*this.options.delay),this.options.carousel&&(a.loop=!0),this.$slider=this.$element.find(".slider-wrapper"),this._slider=new Swiper(this.$slider,a),this._sliderIsInitialized=!0},showLoader:function(){this.loaderModal.open()},hideLoader:function(){this.loaderModal.close()},showCampaign:function(a){this.hideLoader(),this.campaignData=a,this.campaignData.campaign.levelsTitleText=a.campaign.levelsTitle.replace("##FirstName##",a.taUser?a.taUser.First_Name:"").replace("##LastName##",a.taUser?a.taUser.Last_Name:""),a.campaign.filteredLevels.length>0&&this.selectLevel(a.campaign.filteredLevels[0].id),(!this.campaignData.campaign.banner.slides||!$.isArray(this.campaignData.campaign.banner.slides)||this.campaignData.campaign.banner.slides.length<2)&&this.context.attr("hidePager",!0),this.context.attr("banner",this.campaignData.campaign.banner);var b=can.view("#clubhouseMembershipCampaign",this.context);this.$element.find(".campaign_content").empty().append(b),this.onFirstShow();var c=this;setTimeout(function(){c.initializateCategoryDropdowns()},100),this.onSliderSlideChanged()},initializateCategoryDropdowns:function(){this.$element.find(".categoryLarge").prop("selectedIndex",0),this.$element.find(".categorySmall").prop("selectedIndex",0),this.beautifyDropdowns()},".member-level__item click":function(a){this.selectLevel($(a).attr("levelId"))},".level-small change":function(a){this.selectLevel($(a).val())},".done_button click":function(){var a=this.context.attr("selectedLevel"),b=this.$element.find(".categoryLarge"),c=this.$element.find(".categorySmall");return this.$element.find(".inner-membership .visible-large").is(":visible")?a.memberType=b.val():a.memberType=c.val(),a.memberType&&""!==a.memberType?(this.showLoader(),void this.workflow.processAction({selectedLevel:a})):void alert("Please specify member type.")},onSliderSlideChanged:function(){if(this._slider&&null!==this._slider){var a=this.$element.find("#slider-menu_join");a.find("a").removeClass("active"),a.find("a:eq("+(this._slider.activeIndex||0)+")").addClass("active")}},onFirstShow:function(){this._super(),this.initSlider()},ensureCampaignIsNotExpired:function(){if(!this.options.expired)return!1;if(this.options.expired.expiredRedirect)return document.location=this.options.expired.expiredRedirect,!0;if(this.options.expired.expiredMessage){var a=can.view("#clubhouseMembershipCampaignExpired",this.options.expired);return this.$element.find(".campaign_content").empty().append(a),!0}return!1},onDocumentReady:function(){this.ensureCampaignIsNotExpired()||(this.loaderModal=new usga.BaseModal("#loaderModal"),this.showLoader(),this.context=new can.Map(this.options),this.context.attr("selectedLevel",null),$.get(this.options.campaignDataUrl,this.proxy(this.onCampaignDataLoaded)))},ensureQueryStringPropertyIsNotNull:function(a){this.options.queryString[a]||(this.options.queryString[a]="")},onCampaignDataLoaded:function(a){var b;b="string"==typeof a?JSON.parse(a):a,this.options.queryString||(this.options.queryString={c:usga.url.query.c,id:usga.url.query.id,source:usga.url.query.source,cmp:usga.url.query.cmp,r:usga.url.query.r});for(var c=["c","id","source","cmp","r"],d=0;d<c.length;d++)this.ensureQueryStringPropertyIsNotNull(c[d]);b.queryString=this.options.queryString,this.workflow=usga.CampaignWorkflowFactory.create(b),this.workflow.start({showCampaign:this.proxy(this.showCampaign),showLoader:this.proxy(this.showLoader),hideLoader:this.proxy(this.hideLoader)})},selectLevel:function(a){for(i=0;i<this.campaignData.campaign.filteredLevels.length;i++){var b=this.campaignData.campaign.filteredLevels[i].id==a;this.campaignData.campaign.filteredLevels[i].selected=b,b&&this.context.attr("selectedLevel",this.campaignData.campaign.filteredLevels[i])}this.context.attr("campaignData",this.campaignData),this.applyCloudinary(),this.initializateCategoryDropdowns()},beautifyDropdowns:function(){this.$element.find(".dropdown-white_member-level .dropdown").chosen({disable_search_threshold:10,width:"100%"}),this.$element.find(".join-membership__item_above .dropdown").chosen({disable_search_threshold:10,width:"100%"}),this.$element.find(".join-membership__item_under .dropdown").chosen({disable_search_threshold:10,width:"100%"})},"#slider-menu_join a click":function(a,b){b.preventDefault(),this._slider&&null!==this._slider&&this._slider.slideTo&&(this._slider.slideTo(a.data("slide-index")||0),this._slider.startAutoplay&&this._slider.startAutoplay())}}),usga.contactUs=usga.BaseModule.extend({defaults:{successMessage:"Thank you for your Submission",memberIdRequiredMessage:"Enter Member ID",requiredMemberFieldForSubject:null,visibleMemberFieldForSubject:null}},{$memberId:null,init:function(){this._super(),this.$memberId=this.$element.find('select[name="Member_ID"]'),this.initMemberIdField()},initMemberIdField:function(a){a=a||this.$element.find(".contact-us__form__select_subject option:selected").index(),this.$element.find(".contact-us__form__member_id").toggle(!1),this.options.validator.customRules=[],-1!==a&&(this.options.requiredMemberFieldForSubject&&this.options.requiredMemberFieldForSubject[a]&&(this.options.validator.customRules=[{elements:'input[name="Member_ID"]',validator:"required",message:this.options.memberIdRequiredMessage}]),this.$element.find(".contact-us__form__member_id").toggle(this.options.visibleMemberFieldForSubject&&this.options.visibleMemberFieldForSubject[a]))},reset:function(){this.$element.removeClass("error").removeClass("success").find(".invalid").removeClass("invalid"),this.$element.find(".contact-us__error").find(".contact-us__error__text").empty(),this.$element.find(".contact-us__success").find(".contact-us__success__inner").empty()},setBasicError:function(a){this.setError(a)},setValidationClass:function(a){$(a).each(function(){$(this).closest(".contact-us__form__container").addClass("invalid")})},setValidationError:function(){for(var a=this.options.validator,b=0,c=a.errors.length;c>b;b++){var d=a.errors[b];this.setValidationClass(d.element)}this.setError(a.error.message)},setError:function(a){var b=this.$element.find(".contact-us__error .contact-us__error__text");this.$element.addClass("error"),a&&b.append(a)},setSuccess:function(a){this.$element.find(".contact-us__form__wrap").hide(),this.$element.find(".contact-us__success-message").show()},serializeForm:function(){for(var a=this.$element.find(".contact-us__form").serializeArray(),b={},c=0,d=a.length;d>c;c++)b[a[c].name]=a[c].value;return b},serialize:function(){var a=this.serializeForm(),b={},c=this.$element.find(".contact-us__form__select_subject option:selected").index();return $.each(["Full_Name","Email","Country","Subject","Email_Target","Message","Member_ID"],function(c,d){a[d]&&(b[d]=a[d])}),!1===(-1!==c&&this.options.visibleMemberFieldForSubject&&this.options.visibleMemberFieldForSubject[c])&&delete b.Member_ID,b},submit:function(){var a=$.ajax({url:this.options.defaultAction||"#",type:"POST",data:this.serialize()});a.fail(this.proxy(this.onFailedSubmit)),a.done(this.proxy(this.onSuccessSubmit))},onDocumentReady:function(){this.$element.find(".contact-us__form__select .dropdown").chosen({disable_search_threshold:10,width:"100%"})},onFailedSubmit:function(a){this.setBasicError(a.statusText)},onSuccessSubmit:function(a){this.setSuccess()},".contact-us__form__select_subject change":function(a,b){var c=a.find("option:selected").index();-1!==c&&this.$element.find(".contact-us__form__target option:eq("+c+")").prop("selected","selected"),this.initMemberIdField(c)},".contact-us__form submit":function(a,b){var c=this.options.validator,d=c.validate();this.reset(),d?this.submit():this.setValidationError(),this.isBiggerScreen()||this.isInfinityScreen()||window.usga.scrollTo(this.$element),b.preventDefault(),b.stopPropagation()}}),usga.CourseOverview=usga.BaseCloudinaryModule.extend({initSlider:function(){this.slider=this.$element.find(".course-overview__slider").bxSlider({adaptiveHeight:!0,onSliderLoad:this.proxy(this.onSliderLoad),touchEnabled:usga.supports.touch}),this.$pager=this.$element.find(".bx-controls")},setPagerPosition:function(){if(this.isSmallScreen()||this.isMediumScreen()){var a=this.$element.find(".course-overview__slider__item:nth-child(2) > img").height();this.$pager.css("top",a)}},redrawSlider:function(){var a=this;setTimeout(function(){a.slider.redrawSlider()},500)},onSliderLoad:function(){this.setPagerPosition(),this.redrawSlider()},onWindowResize:function(){this.setPagerPosition()},onFirstShow:function(){this._super(),this.initSlider()}}),usga.Definitions=usga.BaseCloudinaryModule.extend({sliders:[],onDocumentReady:function(){for(var a,b=this.$element.find(".definition__item__slider .slider"),c=0;c<b.length;c++)a=$(b[c]).bxSlider({adaptiveHeight:!0,touchEnabled:usga.supports.touch}),this.sliders.push(a)}}),usga.FAQ=usga.BaseCloudinaryModule.extend({queriedQuestion:null,context:null,$categoriesSelect:null,$questionsSelect:null,onDocumentReady:function(){this.queriedQuestion=this.getQueriedQuestion(),this.context=new can.Map(this.options),this.context.attr("selectedCategoryOption",null),this.context.attr("selectedQuestionOption",null),this.context.attr("selectedQuestion",null),this.$element.find(".faq__content").append(can.view("#faqForm",this.context)),this.$categoriesSelect=this.$element.find(".dropdown-categories .dropdown"),this.$questionsSelect=this.$element.find(".dropdown-questions .dropdown"),this.preselect(),this.scrollIntoView(),this.updateCategories(),this.updateQuestions(),this.context.bind("change",this.proxy(this.onCategoryContextChange))},getQueriedQuestion:function(){var a=null,b=usga.url.getHash()["faq-id"];return b&&$.each(this.options.categories,function(c,d){var e=usga.findWhere(d.questions,{id:b});e!==!1&&(a={id:b,category:c,question:e})}),a},preselect:function(){var a=null,b=null,c=null;null!==this.queriedQuestion?(a=this.queriedQuestion.category,b=this.queriedQuestion.question,c=this.context.categories[a].questions[b]):1===this.context.categories.length&&(a=0,1===this.context.categories[0].questions.length&&(b=0,c=this.context.categories[a].questions[b])),null!==a&&this.$questionsSelect.removeAttr("disabled"),this.context.attr("selectedCategoryOption",a),this.context.attr("selectedQuestionOption",b),this.context.attr("selectedQuestion",c),c&&this.trackDtm(c)},scrollIntoView:function(){this.setLocation(this.queriedQuestion,!0)},setLocation:function(a,b){a&&a.id&&document.location.replace(usga.url.createHash({"faq-id":a.id}))},trackDtm:function(a){usga.trackDtm("faq",{page:{attributes:{FAQ:a.question}}})},updateCategories:function(){var a=this,b=this.$categoriesSelect;b.empty(),b.append($("<option/>").html("Select a Category")),$.each(this.context.categories,function(c,d){var e=$("<option/>");e.val(c).html(d.name),a.context.selectedCategoryOption===c&&e.prop("selected","selected"),b.append(e)}),b.selectOrDie("destroy"),b.selectOrDie({placeholderOption:!0,onChange:function(){a.onCategorySelect.call(a,$(this))}})},updateQuestions:function(){var a=this,b=this.$questionsSelect,c=$("<optgroup/>").attr("label","Select a Question");b.empty(),b.append($("<option/>").html("Select a Question")),null!==this.context.selectedCategoryOption&&$.each(this.context.categories[this.context.selectedCategoryOption].questions,function(b,d){var e=$("<option/>");e.val(b),e.html(d.question),a.context.selectedQuestionOption===b&&e.prop("selected","selected"),c.append(e)}),b.append(c),b.selectOrDie("destroy"),b.selectOrDie({placeholderOption:!0,onChange:function(){a.onQuestionSelect.call(a,$(this))}})},onCategoryContextChange:function(a,b,c,d,e){"selectedCategoryOption"===b&&this.updateQuestions()},onCategorySelect:function(a){var b=+a.val(),c=null,d=null;1===this.context.categories[b].questions.length&&(c=0,d=this.context.categories[b].questions[0],this.trackDtm(d),this.setLocation(d)),this.context.attr("selectedQuestionOption",c),this.context.attr("selectedQuestion",d),this.context.attr("selectedCategoryOption",b),this.$questionsSelect.selectOrDie("enable")},onQuestionSelect:function(a){var b=+a.val(),c=this.context.categories[this.context.selectedCategoryOption].questions[b];this.trackDtm(c),this.setLocation(c),this.context.attr("selectedQuestionOption",b),this.context.attr("selectedQuestion",c)}}),usga.Footer=usga.BaseCloudinaryModule.extend({socialApiLoaded:!1,onDocumentReady:function(){this.$element.find(".footer__list__item_gmod1 :link").each(function(a,b){var c=$(b).data("href")||$(b).attr("href");usga.device.ios&&$(b).data("href-ios")?c=$(b).data("href-ios"):usga.device.android&&$(b).data("href-android")&&(c=$(b).data("href-android")),$(b).attr("href",c)})},loadSocialAPI:function(){this.socialApiLoaded||this.isSmallScreen()||(this.socialApiLoaded=!0,$.getScript("//apis.google.com/js/platform.js"),$.getScript("//platform.linkedin.com/in.js"))},onFirstShow:function(){this._super(),this.loadSocialAPI()},onLayout:function(){this._super(),this.loaded&&this.loadSocialAPI()}});var usga=window.usga||{};usga.Gallery=usga.BaseModule.extend({galleryScriptUrl:"js/juicebox.min.js",galleryLoaded:!1,loadGallery:function(a){this.galleryLoaded?a():$.getScript(usga.config.galleryScriptUrl||this.galleryScriptUrl,a)}},{gallery:null,expanded:!1,toggleExpand:function(){this.expanded=!this.expanded,this.gallery&&this.gallery.toggleExpand()},trackDtmGallery:function(a){a&&usga.trackDtm("photo-gallery-launch",{photogallery:{name:a}})},trackDtmPhoto:function(a){a&&usga.trackDtm("photo-gallery-image-view",{photo:{name:a}})},onFirstShow:function(){usga.Gallery.loadGallery(this.proxy(this.onGalleryLoad)),this.trackDtmGallery(this.options.title)},onGalleryLoad:function(){window.juicebox&&(this.gallery=new window.juicebox({containerId:this.$element.attr("id"),configUrl:this.options.items,screenMode:"large",thumbWidth:128,thumbHeight:72,galleryTitle:"",thumbFrameColor:"rgba(101,104,107,.9)",thumbSelectedFrameWidth:"6",backgroundColor:"2a2e34",showOpenButton:!1,showAutoPlayButton:!1,showThumbsOnLoad:!1,showThumbsButton:!0,showImageOverlay:"always",expandInNewPage:!1,buttonBarPosition:"top",buttonBarIconSize:"15",
captionPosition:"bottom",themeUrl:"#juicebox.css"}),this.gallery.onImageChange=this.proxy(this.onImageShow),this.expanded&&this.gallery.toggleExpand())},onImageShow:function(a){var b=this.gallery.getImageInfo(a.id);this.trackDtmPhoto(b.title||b.id)}}),usga.HeaderBox=usga.BaseModule.extend({onDocumentReady:function(){this.$element.find(".header-box__list-dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})}}),usga.Hero=usga.BaseCloudinaryModule.extend({hasProtectedContent:!0,hasLiveEvent:null,isLive:null,updateDelay:1e4,slides:null,links:null,init:function(){this._super(),this.options.live&&this.element.addClass("live"),this.isPagerAvailable()||this.$element.addClass("hero__slider-no-pager")},initLiveUpdate:function(){this.slides=this.$element.find(".hero__slider__item"),this.links=this.$element.find(".slider-menu__item"),this.selectLiveSlides()},selectLiveSlides:function(){this.hasLiveEvent=!1;for(var a=(new Date).valueOf(),b=this.options.tickerStartDates,c=this.options.tickerEndDates,d={activeLiveSlidesIndexes:[],inActiveLiveSlidesIndexes:[]},e=0,f=b.length;f>e;e++){var g=b[e],h=c[e];g&&h&&(a>g&&h>a?(this.hasLiveEvent=!0,d.activeLiveSlidesIndexes.push(e)):d.inActiveLiveSlidesIndexes.push(e))}this.toggleSlides(d)},toggleSlides:function(a){this.isLive!==this.hasLiveEvent&&(this.destroySlider(),this.hasLiveEvent?this.switchOnLive(a):this.switchOffLive(a),this.changeFirstLink(),this.initSlider(),this.isLive=this.hasLiveEvent),window.setTimeout(this.proxy(function(){this.selectLiveSlides()}),this.updateDelay)},changeFirstLink:function(){var a=this.element.find(".slider-menu__item");a.removeClass("first-in-set").find(".slider-menu__item__link").removeClass("active");for(var b=0,c=a.length;c>b;b++){var d=$(a[b]);if(d.is(":visible")){d.addClass("first-in-set").find(".slider-menu__item__link").addClass("active");break}}},setFirstSlide:function(){for(var a=this.element.find(".hero__slider__item"),b=0,c=a.length;c>b;b++){var d=$(a[b]);if(d.is(":visible")){this.slider.goToSlide(b);break}}},switchOnLive:function(a){this.slides.hide().filter(function(b){return-1!==a.activeLiveSlidesIndexes.indexOf(b)}).show(),this.links.hide().filter(function(b){return-1!==a.activeLiveSlidesIndexes.indexOf(b)}).show()},switchOffLive:function(a){this.slides.show().filter(function(b){return-1!==a.activeLiveSlidesIndexes.indexOf(b)||-1!==a.inActiveLiveSlidesIndexes.indexOf(b)}).hide(),this.links.show().filter(function(b){return-1!==a.activeLiveSlidesIndexes.indexOf(b)||-1!==a.inActiveLiveSlidesIndexes.indexOf(b)}).hide()},initSlider:function(){var a=this,b=this.$element.find("#hero__pagination"),c={infiniteLoop:!1,pagerCustom:b,controls:this.options.live?!1:!0,adaptiveHeight:!0,touchEnabled:usga.supports.touch,onSliderLoad:function(){window.setTimeout(function(){a.setFirstSlide()},10)}};this.isPagerAvailable()?(this.options.delay&&(c.auto=!0,c.pause=1e3*this.options.delay),b.toggle(!0)):(c.touchEnabled=!1,c.infiniteLoop=!1,b.toggle(!1)),this.slider=this.$element.find(".hero__slider").bxSlider(c),this.updateProtectedLinks()},redrawSlider:function(){var a=this;setTimeout(function(){a.slider.redrawSlider()},800)},destroySlider:function(){this.slider&&(this.slider.destroySlider(),this.slider=null)},onLayout:function(){this._super(),this.redrawSlider()},onFirstShow:function(){this._super(),this.$element.removeClass("loading"),this.options.tickerStartDates&&this.options.tickerEndDates?this.initLiveUpdate():this.initSlider()},isPagerAvailable:function(){return this.$element.find(".hero__slider__item").length>1}}),usga.History=usga.BaseCloudinaryModule.extend({applyCloudinary2:function(){var a=this.$element.find(".history__item__media img[data-src]"),b={width:370,height:434,quality:70,crop:"fill"};this.applyCloudinaryConfig(a,b);var c=this.$element.find("img.history__item__img[data-src]");rpConfig={width:158,height:158,crop:"fill",radius:"max"},this.applyCloudinaryConfig(c,rpConfig)},onFirstShow:function(){this.isSmallScreen()?this.applyCloudinary(this.$element.find(".box-redirect-small")):this._super()},onLayout:function(){this.isSmallScreen()?this.applyCloudinary(this.$element.find(".box-redirect-small")):this._super()}}),usga.Join=usga.BaseModule.extend({onDocumentReady:function(){this.$element.find(".dropdown_above").chosen({disable_search_threshold:10,width:"100%"}),this.$element.find(".dropdown_under").chosen({disable_search_threshold:10,width:"100%"})}});var usga=window.usga||{};usga.Latest=usga.BaseCloudinaryModule.extend({CSS_DOUBLE_SIZE_CLASS:"block__card_double",CSS_ONLY_CHANNELS_CLASS:"latest__only_channels",defaults:{channelsLabels:{everything:"everything",news:"news",videos:"video",photos:"photo",social:"social"},channels:{everything:"",videos:"",photos:"",news:"",social:""},editorialFeed:"",defaultChannel:"everything",hubMode:!1,hubType:"long",limit:5,adaptItems:!0,hubLongModeLimit:22,hubShortModeLimit:10,hubSmallLongModeLimit:9,hubSmallShortModeLimit:7,hubLongModeShowMoreCount:20,hubShortModeShowMoreCount:8,hubSmallLongModeShowMoreCount:8,hubSmallShortModeShowMoreCount:6,category:"",subCategory:"",categories:{},moreLinkUrl:"",moreLinkText:"",hideFilters:!0,hideCategoriesFilter:!1,hideChannelsFilter:!1,hideShowMoreButton:!0,instagramPageUrl:"http://instagram.com",facebookPageUrl:"https://www.facebook.com/USGA",twitterPageUrl:"https://twitter.com/usga"}},{hasProtectedContent:!0,$category:null,$showMoreButton:null,context:{},channels:{},editorialChannel:null,_renderSubCategory:!1,_isDoubleSizeDisabled:!1,_adapting:!1,_notRenderedItems:[],_screenSize:"infinity",init:function(){return this._super(),this._screenSize=this.getScreenSize(),this.options.limit=this._getLimit(),this.options.showMoreCount=this._getShowMoreCount(),this.options.adaptItems=this.options.adaptItems&&null!==this.options.adaptItems,this.options.moreLinkUrl=this.options.moreLinkUrl&&"string"==typeof this.options.moreLinkUrl?this.options.moreLinkUrl:"",this.options.moreLinkText=this.options.moreLinkText&&"string"==typeof this.options.moreLinkText?this.options.moreLinkText:"LATEST FROM THE USGA",this.context=new can.Map({channel:this.options.defaultChannel||"everything",categories:this.options.categories,category:null,subCategory:this.options.subCategory&&null!==this.options.subCategory?this.options.subCategory:"",items:[],options:this.options,isLoading:!0}),this._setupChannels(),this.channels[this.context.channel]?(this._setEvents(),this._setClassesToContainer(),this.options.category&&(this._renderSubCategory=!this.options.subCategory),this._renderTemplate(),this.context.attr("category",this.options.category||"all"),void this.updateChosen()):void usga.log("Latest: select default channel")},_getHubType:function(){return this.options.hubType&&null!==this.options.hubType&&"long"!==this.options.hubType&&-1!==["long","short"].indexOf(this.options.hubType)?"short":"long"},_getHubLimit:function(a){var b=this._getHubType();return"small"!==a?"long"===b?this.options.hubLongModeLimit&&null!==this.options.hubLongModeLimit?this.options.hubLongModeLimit:22:this.options.hubShortModeLimit&&null!==this.options.hubShortModeLimit?this.options.hubShortModeLimit:10:"long"===b?this.options.hubSmallLongModeLimit&&null!==this.options.hubSmallLongModeLimit?this.options.hubSmallLongModeLimit:9:this.options.hubSmallShortModeLimit&&null!==this.options.hubSmallShortModeLimit?this.options.hubSmallShortModeLimit:7},_getHubShowMoreCount:function(a){var b=this._getHubType();return"small"!==a?"long"===b?this.options.hubLongModeShowMoreCount&&null!==this.options.hubLongModeShowMoreCount?this.options.hubLongModeShowMoreCount:20:this.options.hubShortModeShowMoreCount&&null!==this.options.hubShortModeShowMoreCount?this.options.hubShortModeShowMoreCount:8:"long"===b?this.options.hubSmallLongModeShowMoreCount&&null!==this.options.hubSmallLongModeShowMoreCount?this.options.hubSmallLongModeShowMoreCount:8:this.options.hubSmallShortModeShowMoreCount&&null!==this.options.hubSmallShortModeShowMoreCount?this.options.hubSmallShortModeShowMoreCount:6},_getLimit:function(){return this.options.hubMode?this._getHubLimit(this._screenSize):this.options.limit&&null!==this.options.limit?this.options.limit:5},_getShowMoreCount:function(){return this.options.hubMode?this._getHubShowMoreCount(this._screenSize):this._getLimit()},_setupChannels:function(){var a={};$.each(this.options.channels,this.proxy(function(b,c){c&&(a[b]=this.options.channelsLabels[b]||"")})),this.context.attr("availableChannels",a),$.each(a,this.proxy(function(a,b){this.channels[a]=new usga.Latest.Channel(this.options.channels[a],this.options.limit,!1)})),this.options.editorialFeed&&(this.editorialChannel=new usga.Latest.Channel(this.options.editorialFeed,-1,!0))},_setClassesToContainer:function(){(this.options.hideFilters||this.options.hideCategoriesFilter&&this.options.hideChannelsFilter)&&this.$element.closest(".frame").addClass("frame_no-filter")},_setEvents:function(){this.context.bind("change",this.proxy(function(a,b){"channel"===b&&this._onChannelChangeContext(),"category"===b&&this._onCategoryChangeContext()}))},_renderTemplate:function(){this.$element.append(can.view("#latestTemplate",this.context,{renderTweetButtons:this.proxy(usga.Latest.Helpers.renderTweetButtons),renderFacebookButtons:this.proxy(usga.Latest.Helpers.renderFacebookButtons)})),this.$category=this.$element.find(".latest-filter__categories__select").chosen({disable_search_threshold:10,width:"100%"}),this.$showMoreButton=this.$element.find(".show-more"),this._setChannelSelection(),this.options.hideFilters||this.options.hideChannelsFilter||!this.options.hideCategoriesFilter||this.$element.addClass(usga.Latest.CSS_ONLY_CHANNELS_CLASS)},_getRequestParams:function(){var a={},b=[];return this.context.subCategory?b.push(this.context.subCategory):this.context.category&&"all"!==this.context.category&&b.push(this.context.category),b.length&&(a.tags=b.join("+")),a},_getItemCategoryTitle:function(a){var b=a.categories&&a.categories.length,c=a.subCategories&&a.subCategories.length,d="";return b||c?(this._renderSubCategory&&c?d=a.subCategories[0]||"":!this.options.subCategory&&b&&(d=a.categories[0]||""),d.toUpperCase()):""},_prepareSocialItemText:function(a,b){return a&&null!==a?(a=usga.replaceURLWithHTMLLinks(a),b&&("twitter"===b&&(a=usga.replaceTwitterUsernameWithHTMLLinks(a)),-1!==["twitter","facebook"].indexOf(b)&&(a=usga.replaceHashtagsWithHTMLLinks(a,!1,b))),a):""},_areAllInitialItemsSocial:function(a){if(usga.isObject(a)&&a.ref&&$.isArray(a.ref)){var b=this.options.limit;a.ref.length<this.options.limit&&(b=a.ref.length);for(var c=0;b>c;c++)if("social"!==a.ref[c].type)return!1;return!0}return!1},_areAllInitialItemsWithoutImage:function(a){if(usga.isObject(a)&&a.ref&&$.isArray(a.ref)){var b=this.options.limit;a.ref.length<this.options.limit&&(b=a.ref.length);for(var c=0;b>c;c++)if(null!==a.ref[c].image)return!1;return!0}return!1},_swapSocialCardWithOtherCard:function(a,b,c){var d=this.channels[this.context.channel];if(b&&this._areAllInitialItemsSocial(a)&&d.data._notRenderedItems&&d.data._notRenderedItems.length>0){var e=usga.findWhere(d.data._notRenderedItems,{"!type":"social","!image":["",null]});if(e!==!1){var f=(d.data._notRenderedItems[e],d.data._notRenderedItems.splice(e,1)[0]);if(a.ref.splice(0,0,f),a.ref.length>this._getFetchLimit(c))for(var g=this._getFetchLimit(c),h=g,i=a.ref.length;i>g;g++)d.data._notRenderedItems.push(a.ref.splice(h,1)[0]);d.fetchedItems=a.ref}}},_swapCardWoImageWithOtherCard:function(a,b,c){var d=this.channels[this.context.channel];if(b&&this._areAllInitialItemsWithoutImage(a)&&d.data._notRenderedItems&&d.data._notRenderedItems.length>0){var e=usga.findWhere(d.data._notRenderedItems,{"!type":"social","!image":null});if(e!==!1){var f=(d.data._notRenderedItems[e],d.data._notRenderedItems.splice(e,1)[0]);if(a.ref.splice(0,0,f),a.ref.length>this._getFetchLimit(c))for(var g=this._getFetchLimit(c),h=g,i=a.ref.length;i>g;g++)d.data._notRenderedItems.push(a.ref.splice(h,1)[0]);d.fetchedItems=a.ref}}},_getFetchLimit:function(a){return a?this._getLimit():this._getShowMoreCount()},_getNetworkPageUrl:function(a){if(a&&"string"==typeof a){var b=a.toLowerCase()+"PageUrl";if(this.options[b]&&"string"==typeof this.options[b])return this.options[b]}return""},_updateRenderableItems:function(a,b,c,d){a=$.isArray(a)?a:[],this._swapSocialCardWithOtherCard({ref:a},d,c),this._swapCardWoImageWithOtherCard({ref:a},d,c),can.batch.start(),c&&this.context.items.splice(0,this.context.items.length);for(var e=0,f=a.length;f>e;e++){var g=a[e],h={id:g.id?""+g.id:"",title:g.title||"",contentUrl:g.link||"",media:g.image&&null!==g.image?g.image:"",follow:!1,network:g.provider||"",networkPageUrl:""},i=h.id?h.id.match(/^(facebook|instagram|twitter)/i):!1,j=!0;if(!g.type)return!0;i&&i[1]&&(h.network=i[1].toLowerCase()),h.media&&(h.media=usga.trimDamInUrl(h.media)),h["is_"+g.type]=!0,h.network&&(h.is_social=!0,h["is_"+h.network]=!0),(h.is_twitter||!h.media)&&(j=!1),"social"===g.type?(h.networkPageUrl=this._getNetworkPageUrl(h.network),h.title=this._prepareSocialItemText(g.description||"",h.network),h.above2=h.network.toUpperCase(),h.above_img=!0,h.follow=!0):g.description&&!g.title&&g.description&&(h.title=usga.cutText(g.description,this.options.cutTitleLength,"")),j||h.is_twitter||(h.render_as_article=!0,h.text=usga.cutText(g.description,this.options.cutBodyLength," ...")),h.is_instagram?j&&(h.title="",h.description=""):h.above=this._getItemCategoryTitle(g),this.context.items.push(h)}can.batch.stop(),this._adapting||this._toggleShowMoreButton(a,b),this._toggleDoubleSizeMode(a,c),this._setDoubleSizedItem(),this._onItemsRendered(),this.applyCloudinary()},_toggleShowMoreButton:function(a,b){this.options.hideShowMoreButton||this.$showMoreButton.toggle(a.length&&a.length>=b?!0:!1)},_toggleDoubleSizeMode:function(a,b){if(b){var c=this.$element.find(".block__card__social:lt("+this.options.limit+")").length,d=this.$element.find(".block__card-no-img:lt("+this.options.limit+")").length;c&&(c===this.options.limit||c<this.options.limit&&c===a.length)||d&&(d===this.options.limit||d<this.options.limit&&d===a.length)?this._isDoubleSizeDisabled=!0:this._isDoubleSizeDisabled=!1}},_setDoubleSizedItem:function(){if(!this._isDoubleSizeDisabled){var a=this.$element.find(".block__card:first"),b=a.next();if(a[0]){var c=[];this.isInfinityScreen()?(c=b,b.is(".block__card__social, .block__card-no-img")&&(c=b.prev(":not(.block__card__social):not(.block__card-no-img)"),c[0]?c.before(b):(c=b.nextAll(":not(.block__card__social):not(.block__card-no-img):first"),c[0]&&b.before(c)))):(c=a,a.is(".block__card__social, .block__card-no-img")&&(c=a.nextAll(":not(.block__card__social):not(.block__card-no-img):first"),c[0]&&a.parent().prepend(c))),$.each([c,a,b],this.proxy(function(a,b){b.removeClass(usga.Latest.CSS_DOUBLE_SIZE_CLASS)})),c[0]&&c.addClass(usga.Latest.CSS_DOUBLE_SIZE_CLASS)}}},_setChannelSelection:function(){this.$element.find(".latest-filter__tags__item__link").removeClass("active"),this.$element.find('.latest-filter__tags__item__link[data-channel="'+this.context.channel+'"]').addClass("active")},_onItemsRendered:function(){this._adapting||this._adaptItemsCount(),this.updateProtectedLinks()},_onChannelChangeContext:function(){this._fetch(!0),this._setChannelSelection()},_onCategoryChangeContext:function(){this._fetch()},_fetch:function(a){var b=this.channels[this.context.channel],c=this._getRequestParams(),d=b.isInitialFetchingNeeded(c),e=d||a,f=d?this.options.limit:this.options.showMoreCount,g=this.isSmallScreen()||!this.options.adaptItems?0:this._getLineFitItemsCount();this.context.attr("isLoading",e&&d&&0===this.context.items.length),e?(d&&(b.data.skipItems=[],b.data._notRenderedItems=[]),!this.editorialChannel||!d||this.context.channel&&"everything"!==this.context.channel?(f+=d?g+1:g,this.channels[this.context.channel].fetch(this._getRequestParams(),!0,f).done(this.proxy(function(a){d?this._processFetchResponce(a,null,d,e):this._processFetchResponce(a,null,!1,e)}))):(this.editorialChannel.fetchOffset="",f+=g+1,$.when(b.fetch(this._getRequestParams(),!0,f),this.editorialChannel.fetch({},!0)).done(this.proxy(function(a,b){this._processFetchResponce(a,b,d,e)})))):(f=f-b.data._notRenderedItems.length+g,b.data.skipItems&&$.isArray(b.data.skipItems)&&(f+=b.data.skipItems.length),1>f&&(f=0),this.channels[this.context.channel].fetch(this._getRequestParams(),!1,f).done(this.proxy(function(a){this._processFetchResponce(a)})))},_processFetchResponce:function(a,b,c,d){this.context.attr("isLoading",!1),this._swapItemsWithEditorialItems(a,b,c),this._skipItems(a),this._addNotRenderedItemsToFetch(a,d),(c||!d)&&this._storeExceedingLimitItems(a,d),this._updateRenderableItems(a.items,d?this.options.limit:this._getShowMoreCount(),d,c)},_swapItemsWithEditorialItems:function(a,b,c){if(b&&c){var d=this.channels[this.context.channel],e=$.merge([],a.items),f={};b.items.sort(function(a,b){if(usga.isObject(a)&&a.id&&-1!==a.id.indexOf("-")&&usga.isObject(b)&&b.id&&-1!==b.id.indexOf("-")){var c=+a.id.split("-").pop(),d=+b.id.split("-").pop();if(c>d)return 1;if(d>c)return-1}return 0}),$.each(b.items,function(a,b){var c=b.id.split("-"),d=c.pop();d>e.length&&(d=e.length+1),f[c[0]]=!0,e.splice(d-1,0,b)}),e.length>this.options.limit&&(d.data._notRenderedItems=e.splice(this.options.limit,e.length-this.options.limit)),a.items=e,d.fetchedItems=e,d.data.skipItems=f}},_skipItems:function(a){var b=this.channels[this.context.channel],c=0;if(b.data.skipItems&&(a.items=$.map(a.items,function(a){return b.data.skipItems[a.id]?(c+=1,null):a}),c>0&&b.data._notRenderedItems&&$.isArray(b.data._notRenderedItems))){var d=c;d>b.data._notRenderedItems.length&&(d=b.data._notRenderedItems.length);for(var e=0;d>e;e++){var f=b.data._notRenderedItems.splice(0,1)[0];a.items.push(f),b.fetchedItems.push(f)}}},_storeExceedingLimitItems:function(a,b){if(a.items.length>this._getFetchLimit(b)){var c=a.items.length-this._getFetchLimit(b),d=this.channels[this.context.channel],e=-c;d.data._notRenderedItems&&$.isArray(d.data._notRenderedItems)||(d.data._notRenderedItems=[]),d.data._notRenderedItems=$.merge(d.data._notRenderedItems,a.items.splice(-c)),d.fetchedItems.splice(e,c)}},_appendNotRenderedItemsFromFetch:function(a){if(a)for(var b=this.channels[this.context.channel],c=0;a>c;c++){var d=b.fetchedItems.splice(-1)[0];b.data._notRenderedItems.splice(0,0,d)}},_addNotRenderedItemsToFetch:function(a,b){var c=this.channels[this.context.channel];if(!b&&c.data._notRenderedItems&&c.data._notRenderedItems.length>0)for(var d=-a.items.length,e=0,f=c.data._notRenderedItems.length;f>e;e++){var g=c.data._notRenderedItems.splice(0,1)[0];a.items.splice(e,0,g),c.fetchedItems.splice(d,0,g)}},_appendNotRenderedItemsToFetch:function(a){var b=this.channels[this.context.channel];if(b.data._notRenderedItems&&b.data._notRenderedItems.length>0)for(var c=0;a>c;c++){var d=b.data._notRenderedItems.splice(0,1)[0];b.fetchedItems.push(d)}},_getLineFitItemsCount:function(){var a;switch(this.getScreenSize()){case"small":a=1;break;case"medium":a=2;break;case"big":a=3;break;default:a=4,this.$element.closest(".frame__left").next(".frame__right").length&&(a-=1)}return a},_getNeededAdaptItems:function(){var a=this._getLineFitItemsCount(),b=this.context.items.length,c=!!this.$element.find("."+usga.Latest.CSS_DOUBLE_SIZE_CLASS)[0];return a>1?(c&&(b+=1),b%a===0?0:a-b%a):0},_getOddItemsCount:function(){var a=this._getLineFitItemsCount(),b=this.context.items.length,c=!!this.$element.find("."+usga.Latest.CSS_DOUBLE_SIZE_CLASS)[0];return a>1?(c&&(b+=1),b%a===0?0:b%a):void 0},_adaptItemsCount:function(){if(!this.options.adaptItems)return!1;var a=this.channels[this.context.channel],b=this._getNeededAdaptItems(),c=!b||0===b||null===b,d=this._getLimit();if(!c&&this.context.items.length<d==!1){if(this._adapting=!0,b>a.data._notRenderedItems.length){var e=this._getLineFitItemsCount()-b;this._appendNotRenderedItemsFromFetch(e),this.context.attr("items",this.context.items.splice(0,this.context.items.length-e)),this._setDoubleSizedItem()}else this._appendNotRenderedItemsToFetch(b),this._updateRenderableItems(a.fetchedItems.slice(-b));this._adapting=!1}},onLayout:function(){this.context.items.length&&this._adaptItemsCount(),this._setDoubleSizedItem(),this._super()},onDocumentReady:function(){this.$element.find(".latest-filter__categories__select").chosen({disable_search_threshold:10,width:"100%"})},updateChosen:function(){this.$element.find(".latest-filter__categories__select").trigger("chosen:updated")},".latest-filter__categories__select":function(a,b){this.updateChosen()},".latest-filter__tags__item__link click":function(a,b){b.preventDefault();var c=a.data("channel");c&&this.channels&&this.channels[c]&&this.context.attr("channel",c)},".show-more__button click":function(a,b){b.preventDefault(),this._fetch()}}),usga.Latest.Helpers=can.Construct.extend({renderTweetButtons:function(){return function(a){var b=window.twttr;b&&b.widgets&&b.widgets.load&&b.widgets.load(a.parentNode)}},renderFacebookButtons:function(){return function(a){var b=window.FB;b&&b.XFBML&&b.XFBML.parse&&b.XFBML.parse(a.parentNode)}}},{}),usga.Latest.Channel=can.Construct.extend({limit:5,url:"",paramsPrefix:"",itemsProcessor:null,data:null,fetchedItems:null,itemsCacheKey:"",fetchOffset:"",_activeTransfer:null,init:function(a,b){if(!a)throw new Error("LatestChannel: set url");this.data={},this.url=a,this.limit=void 0===b||null===b?5:b,this.itemsProcessor=new usga.Latest.Channel.ItemsProcessor},_prepareJsonPath:function(a){var b=this.url,c="";return a.limit&&-1!==this.limit&&(c+=".size_"+a.limit),a.offset&&(c+=".offset_"+a.offset),a.tags&&(c+=".tags_"+a.tags.replace(/:/g,"_")),b=b.replace(/(\.json)$/i,c+"$1")},fetch:function(a,b,c){var d=this.getCacheKeyFromParams(a),e=this.isInitialFetchingNeeded(a),f=c||this.limit,g=$.Deferred();if(e||!b){b?(this.fetchedItems=null,this.fetchOffset=""):this.fetchOffset&&(a.offset=this.fetchOffset),a.limit=f,this._activeTransfer&&(this._activeTransfer.abort(),this._activeTransfer=null);var h=[];return this._activeTransfer=$.ajax({url:this._prepareJsonPath(a),type:"GET",dataType:"text",contentType:"application/json; charset=utf-8",data:{},success:this.proxy(function(b){this.fetchedItems||(this.fetchedItems=[]);try{usga.isObject(b)||(b=JSON.parse(b))}catch(c){b={items:[]},usga.log("Latest: parsing error - "+c.message)}h=$.merge(h,b&&b.items?b.items:[]),h=this.itemsProcessor.process(h,f,this.fetchOffset,a),this.fetchedItems=$.merge(this.fetchedItems,h||[]),this.itemsCacheKey=d,this.fetchOffset=h.length?h[h.length-1].id:this.fetchOffset,g.resolve(new usga.Latest.Channel.FetchResponse(h,f,e))}),error:this.proxy(function(a){usga.log("Latest: fetching error - "+(a.statusText||"")+" - "+(a.responseText||"")),g.resolve(new usga.Latest.Channel.FetchResponse([],f,e))})}),g.promise()}return b?$.when(new usga.Latest.Channel.FetchResponse(this.fetchedItems,f,!0)):void 0},getCacheKeyFromParams:function(a){return JSON.stringify(a||{})},isInitialFetchingNeeded:function(a){var b=this.getCacheKeyFromParams(a);return!this.itemsCacheKey||!this.fetchedItems||b!==this.itemsCacheKey}}),usga.Latest.Channel.FetchResponse=can.Construct.extend({items:[],limit:0,isInitialFetch:!1,init:function(a,b,c){this.items=a,this.limit=b,this.isInitialFetch=c}}),usga.Latest.Channel.ItemsProcessor=can.Construct.extend({process:function(a,b,c,d){return a}}),usga.LeaderBoardBaseMap=usga.BaseMap.extend({define:{lbType:{type:"string",value:""},screenSize:{type:"string",value:"infinity"}},isTeamStrokeLb:can.compute(function(){return"teamStroke"==this.attr("lbType")}),isIndStateStrokeLb:can.compute(function(){return"individualStateStroke"==this.attr("lbType")}),isIndIntlStrokeLb:can.compute(function(){return"individualIntlStroke"==this.attr("lbType")}),isIndMatchPlayLb:can.compute(function(){return"individualMatchPlay"==this.attr("lbType")}),isFourBallMatchPlayLb:can.compute(function(){return"fourballMatchPlay"==this.attr("lbType")}),isFourBallIntlStrokeLb:can.compute(function(){return"fourballIntlStroke"==this.attr("lbType")}),isTeamMatchPlayLb:can.compute(function(){return"teamMatchPlay"==this.attr("lbType")}),isFourballChampionship:can.compute(function(){return"fourballMatchPlay"==this.attr("lbType")||"fourballIntlStroke"==this.attr("lbType")||"fourball"==this.attr("lbType")}),hasMatchStatusBar:can.compute(function(){return!1}),isMobileScreen:can.compute(function(){return"small"==this.attr("screenSize")})}),usga.LeaderBoardBaseModel=usga.LeaderBoardBaseMap.extend({define:{tableLegend:{type:"*",value:null},teamsData:{Type:usga.BaseMap,Value:usga.BaseMap},playersData:{Type:usga.BaseMap,Value:usga.BaseMap},courseData:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},currentRound:{type:"*",value:null},roundData:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},cutData:{Type:usga.BaseMap,Value:usga.BaseMap},matchesData:{Type:usga.BaseMap,Value:usga.BaseMap},matchPlayRounds:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},matchPlayTeamsData:{Type:usga.BaseMap,Value:usga.BaseMap}},rounds:can.compute(function(){return this.attr("courseData.yardlist.roundlist")})}),usga.LeaderBoardBaseControl=usga.BaseModule.extend({initialized:!1,defaultSortDirection:"asc",defaultSortType:"number-t",currentSortDirection:"asc",currentSortType:"number-t",updateInterval:null,updateIntervalDuration:3e4,partialsUpdateTimeout:100,changedData:[],dataUrl:null,init:function(){this._super()},destroy:function(){this.updateInterval&&window.clearInterval(this.updateInterval),can.Control.prototype.destroy.call(this)},getData:function(){can.ajax({type:"GET",url:this.dataUrl,headers:{"Content-Type":"application/json"},success:this.proxy(function(a){this.initialized?this.applyDataChanges(a):(this.initialized=!0,this.applyInitialContextData(a))}),error:this.proxy(function(a){this.handleError(a)})})},handleError:function(a){console.log(a)},initCustomSelect:function(){this.$element.find(".header-box__list-dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})},getHelpers:function(){var a=this.context;return{isCurrentRound:function(b,c){return b=can.isFunction(b)?b():b,b==a.attr("currentRound")?c.fn():c.inverse()},isTwoRoundsEvent:function(a,b){return a=can.isFunction(a)?a():a,2==a.attr("length")?b.fn(this):b.inverse(this)},isEqual:function(a,b,c){return can.isFunction(a),a=a(),a==b?c.fn(this):c.inverse(this)}}},getLegends:function(a){if(a){var b=a.legend,c=[];if(can.isArray(b))for(var d=0,e=b.length;e>d;d++)c.push(b[d].text);else c.push(b.text);return c}return null},initDataUpdating:function(){this.updateInterval&&(window.clearInterval(this.updateInterval),this.updateInterval=null),this.updateInterval=window.setInterval(this.proxy(function(){this.getData()}),this.updateIntervalDuration)},applyPartialData:function(a,b,c,d){var e,f=this;can.isArray(a)?e=a.slice(b,b+c):(e=[],e.push(a)),can.batch.start(function(){window.setTimeout(function(){var e=b+c;e<a.length?f.applyPartialData(a,e,c,d):f.initDataUpdating()},this.partialsUpdateTimeout)}),d&&d(e),can.batch.stop()},compareAndSetAttr:function(a,b,c,d){if("object"!=typeof a)a!=b&&c&&d&&(c.attr(d,a),this.hasChanges=!0);else if(can.isArray(a))if(b instanceof can.List)for(var e=0,f=a.length;f>e;e++)b.attr(e)?this.compareAndSetAttr(a[e],b.attr(e),b,e):b.push(a[e]);else c.attr(d,a);else if(""!==b)for(var g in a)a.hasOwnProperty(g)&&this.compareAndSetAttr(a[g],b.attr(g),b,g);else c.attr(d,a);return this.hasChanges},sortDomElements:function(a,b,c,d,e){var f=this.$element.find("."+d);f.sort(this.setSortingArgument(a,b,c,!0)),f.each(function(){can.$(this).detach().insertAfter(can.$("."+e).last())})},sortList:function(a,b,c,d){this.currentSortAttr=b,this.currentSortDirection=c,this.currentSortType=d,a.sort(this.setSortingArgument(b,c,d))},setSortingArgument:function(a,b,c,d){var e=this;return function(f,g){return d?(f=can.$(f).data(a),g=can.$(g).data(a)):(f="function"==typeof f[a]?f[a]():f[a],g="function"==typeof g[a]?g[a]():g[a]),f=e.parseSortingData(f,b,c),g=e.parseSortingData(g,b,c),"asc"==b?f===g?0:g>f?-1:1:f===g?0:f>g?-1:1}},parseSortingData:function(a,b,c){var d=1e5,e=d+1,f=d+2,g=d+3,h=d,i=d+5,j=1200;return"number"==c||"number-nan"==c||"number-t"==c?("string"==typeof a&&(a=a.replace(/t/i,"").replace(/mc/i,f).replace(/wd/i,g).replace(/dq/i,e)),a=""===a||/^\s*$/.test(a)||void 0===a?h:"-"==a?"asc"==b?i:-i:"e"==a||"E"==a?0:"number"==typeof a?a:parseInt(a)):"float"==c?a="number"==typeof a?a:parseFloat(a):"time"==c&&(a=a.replace(/^12:/i,"0:"),/pm$/i.test(a)?(a=a.replace(/([0-9]{1,2})\:([0-9]{1,2})\s*p?a?m/i,"$1$2"),a=parseInt(a)+j):(a=a.replace(/([0-9]{1,2})\:([0-9]{1,2})\s*p?a?m/i,"$1$2"),a=parseInt(a))),a},setSortType:function(a,b,c,d,e){null===d&&(d=[]),a.hasClass("sort-asc")?(a.removeClass("sort-asc"),a.addClass("sort-desc"),this.sortList(d,b,"desc",c),this.sortTables(b,"desc",c)):a.hasClass("sort-desc")?(a.removeClass("sort-desc"),a.addClass("sort-asc"),this.sortList(d,b,"asc",c),this.sortTables(b,"asc",c)):(e.removeClass("sort-asc").removeClass("sort-desc"),a.addClass("sort-asc"),this.sortList(d,b,"asc",c),this.sortTables(b,"asc",c))},createScorecardDrawer:function(a,b){var c,d=can.$('<tr class="attached-drawer"><td colspan="12" id="drawer'+b.attr("idField")+'"></td></tr>');a.after(d),c=b.attr("isFourBallIntlStrokeLb")?new usga.LeaderboardDrawerScorecardFourball("#drawer"+b.attr("idField"),b):new usga.LeaderboardDrawerScorecard("#drawer"+b.attr("idField"),b)},createMatchPlayDrawer:function(a,b){var c=can.$('<div id="drawer'+b.attr("idField")+'" class="lb-match__container__item__drawer attached-drawer"></div>');a.after(c);new usga.LeaderboardDrawerMatchPlay("#drawer"+b.attr("idField"),b)},findTableElement:function(a,b){a=a.replace(/\s/,"\\s*");var c=new RegExp(a,"ig");""!==a&&a?b.each(function(){var a=can.$(this),b=a.data("search")||a.text();c.test(b)?a.show():a.hide()}):b.show()},applyCourseData:function(a,b){if(can.isArray(b))for(var c=0,d=b.length;d>c;c++)a.push(b[c]);else a.push(b)},getObjByKeyName:function(a,b,c){for(var d=0,e=a.length;e>d;d++){var f=a[d];if(f[b]&&f[b]==c)return f}return null},dataToArray:function(a){var b=[];return can.isArray(a)?a:(b.push(a),b)},getPlaySuspended:function(a){return a&&a.suspended&&"false"!=a.suspended&&"0"!=a.suspended?a.message:null},renderSuspended:function(a){var b=this.getPlaySuspended(a.event.tournament.playsuspended),c=$('<div class="alert alert_warning"><span class="alert__title">COURSE ALERT:</span>&nbsp;<span class="s-text"></span></div>'),d=this.$element.find(".alert_warning");b?d.length?(d.find(".s-text").text(b),d.show()):(c.find(".s-text").text(b),this.$element.prepend(c)):d.hide()},renderHeader:function(){var a=$('<div class="lb-match__cut-line">Match Status</div>');this.$element.append(a)},getItemsByKeyValue:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++){var g=a[e];g[b]==c&&d.push(g)}return d},saveToStorage:function(a,b){window.localStorage.setItem(a,b)},getFromStorage:function(a){return window.localStorage.getItem(a)},removeFromStorage:function(a){window.localStorage.removeItem(a)}}),usga.LeaderBoardPlayerControl=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options.context,this.render()},render:function(){this.context.attr("screenSize",this.getScreenSize());var a=can.view("#leaderBoardPlayer",this.context,this.getHelpers());this.element.append(a),this.addToFavorite()},addToFavorite:function(){var a=this.context.attr("lbType"),b=this.context.attr("idField");window.localStorage.getItem(a+"."+b)&&!this.element.hasClass("my-player-row")&&this.element.find(".favorite").trigger("click")},getHelpers:function(){var a=this.context;return{isCurrentRound:function(b,c){return b=can.isFunction(b)?b():b,b==a.attr("currentRound")?c.fn():c.inverse()},getRoundAttr:function(b){return b=can.isFunction(b)?b():b,a.attr(null!==a.attr("r"+b)&&void 0!==a.attr("r"+b)?"r"+b:"R"+b)},getFlag:function(a){a=can.isFunction(a)?a():a;var b=null;return a.attr("ctyCode")?(b=a.attr("ctyCode").toUpperCase(),"individualStateStroke"==a.attr("lbType")&&(b="state "+b.replace(/([A-z]*)\s([A-z]*)/,"$1-$2"))):b=a.attr("country").toUpperCase(),
b},isTwoRoundsEvent:function(a,b){return a=can.isFunction(a)?a():a,2==a.attr("length")?b.fn(this):b.inverse(this)},parColor:function(a){return a=can.isFunction(a)?a():a,a&&parseInt(a)<0?"red":null},roundParColor:function(b){b=can.isFunction(b)?b():b;var c,d,e,f=a.attr("R"+b)||a.attr("r"+b);return f&&""!==f&&" "!==f&&"-"!=f&&(c=a.attr(a.attr("round").attr("length")>0?"round":"roundData"),d=a.attr("course.0"),e=d.par,e&&e>f)?"red":null}}},onLayout:function(){this.context.attr("screenSize",this.getScreenSize())},"{context} change":function(a,b,c,d,e){this.element.data(c,e)}}),usga.LeaderBoardPlayersRounds=usga.LeaderBoardBaseMap.extend({define:{round:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}}}),usga.LeaderBoardPlayer=usga.LeaderBoardBaseMap.extend({define:{name:{type:"string",value:""},firstname:{type:"string",value:""},lastname:{type:"string",value:""},rounds:{Type:usga.LeaderBoardPlayersRounds,Value:usga.LeaderBoardPlayersRounds},round:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},roundData:{type:"*",value:null}},isAmateur:can.compute(function(){var a=this.attr("name"),b=/\(a\)$/gi;return b.test(a)}),displayName:can.compute(function(){var a=this.attr("name"),b=/\(a\)$/gi;if(""!==a){a=a.split(",");var c=a[1]?a[1].replace(/^\s/,""):"",d=a[0]?a[0].replace(/^\s/,""):"";return b.test(a)?(c=c.replace(b,""),d=d.replace(b,""),c+" "+can.capitalize(d.toLowerCase())+" (a)"):c+" "+can.capitalize(d.toLowerCase())}return null}),shortName:can.compute(function(){var a,b=this.attr("name"),c=this.attr("displayName"),d=this.attr("firstname"),e=this.attr("lastname");return a=/[A-z-\.\s]*\/[A-z-\.\s]*/.test(b)?b.replace(/([A-Z]{1})[a-z]*(\s[A-z\.]*)(\s?\/\s?)([A-Z]{1})[a-z]*(\s[A-z\.]*)/,"$1.$2$3<br>$4.$5"):""!==d&&""!==e?d.charAt(0)+". "+e:c.replace(/([A-Z]{1})[a-z]*(\s[A-z\.]*)/,"$1.$2")}),splitTeamNames:can.compute(function(){var a,b,c=this.attr("name"),d=this.attr(this.attr("countryname")?"countryname":"country");return""!==c?(c=c.split("/"),a=c[0],b=c[1],[{name:a,country:d},{name:b,country:d}]):null}),getCountry:can.compute(function(){var a=this.attr("state"),b=this.attr("country"),c=this.attr("countryname");return a?a:c?c:b}),idField:can.compute(function(){return this.attr("idint")?"player"+this.attr("idint"):this.attr("name").replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,"")}),getRounds:can.compute(function(){var a;return a=this.rounds.round.attr("length")?this.rounds.attr("round"):this.attr("round")}),getHomeTown:can.compute(function(){return this.attr("hometown")?this.attr("hometown"):null}),fullName:can.compute(function(){return this.attr("firstname")+" "+this.attr("lastname")}),residence:can.compute(function(){var a=this.attr("hometown")||"",b=this.attr("country")||"";return a+", "+b}),teamName:can.compute(function(){var a=this.attr("name");return a=a.replace(/([A-z\.-]*),\s*([A-z\.-]*)\s*(\/)\s*([A-z\.-]*),\s*([A-z\.-]*)/,"$2 $1 $3 $5 $4")}),shortTeamName:can.compute(function(){var a=this.attr("name");return a=a.replace(/([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*\s*(\/)\s*([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*/,"$2. $1 $3<br/>$5. $4")}),photoUrl:can.compute(function(){return"/pic/photo_1.png"})}),usga.LeaderBoardPlayers=usga.LeaderBoardBaseMap.extend({define:{player:{Type:usga.LeaderBoardPlayer.List,Value:usga.LeaderBoardPlayer.List}}}),usga.LeaderBoardTeam=usga.LeaderBoardBaseMap.extend({define:{state:{type:"string",value:""},players:{Type:usga.LeaderBoardPlayers,Value:usga.LeaderBoardPlayers},player:{Type:usga.LeaderBoardPlayer,Value:usga.LeaderBoardPlayer},roundData:{type:"*",value:null}},idField:can.compute(function(){return this.attr("idint")?"team"+this.attr("idint"):this.attr("state").replace(/\s/gi,"")})}),usga.CourseStatisticsControl=usga.LeaderBoardBaseControl.extend({init:function(){this._super(),this.context=new usga.CourseStatisticsModel,this.dataUrl=this.options.dataUrl,this.render(),this.getData()},render:function(){var a=can.view("#courseStatisticsTable",this.context,this.getHelpers());this.element.append(a)},applyInitialContextData:function(a){var b,c=a.event.tournament;if(c){b=this.getCourseStatsData(c.courses.course,c.coursestats.coursestat),can.batch.start();for(var d=0,e=b.length;e>d;d++)this.context.courses.push(b[d]);can.batch.stop()}this.initDataUpdating()},getCourseStatsData:function(a,b){for(var c=this.dataToArray(a),d=this.dataToArray(b),e=[],f=0,g=c.length;g>f;f++){for(var h=c[f],i=d[f],j={name:h.name,holes:[]},k=h.hole.length,l=0;k>l;l++){var m=h.hole[l];m.stats=this.getObjByKeyName(i.roundstats.holestats,"hole",m.no),j.holes.push(m),l==k/2-1?(m={no:"Out",par:h.frontpar,yards:h.frontyards,stats:this.getObjByKeyName(i.roundstats.sidestats,"side","front9")},j.holes.push(m)):l==k-1&&(m={no:"In",par:h.backpar,yards:h.backyards,stats:this.getObjByKeyName(i.roundstats.sidestats,"side","back9")},j.holes.push(m),m={no:"Total",par:h.par,yards:h.totalyards,stats:this.getObjByKeyName(i.roundstats.sidestats,"side","total")},j.holes.push(m))}e.push(j)}return e},applyDataChanges:function(a){var b,c=a.event.tournament;c&&(b=this.getCourseStatsData(c.courses.course,c.coursestats.coursestat),this.compareAndSetAttr(b,this.context.attr("courses"),this.context.attr("courses")))}}),usga.CourseStatisticsModel=usga.BaseMap.extend({define:{tabControl:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},courses:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}}}),usga.CourseStatisticsTabControl=usga.LeaderBoardBaseControl.extend({currentRoundIndex:null,currentControl:null,init:function(){this._super(),this.context=new usga.CourseStatisticsModel,this.dataUrl=this.options.tabControlUrl,this.courseStatsUrls=this.options.courseStatsUrls,this.render(),this.getData()},render:function(){var a=can.view("#courseStatisticsTabs",this.context,this.getHelpers());this.element.append(a)},applyInitialContextData:function(a){var b=a.coursestatsControl.coursestatItem;this.createTabsData(b)},createTabsData:function(a){for(var b,c=/stroke\s*play\s*-\s*/i,d=0,e=a.length;e>d;d++){var f=a[d],g=!1;"true"==f["default"].toLowerCase()&&(b=d,g=!0,this.currentRoundIndex=d),this.context.tabControl.push({name:f.type.replace(c,""),"default":g,dataUrl:this.courseStatsUrls[d]})}this.setCurrentLink(),this.showCurrentLeaderBoard(),this.initCustomSelect()},setCurrentLink:function(){null===this.currentRoundIndex&&(this.currentRoundIndex=this.courseStatsUrls.length-1);var a=this.element.find(".lb-tab-link");a.removeClass("active"),this.element.find(".lb-tab-link-"+this.currentRoundIndex).addClass("active"),this.element.find(".link-select").find(".tab-option-"+this.currentRoundIndex).prop("selected",!0)},showCurrentLeaderBoard:function(){this.currentControl&&(this.element.find("#courseStatisticsContainer").empty(),this.currentControl.destroy(),this.currentControl=null),this.currentControl=new usga.CourseStatisticsControl("#courseStatisticsContainer",{dataUrl:this.courseStatsUrls[this.currentRoundIndex]})},".lb-tab-link click":function(a,b){b.preventDefault(),a.hasClass("active")||(this.currentRoundIndex=a.data("index"),this.setCurrentLink(),this.showCurrentLeaderBoard())},".link-select change":function(a){this.currentRoundIndex=a.val(),this.setCurrentLink(),this.showCurrentLeaderBoard()}}),usga.LeaderboardDrawerMatchPlay=usga.BaseModule.extend({slideTdLength:6,minRoundsLength:18,currentOptions:{controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch},init:function(){this._super(),this.context=this.options,this.context.attr("results",this.splitDrawerData()),this.render()},render:function(){var a=can.view("#leaderBoardDrawerMatchPlay",this.context,this.getHelpers());this.element.html(a),window.setTimeout(this.proxy(function(){this.updateSlider()}),50)},getHelpers:function(){return{renderStanding:function(a,b){return a=can.isFunction(a)?a().toLowerCase():a.toLowerCase(),b=can.isFunction(b)?b():b,"a/s"==a||"as"==a?"AS":"up"==a?b+" up":""},renderWinner:function(a){return a=can.isFunction(a)?a():a,1==a?"won":""}}},splitDrawerData:function(){var a,b;this.context.team.attr("length")>0?(a=this.context.team[0].player.attr("scores.score"),b=this.context.team[1].player.attr("scores.score")):(a=this.context.players.player[0].attr("scores.score"),b=this.context.players.player[1].attr("scores.score")),a.attr("length")||(a=[a]),b.attr("length")||(b=[b]);for(var c=a.length<this.minRoundsLength?this.minRoundsLength:a.length,d=[],e=1,f=0,g=c;g>f;f+=this.slideTdLength){for(var h=a.slice(f,f+this.slideTdLength),i=b.slice(f,f+this.slideTdLength),j=[],k=[],l=0,m=this.slideTdLength;m>l;l++){var n,o,p,q;h[l]?(n=h[l],o=n.attr("coursehole"),p=n.attr("hole"),q=this.getHoleByNumber(o),j.push(q),k.push(p)):(h.push(null),i.push(null),q=this.getHoleByNumber(e),q?(k.push(e),j.push(q)):j.push(null)),e++}d.push({holes:j,holeNumbers:k,playerOne:h,playerTwo:i})}return d},getHoleByNumber:function(a){for(var b=this.getCurrentCourseByNo(this.context.courseData,this.context.course).attr("hole"),c=0,d=b.length;d>c;c++)if(b[c].attr("no")==a)return b[c];return null},getCurrentCourseByNo:function(a,b){for(var c=0,d=a.attr("length");d>c;c++)if(a[c].no==b)return a[c];return null},initSlider:function(a){var b=this.$element.find(".drawer__content__slider");b.length&&(this.slider=b.bxSlider(a))},updateSlider:function(){this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()?(this.currentOptions.minSlides=3,this.currentOptions.maxSlides=3,this.currentOptions.slideWidth=can.$(".drawer__content__slider__wrap").width()/3):this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()||(this.currentOptions.minSlides=1,this.currentOptions.maxSlides=1,this.currentOptions.slideWidth=0),this.slider?this.slider.reloadSlider(this.currentOptions):(this.initSlider(this.currentOptions),this.showLatestData()),this.toggleSliderLinks()},showLatestData:function(){var a=this.slider.getSlideCount();this.slider.goToSlide(Math.ceil(a/this.currentOptions.maxSlides)-1)},toggleSliderLinks:function(){var a=this.element.find(".bx-pager"),b=this.element.find(".bx-pager-item");b.length>1?a.show():a.hide()},onWindowResize:function(){this.sliderUpdateTimeout&&(window.clearTimeout(this.sliderUpdateTimeout),this.sliderUpdateTimeout=null),this.sliderUpdateTimeout=window.setTimeout(this.proxy(function(){this.updateSlider()}),100)},"{players.player} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),this.onWindowResize(),can.batch.stop(),console.log("player.change")},"{team} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),this.onWindowResize(),can.batch.stop(),console.log("team.change")}}),usga.LeaderboardDrawerScorecardFourball=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options,this.context.attr("results",this.splitDrawerData()),this.render()},render:function(){var a=can.view("#leaderBoardDrawerScoreCardFourball",this.context,this.getHelpers());this.element.html(a),this.showTab(this.getCurrentTab())},getCurrentTab:function(){var a,b=this.context.attr("roundsCompleted"),c=this.context.round.attr("length");return a=b&&"0"!=b&&""!==b&&" "!=b?b==c?"all":"item"+(parseInt(b)+1):"item1",this.element.find(".rounds-switcher").removeClass("active"),this.element.find('[data-tab="'+a+'"]').addClass("active"),a},splitDrawerData:function(){for(var a=this.context.attr("courseData"),b=this.context.attr("round"),c={outData:{rounds:[]},inData:{rounds:[]},totalData:{rounds:[]}},d=0,e=b.length;e>d;d++){var f=b[d];if(f.courseNo&&""!==f.courseNo&&" "!==f.courseNo){var g=this.getCurrentCourseByNo(a,f.courseNo),h=f.attr("hole"),i=this.fillRoundsWithHoles(h,g),j=i.inIndex,k=i.outIndex;c.outData.rounds.push(h.slice(0,k+1)),c.inData.rounds.push(h.slice(k+1,j+1)),c.totalData.rounds.push(h.slice(j+1,j+2))}}return c},fillRoundsWithHoles:function(a,b){for(var c=0,d={inIndex:null,outIndex:null},e=0,f=a.length;f>e;e++){var g=a[e];"out"==g.no.toLowerCase()?(g.attr("yards",b.frontyards),g.attr("holePar",b.frontpar),d.outIndex=e):"in"==g.no.toLowerCase()?(g.attr("yards",b.backyards),g.attr("holePar",b.backpar),d.inIndex=e):"total"==g.no.toLowerCase()?(g.attr("yards",b.totalyards),g.attr("holePar",b.par)):(g.attr("yards",b.hole[c].yards),c++)}return d},getCurrentCourseByNo:function(a,b){for(var c=0,d=a.attr("length");d>c;c++)if(a[c].no==b)return a[c];return null},getHelpers:function(){return{strikeColor:function(a,b,c){return a=can.isFunction(a)?a():a,b=can.isFunction(b)?b():b,c=can.isFunction(c)?c():c,b=parseInt(b),c=parseInt(c),"other"!=a&&"better"!=a?a:c>b?"dblbogey":b>c?"eagle":""},roundByIndex:function(a){return a=can.isFunction(a)?a():a,a+1}}},initSlider:function(){var a=this.$element.find(".drawer__content__slider");a.length&&(this.slider=a.bxSlider({controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch}))},onDocumentReady:function(){this.onLayout(),this.$element.find(".drawer__header__dropdown__item").chosen({disable_search_threshold:10,width:"100%"})},onLayout:function(){(this.isBiggerScreen()||this.isInfinityScreen())&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBiggerScreen()||this.isInfinityScreen()||this.slider||this.initSlider()},showTab:function(a){var b=this.element.find(".tab-round");"all"!=a?(b.hide(),this.element.find(".tab-"+a).show()):b.show(),this.slider?this.slider.reloadSlider():this.onDocumentReady(),this.currentTab=a},".rounds-switcher click":function(a,b){b.preventDefault();var c=a.data("tab");this.element.find(".rounds-switcher").removeClass("active"),a.addClass("active"),this.showTab(c)},".rounds-select change":function(a){var b=a.val();this.showTab(b)},"{rounds.round} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),can.batch.stop(),this.showTab(this.currentTab)},"{round} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),can.batch.stop(),this.showTab(this.currentTab)}}),usga.LeaderboardDrawerScorecard=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options,this.context.attr("results",this.splitDrawerData()),this.render()},render:function(){var a=can.view("#leaderBoardDrawerScoreCard",this.context,this.getHelpers());this.element.html(a),this.showTab(this.getCurrentTab())},getCurrentTab:function(){var a,b=this.context.attr("roundsCompleted"),c=this.context.round.attr("length");return a=b&&"0"!=b&&""!==b&&" "!=b?b==c?"all":"item"+(parseInt(b)+1):"item1",this.element.find(".rounds-switcher").removeClass("active"),this.element.find('[data-tab="'+a+'"]').addClass("active"),a},splitDrawerData:function(){var a=this.context.attr("course.0"),b=a.holelist.mList,c=a.parlist.mList,d=a.yardlist.roundlist,e=this.context.getRounds(),f=this.getInOutIndexes(b).inIndex,g=this.getInOutIndexes(b).outIndex;return{outData:{holeList:b.slice(0,g+1),parList:c.slice(0,g+1),rounds:this.getInOutRoundsData(d,e,0,g+1)},inData:{holeList:b.slice(g+1,f+1),parList:c.slice(g+1,f+1),rounds:this.getInOutRoundsData(d,e,g+1,f+1)},totalData:{hole:b[b.length-1],par:c[c.length-1],rounds:this.getInOutRoundsData(d,e,f+1,f+2)}}},getInOutRoundsData:function(a,b,c,d){for(var e=[],f=0,g=a.length;g>f;f++){for(var h=a[f].mList,i=b[f].hole,j=[],k=c;d>k;k++){var l=h[k],m=i[k],n={yards:l.mList,no:m.no,namedScore:m.namedScore,strokes:m.strokes,holePar:m.holePar};j.push(n)}e.push(j)}return e},getInOutIndexes:function(a){for(var b,c,d=0,e=a.length;e>d;d++){var f=a[d].mList.toLowerCase();"out"==f?b=d:"in"==f&&(c=d)}return{outIndex:b,inIndex:c}},getHelpers:function(){this.context;return{strikeColor:function(a,b,c){return a=can.isFunction(a)?a():a,b=can.isFunction(b)?b():b,c=can.isFunction(c)?c():c,b=parseInt(b),c=parseInt(c),"other"!=a&&"better"!=a?a:c>b?"dblbogey":b>c?"eagle":""},roundByIndex:function(a){return a=can.isFunction(a)?a():a,a+1}}},initSlider:function(){var a=this.$element.find(".drawer__content__slider");a.length&&(this.slider=a.bxSlider({controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch}))},onDocumentReady:function(){this.onLayout(),this.$element.find(".drawer__header__dropdown__item").chosen({disable_search_threshold:10,width:"100%"})},onLayout:function(){(this.isBiggerScreen()||this.isInfinityScreen())&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBiggerScreen()||this.isInfinityScreen()||this.slider||this.initSlider()},showTab:function(a){var b=this.element.find(".tab-round");"all"!=a?(b.hide(),this.element.find(".tab-"+a).show()):b.show(),this.slider?this.slider.reloadSlider():this.onDocumentReady(),this.currentTab=a},".rounds-switcher click":function(a,b){b.preventDefault();var c=a.data("tab");this.element.find(".rounds-switcher").removeClass("active"),a.addClass("active"),this.showTab(c)},".rounds-select change":function(a){var b=a.val();this.showTab(b)},"{rounds.round} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),can.batch.stop(),this.showTab(this.currentTab)},"{round} change":function(){can.batch.start(),this.context.attr("results",this.splitDrawerData()),can.batch.stop(),this.showTab(this.currentTab)}}),usga.LeaderboardDrawer=usga.BaseModule.extend({initSlider:function(){this.slider=this.$element.find(".drawer__content__slider").bxSlider({controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch})},onDocumentReady:function(){this.onLayout()},onLayout:function(){(this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen())&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()||this.slider||this.initSlider()}}),usga.LeaderBoardFourballStrokeControl=usga.LeaderBoardBaseControl.extend({defaultSortAttr:"position",currentSortAttr:"position",chunkSize:15,init:function(){this._super(),this.context=new usga.LeaderBoardBaseModel,this.render(),this.dataUrl=this.options.dataUrl,this.getData()},render:function(){var a=can.view("#leaderBoardStateIndividualStroke",this.context,this.getHelpers());if(this.element.addClass("leaderboard-state-team-stroke"),this.element.append(a),this.options.playOff&&""!==this.options.playOff){new usga.LeaderboardPlayoffControl("#leaderboardPlayoff",{dataUrl:this.options.playOff,lbType:this.options.lbType})}},applyInitialContextData:function(a){var b=a.event.tournament;if(b){can.batch.start(),this.context.attr("tableLegend",this.getLegends(b.legends)),this.context.attr("currentRound",b.currentround),this.context.attr("lbType",this.options.lbType),this.context.attr("roundData",b.tabcontrol.round),this.context.attr("cutData",b.cut),this.context.attr("suspended",this.getPlaySuspended(b.playsuspended)),b.courses?this.applyCourseData(this.context.attr("courseData"),b.courses.course):this.applyCourseData(this.context.attr("courseData"),b.course);var c=b.teams.team;can.batch.stop(),this.applyPartialData(c,0,this.chunkSize,this.proxy(this.createTeamsControls))}},createTeamsControls:function(a){for(var b=0,c=a.length;c>b;b++){var d=new usga.LeaderBoardFourballTeam(a[b]);d.attr("courseData",this.context.courseData),d.attr("roundData",this.context.roundData),d.attr("stateIndividual",!0),d.attr("currentRound",this.context.currentRound),d.attr("lbType",this.options.lbType);var e=d.attr("idField");this.createTeamElement(d,"full-leader-board","team-row",e),this.context.teamsData.attr(e,d)}(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.createCutLine()},createTeamElement:function(a,b,c,d,e){var f="displayName",g=$('<tbody data-search="'+a.attr(f)+'" class="'+b+" "+c+'" id="'+d+'"></tbody>');e&&g.data("favorite","true");for(var h in a)a.hasOwnProperty(h)&&"round"!=h&&g.data(h,a.attr(h));if(this.element){this.element.find("."+b).last().after(g);{new usga.LeaderBoardFourballTeamControl("#"+d,{context:a})}}},applyDataChanges:function(a){this.context.attr("suspended",this.getPlaySuspended(a.event.tournament.playsuspended)),this.context.attr("cutData",a.event.tournament.cut),this.changedData=a.event.tournament.teams.team,(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortList(this.changedData,this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.compareData()},compareData:function(){this.hasChanges=!1,can.batch.start(this.proxy(function(){this.hasChanges&&(this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.createCutLine())}));for(var a=0,b=this.changedData.length;b>a;a++){var c=this.changedData[a],d=c.idint?"team"+c.idint:c.name.replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,""),e=this.context.teamsData.attr(d);this.hasChanges===!1?this.hasChanges=this.compareAndSetAttr(c,e,e):this.compareAndSetAttr(c,e,e)}can.batch.stop()},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"team-row","full-leader-board");var d=this.element.find(".my-team-row");d.length&&this.sortDomElements(a,b,c,"my-team-row","my-leader-board"),this.toggleCutLine(b,a)},addToFavorites:function(a){var b=a.closest("tr").data("player"),c="my"+b.attr("idField");b.attr("selected",!0),this.createTeamElement(b,"my-leader-board","my-team-row",c,!0),this.sortDomElements(this.currentSortAttr,this.currentSortDirection,this.currentSortType,"my-team-row","my-leader-board"),this.showTitles(),this.saveToStorage(this.context.attr("lbType")+"."+b.attr("idField"),!0)},removeFromFavorites:function(a){var b=a.closest("tr").data("player"),c=b.attr("idField");b.attr("selected",!1);var d=a.closest("tbody"),e=d.data("favorite");e?d.remove():this.element.find("#my"+c).remove();var f=this.element.find(".my-leader-board");f.length<=1&&this.hideTitles(),this.removeFromStorage(this.context.attr("lbType")+"."+b.attr("idField"))},showTitles:function(){this.element.find("#myLeaderBoardTitle").show()},hideTitles:function(){this.element.find("#myLeaderBoardTitle").hide()},createCutLine:function(){var a,b,c,d,e,f,g=this.context.attr("cutData");g.attr("showCut")&&this.element&&(a=g.attr("cuttopar"),b=g.attr("cutlineText"),c=g.attr("false"!=g.attr("finalCut")?"madeCut":"underCutLine"),e=this.element.find(".team-row"),f=e.filter(function(a){return a==c-1}),d=can.$('<tr class="cut-line"><td colspan="15" class="lb-match__cut-line">'+b+" "+a+"</td></tr>"),this.element.find("tr.cut-line").remove(),f.append(d))},toggleCutLine:function(a,b){var c=this.element.find(".cut-line");"asc"==a&&b==this.defaultSortAttr?c.show():c.hide()},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),this.changedData,c),can.batch.stop()},".favorite click":function(a,b){b.preventDefault(),b.stopPropagation(),a.hasClass("inactive")||(a.hasClass("add")?this.addToFavorites(a):this.removeFromFavorites(a))},".leader-board-player click":function(a){this.element.find(".attached-drawer").remove();var b=a.data("player");this.createScorecardDrawer(a,b)},".close-drawer click":function(){this.element.find(".attached-drawer").remove()}}),usga.LeaderBoardFourballTeamControl=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options.context,this.render()},render:function(){this.context.attr("screenSize",this.getScreenSize());var a=can.view("#leaderBoardPlayer",this.context,this.getHelpers());this.element.append(a),this.addToFavorite()},addToFavorite:function(){var a=this.context.attr("lbType"),b=this.context.attr("idField");window.localStorage.getItem(a+"."+b)&&!this.element.hasClass("my-team-row")&&this.element.find(".favorite").trigger("click")},getHelpers:function(){var a=this.context;return{isCurrentRound:function(b,c){return b=can.isFunction(b)?b():b,b==a.attr("currentRound")?c.fn():c.inverse()},getRoundAttr:function(b){return b=can.isFunction(b)?b():b,a.attr(null!==a.attr("r"+b)&&void 0!==a.attr("r"+b)?"r"+b:"R"+b)},isTwoRoundsEvent:function(a,b){return a=can.isFunction(a)?a():a,2==a.attr("length")?b.fn(this):b.inverse(this)},parColor:function(a){return a=can.isFunction(a)?a():a,a&&parseInt(a)<0?"red":null},roundParColor:function(b){b=can.isFunction(b)?b():b;var c,d,e,f=a.attr("R"+b);if(f&&""!==f&&" "!==f){d=a.attr("round").attr(b-1).attr("courseNo"),e=a.attr("courseData");for(var g=0,h=e.attr("length");h>g;g++)e[g].no==d&&(c=e[g].par);if(c&&c>f)return"red"}return null}}},onLayout:function(){this.context.attr("screenSize",this.getScreenSize())},"{context} change":function(a,b,c,d,e){this.element.data(c,e)}}),usga.LeaderBoardFourballTeam=usga.LeaderBoardBaseMap.extend({define:{players:{Type:usga.LeaderBoardPlayers,Value:usga.LeaderBoardPlayers},rounds:{Type:usga.LeaderBoardPlayersRounds,Value:usga.LeaderBoardPlayersRounds},round:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}},idField:can.compute(function(){return this.attr("idint")?"team"+this.attr("idint"):this.attr("name").replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,"")}),displayName:can.compute(function(){var a=this.players.attr("player.0"),b=this.players.attr("player.1");return a&&b?a.attr("fullName")+" / "+b.attr("fullName"):this.attr("team")}),shortName:can.compute(function(){var a=this.players.attr("player.0"),b=this.players.attr("player.1");return a&&b?a.attr("shortName")+" / "+b.attr("shortName"):this.attr("team")}),getRounds:can.compute(function(){var a;return a=this.rounds.round.attr("length")?this.rounds.attr("round"):this.attr("round")})}),usga.LeaderBoardIndividualStrokeControl=usga.LeaderBoardBaseControl.extend({defaultSortAttr:"position",currentSortAttr:"position",isCutCreated:!1,chunkSize:15,init:function(){this._super(),this.context=new usga.LeaderBoardBaseModel,this.render(),this.dataUrl=this.options.dataUrl,this.getData()},render:function(){var a=can.view("#leaderBoardStateIndividualStroke",this.context,this.getHelpers());this.element.addClass("leaderboard-state-team-stroke"),this.element.append(a)},applyInitialContextData:function(a){var b=a.event.tournament;if(b){can.batch.start(),this.context.attr("tableLegend",this.getLegends(b.legends)),this.context.attr("courseData",b.course),this.context.attr("currentRound",b.currentround),this.context.attr("lbType",this.options.lbType),this.context.attr("roundData",b.tabcontrol.round),this.context.attr("cutData",b.cut),this.context.attr("suspended",this.getPlaySuspended(b.playsuspended));var c=b.players.player;can.batch.stop(),this.applyPartialData(c,0,this.chunkSize,this.proxy(this.createPlayersControls))}},createPlayersControls:function(a){for(var b=0,c=a.length;c>b;b++){var d=new usga.LeaderBoardPlayer(a[b]);d.attr("course",this.context.courseData),d.attr("roundData",this.context.roundData),d.attr("stateIndividual",!0),d.attr("currentRound",this.context.currentRound),d.attr("lbType",this.options.lbType);var e=d.attr("idField");this.createPlayerElement(d,"full-leader-board","player-row",e),this.context.playersData.attr(e,d)}(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.createCutLine()},createPlayerElement:function(a,b,c,d,e){var f="fourballIntlStroke"==this.options.lbType?"name":"displayName",g=$('<tbody data-search="'+a.attr(f)+'" class="'+b+" "+c+'" id="'+d+'"></tbody>');e&&g.data("favorite","true"),a.attr("isAmateur")&&g.addClass("player-amateur");for(var h in a)a.hasOwnProperty(h)&&"round"!=h&&g.data(h,a.attr(h));if(this.element){this.element.find("."+b).last().after(g);{new usga.LeaderBoardPlayerControl("#"+d,{context:a})}}},applyDataChanges:function(a){this.context.attr("suspended",this.getPlaySuspended(a.event.tournament.playsuspended)),this.context.attr("cutData",a.event.tournament.cut),this.changedData=a.event.tournament.players.player,(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortList(this.changedData,this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.compareData()},compareData:function(){this.hasChanges=!1,can.batch.start(this.proxy(function(){this.hasChanges&&(this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.createCutLine())}));for(var a=0,b=this.changedData.length;b>a;a++){var c=this.changedData[a],d=c.idint?"player"+c.idint:c.name.replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,""),e=this.context.playersData.attr(d);this.hasChanges===!1?this.hasChanges=this.compareAndSetAttr(c,e,e):this.compareAndSetAttr(c,e,e)}can.batch.stop()},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"player-row","full-leader-board");var d=this.element.find(".my-player-row");d.length&&this.sortDomElements(a,b,c,"my-player-row","my-leader-board"),this.toggleCutLine(b,a)},addToFavorites:function(a){var b=a.closest("tr").data("player"),c="my"+b.attr("idField");b.attr("selected",!0),this.createPlayerElement(b,"my-leader-board","my-player-row",c,!0),this.sortDomElements(this.currentSortAttr,this.currentSortDirection,this.currentSortType,"my-player-row","my-leader-board"),this.showTitles(),this.saveToStorage(this.context.attr("lbType")+"."+b.attr("idField"),!0)},removeFromFavorites:function(a){var b=a.closest("tr").data("player"),c=b.attr("idField");b.attr("selected",!1);var d=a.closest("tbody"),e=d.data("favorite");e?d.remove():this.element.find("#my"+c).remove();var f=this.element.find(".my-leader-board");f.length<=1&&this.hideTitles(),this.removeFromStorage(this.context.attr("lbType")+"."+b.attr("idField"))},showTitles:function(){this.element.find("#myLeaderBoardTitle").show()},hideTitles:function(){this.element.find("#myLeaderBoardTitle").hide()},createCutLine:function(){var a,b,c,d,e,f,g=this.context.attr("cutData");"true"==g.attr("showCut")&&this.element&&(a=g.attr("cuttopar"),b=g.attr("cutlineText"),c=g.attr("false"!=g.attr("finalCut")?"madeCut":"underCutLine"),e=this.element.find(".player-row"),f=e.filter(function(a){return a==c-1}),d=can.$('<tr class="cut-line"><td colspan="15" class="lb-match__cut-line">'+b+" "+a+"</td></tr>"),this.element.find("tr.cut-line").remove(),f.append(d))},toggleCutLine:function(a,b){var c=this.element.find(".cut-line");"asc"==a&&b==this.defaultSortAttr?c.show():c.hide()},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),this.changedData,c),can.batch.stop()},".favorite click":function(a,b){b.preventDefault(),b.stopPropagation(),a.hasClass("inactive")||(a.hasClass("add")?this.addToFavorites(a):this.removeFromFavorites(a))},".leader-board-player click":function(a){this.element.find(".attached-drawer").remove();var b=a.data("player");this.createScorecardDrawer(a,b)},".close-drawer click":function(){this.element.find(".attached-drawer").remove()}}),usga.LeaderBoardMatchControl=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options,this.render()},render:function(){this.context.attr("screenSize",this.getScreenSize());var a=can.view("#leaderBoardMatch",this.context,this.getHelpers());this.element.append(a)},getHelpers:function(){return{getFlag:function(a){return a=can.isFunction(a)?a():a,a.attr("ctyCode")?a.attr("ctyCode").toUpperCase():a.attr("country").toUpperCase()},setLeaderIndicator:function(a,b){a=can.isFunction(a)?a():a;var c=a.attr("status"),d=a.attr("leader");return"A"==d?d=1:"B"==d&&(d=2),d==b?"completed"==c?"winner":"leader":""}}},onLayout:function(){this.context.attr("screenSize",this.getScreenSize())}}),usga.LeaderBoardMatch=usga.LeaderBoardBaseMap.extend({define:{number:{type:"*",value:null},status:{type:"string",value:""},players:{Type:usga.LeaderBoardPlayers,Value:usga.LeaderBoardPlayers},team:{Type:usga.LeaderBoardTeam.List,Value:usga.LeaderBoardTeam.List},courseData:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}},idField:can.compute(function(){return this.attr("idint")?"match"+this.attr("idint"):"match"+this.attr("number");

}),getStatus:can.compute(function(){var a=this.attr("status"),b=this.attr("standing"),c=this.parseStanding(b).status;return"completed"!=a&&"notstarted"!=a?c?"thru "+c:"":null}),getStanding:can.compute(function(){var a=this.attr("status"),b=this.attr("standing");return"notstarted"==a?this.attr("teetime"):this.parseStanding(b).standing}),getMiniLbStanding:can.compute(function(){var a=this.attr("status"),b=this.attr("standing");return"notstarted"==a?this.attr("standing"):this.parseStanding(b).standing}),parseStanding:function(a){var b={standing:null,status:null},c=[];return a&&(c=a.split(/thru/i),b.standing=c[0],b.status=c[1]),b},isCompleted:can.compute(function(){return"completed"==this.attr("status")}),isInProgress:can.compute(function(){return"completed"!=this.attr("status")&&"notstarted"!=this.attr("status")}),isStarted:can.compute(function(){return"notstarted"!=this.attr("status")})}),usga.LeaderBoardMatchPlayControl=usga.LeaderBoardBaseControl.extend({chunkSize:15,init:function(){this._super(),this.context=new usga.LeaderBoardBaseModel,this.dataUrl=this.options.dataUrl,this.getData()},applyInitialContextData:function(a){var b=a.event.tournament;if(b){can.batch.start(),b.courses?this.applyCourseData(this.context.attr("courseData"),b.courses.course):this.applyCourseData(this.context.attr("courseData"),b.course),b.tabcontrol?this.context.attr("roundData",b.tabcontrol.round):this.context.attr("roundData",this.options.tabControl),this.context.attr("currentRound",b.currentround),this.context.attr("suspended",this.getPlaySuspended(b.playsuspended)),this.context.attr("lbType",this.options.lbType);var c=b.matches.match;can.batch.stop(),this.renderSuspended(a),this.renderHeader(),this.applyPartialData(c,0,this.chunkSize,this.proxy(this.createMatchesControls))}},createMatchesControls:function(a){for(var b=0,c=a.length;c>b;b++){var d=new usga.LeaderBoardMatch(a[b]),e=d.attr("idField");d.attr("courseData",this.context.courseData),d.attr("lbType",this.options.lbType),this.context.matchesData.attr(e,d);var f=can.$('<div class="lb-match__container__item" id="'+e+'"></div>');if(f.data("search",this.getMatchSearchData(d)),this.element){this.element.append(f);{new usga.LeaderBoardMatchControl(f,d)}}}},getMatchSearchData:function(a){var b,c;return a.team.attr("length")>0?(b=a.attr("team.0.player").attr("teamName"),c=a.attr("team.1.player").attr("teamName"),b+" "+c):(b=a.attr("players.player.0"),c=a.attr("players.player.1"),b.attr("fullName")+" "+c.attr("fullName"))},applyDataChanges:function(a){this.renderSuspended(a),this.changedData=a.event.tournament.matches.match,can.batch.start();for(var b=0,c=this.changedData.length;c>b;b++){var d=this.changedData[b],e=d.idint?"match"+d.idint:"match"+d.number,f=this.context.matchesData.attr(e);this.compareAndSetAttr(d,f,f)}can.batch.stop()},".match-item.lb-clickable click":function(a,b){this.element.find(".attached-drawer").remove();var c=a.data("match");this.createMatchPlayDrawer(a,c)},".close-drawer click":function(){this.element.find(".attached-drawer").remove()}}),usga.LeaderBoardTeamMatchPlayControl=usga.LeaderBoardBaseControl.extend({init:function(){this._super(),this.context=new usga.LeaderBoardBaseModel,this.render(),this.getInitialData()},destroy:function(){this.updateInterval&&window.clearInterval(this.updateInterval),can.Control.prototype.destroy.call(this)},render:function(){var a=can.view("#leaderBoardTeamMatchPlay",this.context,this.getHelpers());this.element.html(a)},getInitialData:function(){can.ajax({type:"GET",url:this.options.dataUrl.matchStatusUrl,headers:{"Content-Type":"application/json"},success:this.proxy(function(a){this.initialized?this.applyInitialDataChanges(a):(this.initialized=!0,this.applyInitialContextData(a)),this.getAllRoundsData()}),error:this.proxy(function(a){console.log(a)})})},getAllRoundsData:function(){for(var a=this.options.dataUrl.roundsUrls,b=0,c=a.length;c>b;b++)this.getRoundData(a[b],b),this.context.matchPlayRounds.push(new usga.LeaderBoardBaseMap({matchesData:new usga.BaseMap}))},getRoundData:function(a,b){can.ajax({type:"GET",url:a,headers:{"Content-Type":"application/json"},success:this.proxy(function(a){this["round"+b+"initialized"]?this.applyRoundDataChanges(a,b):(this["round"+b+"initialized"]=!0,this.applyRoundData(a,b)),this.renderSuspended(a)}),error:this.proxy(function(a){console.log(a)})})},applyInitialContextData:function(a){var b=a.event.tournament;b&&(can.batch.start(),this.context.attr("matchPlayTeamsData",b.cupteams),this.context.attr("lbType",this.options.lbType),can.batch.stop()),this.initDataUpdating()},applyInitialDataChanges:function(a){var b=a.event.tournament.cupteams,c=this.context.attr("matchPlayTeamsData");this.compareAndSetAttr(b,c,c)},applyRoundData:function(a,b){var c=a.event.tournament,d=c.roundlabel,e=c.teams.team,f=can.$('<div class="round-container '+this.getRoundType(d)+'"><div class="lb-match__cut-line">'+d+"</div></div>");this.element.append(f);var g=this.context.matchPlayRounds.attr(b);can.batch.start(),g.attr("courseData",c.course),g.attr("roundData",c.tabcontrol.round),g.attr("currentRound",c.currentround),g.attr("teamData",e),g.attr("lbType",this.options.lbType),this.context.matchPlayTeamsData.attr("teamOneFlag",e[0].flag),this.context.matchPlayTeamsData.attr("teamTwoFlag",e[1].flag);var h=c.matches.match;this.createMatchesControls(h,f,b),can.batch.stop()},applyRoundDataChanges:function(a,b){var c=this.context.matchPlayRounds.attr(b);this.changedData=a.event.tournament.matches.match,can.batch.start();for(var d=0,e=this.changedData.length;e>d;d++){var f=this.changedData[d],g=f.idint?"match"+f.idint:"match"+f.number,h=c.matchesData.attr(g);this.compareAndSetAttr(f,h,h)}can.batch.stop()},getRoundType:function(a){var b=/singles/gi,c=/foursomes/gi,d=/four-ball/gi;return b.test(a)?"singles-table":c.test(a)?"foursomes-table":d.test(a)?"fourball-table":void 0},initDataUpdating:function(){this.updateInterval=window.setInterval(this.proxy(function(){this.getInitialData()}),this.updateIntervalDuration)},createMatchesControls:function(a,b,c){for(var d=0,e=a.length;e>d;d++){var f=new usga.LeaderBoardMatch(a[d]),g=f.attr("idField"),h=this.context.matchPlayRounds.attr(c);this.context.attr("teamData",h.teamData),f.attr("courseData",h.courseData),f.attr("course",h.courseData.no),f.attr("teamData",h.teamData),f.attr("lbType",this.options.lbType),h.matchesData.attr(g,f);var i=can.$('<div class="lb-match__container__item" id="'+g+'"></div>');i.data("search",this.getMatchSearchData(f)),b.append(i);{new usga.LeaderBoardMatchControl(i,f)}}},getMatchSearchData:function(a){var b=a.attr("players.player.0"),c=a.attr("players.player.1");return b.attr("name")+" "+c.attr("name")},".match-item click":function(a,b){this.element.find(".attached-drawer").remove();var c=a.data("match");this.createMatchPlayDrawer(a,c)},".close-drawer click":function(){this.element.find(".attached-drawer").remove()}}),usga.LeaderBoardMiniBaseControl=usga.LeaderBoardBaseControl.extend({currentTab:"mini-lb-tab",templates:{live:"#leaderBoardMiniLiveEvent",summary:"#leaderBoardMiniSummaryBox",latest:"#leaderBoardMiniLatest"},itemsPerView:{match:4,stroke:5,times:5},latestItemsPerView:6,init:function(){this._super(),this.context=new usga.LeaderBoardMiniModel,this.applyConfig()},render:function(){var a=can.view(this.template,this.context,this.getHelpers());this.element.append(a)},getHelpers:function(){return{matchPlayerName:function(a){return a=can.isFunction(a)?a():a,a?a.replace(/([A-z\-]*),\s*([A-z\-\.])*/,"$2. $1"):null},teamPlayerName:function(a){return a=can.isFunction(a)?a():a,a?a.replace(/([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*\s*(\/)\s*([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*/,"$2. $1 $3<br/>$5. $4"):null},teamTimesPlayerName:function(a){return a=can.isFunction(a)?a():a,a?a.replace(/([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*\s*(\/)\s*([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*/,"$2. $1 $3 $5. $4"):null},setLeaderIndicator:function(a,b){a=can.isFunction(a)?a():a;var c=a.attr("status"),d=a.attr("leader");return"A"==d?d=1:"B"==d&&(d=2),d==b?"completed"==c?"winner":"leader":""},parColor:function(a){return a=can.isFunction(a)?a():a,a&&parseInt(a)<0?"red":null}}},isTimes:function(){return"mini-st-tab"==this.currentTab},isLatestModule:function(){return"latest"==this.options.module},applyConfig:function(){var a=this.options,b=this.checkStartTime();can.batch.start(),this.context.attr("lbType",a.type),a.sponsors&&this.context.attr("sponsors",a.sponsors),this.template=this.templates[a.module],this.context.attr("hasLeaderBoard",b),this.context.attr("hasStartingTimes",!!a.miniTeeTimesUrl),this.context.attr("name",a.name),this.context.attr("fullLBUrl",a.fullLBUrl),this.context.attr("fullStartingTimesUrl",a.fullStartingTimesUrl),can.batch.stop(),this.render(),b||this.isLatestModule()?(this.dataUrl=a.miniLBUrl,this.currentTab="mini-lb-tab"):a.miniTeeTimesUrl&&""!==a.miniTeeTimesUrl?(this.dataUrl=a.miniTeeTimesUrl,this.currentTab="mini-st-tab"):(this.dataUrl=a.miniLBUrl,this.currentTab=null),this.switchTabs(),this.dataUrl&&""!==this.dataUrl&&this.getData()},checkStartTime:function(){var a=(new Date).valueOf(),b=this.options.startDate;return a>=b},switchTabs:function(){var a=this.element.find(".mini-tab-btn"),b=this.element.find(".mini-tab"),c=this.element.find("."+this.currentTab),d=this.element.find("."+this.currentTab+"-btn");this.currentTab?(a.removeClass("active"),b.hide(),d.addClass("active"),c.show()):b.hide()},applyInitialContextData:function(a){if(a&&(a.event||a.players||a.teams)){var b;can.batch.start(this.proxy(function(){this.updateInitialized||(this.initDataUpdating(),this.updateInitialized=!0)})),this.checkStartTime()&&!this.currentTab&&(this.dataUrl=this.options.miniLBUrl,this.currentTab="mini-lb-tab",this.switchTabs()),b=this.checkData(a),this.suspended=b.suspended,this.context.attr("suspended",b.suspended),can.batch.stop()}},applyDataChanges:function(a){this.applyInitialContextData(a)},checkData:function(a){var b,c={};switch(this.options.type){case"fourball":b=a.event.tournament;break;case"state":a.teams?b=a.teams:a.players&&(b=a.players);break;case"cup":b=a.event.tournament;break;case"open":b=a.players;break;case"amateur":b=a.event.tournament}return c.suspended=this.getPlaySuspended(b.playsuspended),this.isTimes()?this.getTimes(b):this.getItems(b),c},getItems:function(a){switch(this.options.type){case"fourball":"matchplay"==a.display.phase?(this.context.attr("tableType","match"),this.context.attr("roundName",a.matchplay.matches.round),this.applyContextItems(a.matchplay.matches.match,"match")):"strokeplay"==a.display.phase&&(this.context.attr("tableType","stroke"),this.context.attr("teeLegend",this.getLegend(a.strokeplay.legends,"tee")),this.applyContextItems(a.strokeplay.teams.team,"player"));break;case"amateur":"matchplay"==a.display.phase?this.context.attr("tableType","match"):"strokeplay"==a.display.phase&&(this.context.attr("tableType","stroke"),this.applyContextItems(a.strokeplay.players.player,"player"));break;case"cup":this.context.attr("tableType","cup"),this.applyCupItems(a);break;case"open":this.context.attr("tableType","stroke"),this.applyContextItems(a.player,"player");break;case"state":this.context.attr("tableType","stroke"),a.player?this.applyContextItems(a.player,"player"):a.team&&this.applyContextItems(a.team,"player")}},applyContextItems:function(a,b){this.context.items.splice(0);var c;c="latest"==this.options.module?this.latestItemsPerView:this.itemsPerView[this.context.tableType];for(var d=a.length>c?c:a.length,e=0;d>e;e++){var f,g=a[e];"player"==b?f=new usga.LeaderBoardPlayer(g):"match"==b&&(f=new usga.LeaderBoardMatch(g)),f.attr("lbType",this.options.type),this.context.items.push(f)}},applyCupItems:function(a){var b=a.cupteams;this.context.items.splice(0),this.context.items.push({teamOneName:b.teamOneName,teamOnePoints:b.teamOnePoints,teamOneAbbr:b.cupteam[0].name,teamTwoName:b.teamTwoName,teamTwoPoints:b.teamTwoPoints,teamTwoAbbr:b.cupteam[1].name})},getTimes:function(a){this.context.attr("timeLegend",this.getLegend(a.strokeplay.legends,"times"));switch(this.options.type){case"fourball":"matchplay"==a.display.phase?(this.context.attr("tableType","match"),this.context.attr("roundName",a.matchplay.matches.round),this.applyContextTimes(a.matchplay.matches.match,"match")):"strokeplay"==a.display.phase&&(this.context.attr("tableType","stroke"),this.context.attr("teeTimes",this.getLegend(a.strokeplay.legends,"times")),this.applyContextTimes(a.strokeplay.players.player,"player"));break;case"amateur":"matchplay"==a.display.phase?this.context.attr("tableType","match"):"strokeplay"==a.display.phase&&(this.context.attr("tableType","stroke"),this.applyContextTimes(a.strokeplay.players.player,"player"));break;case"cup":this.context.attr("tableType","cup");break;case"open":this.context.attr("tableType","stroke"),this.applyContextTimes(a.player,"player");break;case"state":this.context.attr("tableType","stroke"),a.player?this.applyContextTimes(a.player,"player"):a.team&&this.applyContextTimes(a.team,"player")}},getLegend:function(a,b){if(a&&a.legend){var c=this.getObjByKeyName(a.legend,"type",b);if(c)return c.text}return null},applyContextTimes:function(a,b){this.context.times.splice(0);var c=this.itemsPerView.times,d=a.length>c?c:a.length;if("player"==b)this.createStrokeData(a,d);else if("match"==b)for(var e=0;d>e;e++){var f=new usga.LeaderBoardMatch(a[e]);f.attr("lbType",this.options.type),this.context.times.push(f)}},createStrokeData:function(a,b){var c,d,e=a,f=null,g=null,h=[];d=this.context.attr("isFourballChampionship")?2:3;for(var i,j=0,k=e.length;k>j;j++){var l=new usga.LeaderBoardPlayer(e[j]);l.attr("lbType",this.options.type);var m=e[j].teetime,n=e[j].startingtee;if(f!=m||g!=n){if(c&&c.players.length<d){i=c.players.length;for(var o=0;d-i>o;o++)c.players.push(null)}c=new can.Map({teetime:m,startingtee:n,players:[]}),c.players.push(l),f=m,g=n,h.length<b&&h.push(c)}else c&&(c.players.length>=d?(c=new can.Map({teetime:m,startingtee:n,players:[]}),h.length<b&&h.push(c),c.players.push(l)):c.players.push(l))}this.context.attr("times",h)},".mini-tab-btn click":function(a,b){b.preventDefault(),this.currentTab=a.data("target"),this.isTimes()?this.dataUrl=this.options.miniTeeTimesUrl:this.dataUrl=this.options.miniLBUrl,this.updateInterval&&(window.clearInterval(this.updateInterval),this.updateInterval=null),this.updateInitialized=!1,this.getData(),this.switchTabs()}}),usga.LeaderBoardMiniModel=usga.LeaderBoardBaseMap.extend({define:{items:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},times:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},tableType:{type:"string",value:""}},isStroke:can.compute(function(){return"stroke"==this.attr("tableType")}),isMatch:can.compute(function(){return"match"==this.attr("tableType")}),isCup:can.compute(function(){return"cup"==this.attr("tableType")})}),usga.PlayerStatisticsControl=usga.LeaderBoardBaseControl.extend({currentTabIndex:0,tabs:null,init:function(){this._super(),this.context=new usga.PlayerStatisticsModel,this.tabs=[{tab:"drives",name:"Driving Distance",url:this.options.drivesDataUrl,initialized:!1,template:"#playerStatisticsDrives"},{tab:"aces",name:"Eagles and Aces",url:this.options.acesDataUrl,initialized:!1,template:"#playerStatisticsAces"},{tab:"fairways",name:"Fairways Hit",url:this.options.fairwaysDataUrl,initialized:!1,template:"#playerStatisticsFairways"},{tab:"gir",name:"Greens in Regulation",url:this.options.girDataUrl,initialized:!1,template:"#playerStatisticsGir"},{tab:"putts",name:"Putts",url:this.options.puttsDataUrl,initialized:!1,template:"#playerStatisticsPutts"}],this.context.attr("tabs",this.tabs),this.render(),this.initCustomSelect()},render:function(){var a=can.view("#playerStatisticsTabs",this.context,this.getHelpers());this.element.append(a),this.showTab(this.currentTabIndex)},showTab:function(a){this.currentTabIndex=a,this.context.attr("currentTab",a);var b=this.element.find(".lb-tab-link"),c=this.element.find(".lb-tab-link-"+a),d=this.tabs[a];b.removeClass("active"),c.addClass("active"),this.statsControl&&(this.element.find("#tab-table").empty(),this.statsControl.destroy(),this.statsControl=null),this.statsControl=new usga.PlayerStatisticsTableControl("#tab-table",{context:this.context,template:d.template,url:d.url,attr:d.tab})},".lb-tab-link click":function(a,b){b.preventDefault();var c=a.data("index");this.showTab(c)},".link-select change":function(a){var b=a.val();this.showTab(b)}}),usga.PlayerStatisticsModel=usga.BaseMap.extend({define:{currentTab:{type:"number",value:0},tabs:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},holes:{Type:usga.BaseMap,Value:usga.BaseMap},drives:{Type:usga.BaseMap,Value:usga.BaseMap},aces:{Type:usga.BaseMap,Value:usga.BaseMap},fairways:{Type:usga.BaseMap,Value:usga.BaseMap},gir:{Type:usga.BaseMap,Value:usga.BaseMap},putts:{Type:usga.BaseMap,Value:usga.BaseMap}},showHoles:can.compute(function(){return 0===this.attr("currentTab")})}),usga.PlayerStatisticsPlayerControl=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options.context,this.template=this.options.template,this.render()},render:function(){this.context.attr("screenSize",this.getScreenSize());var a=can.view(this.template,this.context,this.getHelpers());this.element.append(a)},getHelpers:function(){return{}},"{context} change":function(a,b,c,d,e){this.element.data(c,e)},onLayout:function(){this.context.attr("screenSize",this.getScreenSize())}}),usga.PlayerStatisticsPlayer=usga.LeaderBoardBaseMap.extend({define:{name:{type:"string",value:""},round:{type:"*",value:null},rank:{type:"*",value:null}},displayName:can.compute(function(){var a=this.attr("name"),b=/\(a\)$/gi;if(""!==a){a=a.split(",");var c=a[1]?a[1].replace(/^\s/,""):"",d=a[0]?a[0].replace(/^\s/,""):"";return b.test(a)?(c=c.replace(b,""),d=d.replace(b,""),c+" "+can.capitalize(d.toLowerCase())+" (a)"):c+" "+can.capitalize(d.toLowerCase())}return null}),shortName:can.compute(function(){{var a,b=this.attr("name"),c=this.attr("displayName");this.attr("firstname"),this.attr("lastname")}return a=/[A-z-\.\s]*\/[A-z-\.\s]*/.test(b)?b.replace(/([A-Z]{1})[a-z]*(\s[A-z\.]*)(\s?\/\s?)([A-Z]{1})[a-z]*(\s[A-z\.]*)/,"$1.$2$3<br>$4.$5"):c.replace(/([A-Z]{1})[a-z]*(\s[A-z\.]*)/,"$1.$2")}),idField:can.compute(function(){return this.attr("idint")?"player"+this.attr("idint"):this.attr("name").replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,"")})}),usga.PlayerStatisticsTableControl=usga.LeaderBoardBaseControl.extend({initialized:!1,defaultSortAttr:"rank",currentSortAttr:"rank",chunkSize:15,init:function(){this._super(),this.context=this.options.context,this.dataAttr=this.options.attr,this.template=this.options.template,"aces"==this.dataAttr&&(this.defaultSortAttr="round",this.currentSortAttr="round",this.defaultSortDirection="desc",this.currentSortDirection="desc"),this.render()},render:function(){var a=can.view(this.template,this.context,this.getHelpers());this.element.append(a),this.dataUrl=this.options.url,this.getData()},applyInitialContextData:function(a){"drives"==this.dataAttr&&this.options.context.attr("holes",a.event.tournament.holes);var b=this.getPlayersData(a);b&&this.applyPartialData(b,0,this.chunkSize,this.proxy(this.createPlayers))},createPlayers:function(a){for(var b=0,c=a.length;c>b;b++){var d=new usga.PlayerStatisticsPlayer(a[b]),e=d.attr("idField");this.createPlayerElement(d,"statistics-row","player-row",e),this.context[this.dataAttr].attr(e,d)}(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType)},createPlayerElement:function(a,b,c,d){var e=$('<tbody data-search="displayName" class="'+b+" "+c+'" id="'+d+'"></tbody>');for(var f in a)a.hasOwnProperty(f)&&e.data(f,a.attr(f));if(this.element){this.element.find("."+b).last().after(e);{new usga.PlayerStatisticsPlayerControl("#"+d,{context:a,template:this.template+"Player"})}}},applyDataChanges:function(a){this.changedData=this.getPlayersData(a),(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortList(this.changedData,this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.compareData()},compareData:function(){this.hasChanges=!1,can.batch.start(this.proxy(function(){this.hasChanges&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType)}));for(var a=this.context.attr(this.dataAttr),b=0,c=this.changedData.length;c>b;b++){var d=this.changedData[b],e=d.idint?"player"+d.idint:d.name.replace(/\s/gi,"").replace(/\./gi,"").replace(/,/,""),f=a.attr(e);this.hasChanges===!1?this.hasChanges=this.compareAndSetAttr(d,f,f):this.compareAndSetAttr(d,f,f)}can.batch.stop()},getPlayersData:function(a){var b,c=a.event.tournament;return b="aces"==this.dataAttr?c.highlight:c.players.player},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"player-row","statistics-row")},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),this.changedData,c),can.batch.stop()}}),usga.LeaderboardPlayoffControl=usga.LeaderBoardBaseControl.extend({slidesMinLength:3,slideTdLength:6,minHolesLength:18,currentOptions:{controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch},init:function(){this._super(),this.context=new usga.LeaderboardPlayoffModel,this.context.attr("lbType",this.options.lbType),this.render(),this.dataUrl=this.options.dataUrl,this.getData()},render:function(){var a=can.view("#playOffTable",this.context,this.getHelpers());this.element.append(a)},getHelpers:function(){return{getStatus:function(a){if(a=can.isFunction(a)?a():a){if(a=a.toLowerCase(),"winner"==a||"qualified"==a)return"winner";if("eliminated"==a||"failed to qualify"==a)return"eliminated"}return""},renderShortName:function(a){a=can.isFunction(a)?a():a;var b,c="",d="";if(a){b=a.split(" "),d=b[b.length-1];for(var e=0,f=b.length-1;f>e;e++){var g=b[e];g=g.charAt(0)+".",c+=g}}return c+" "+d}}},handleError:function(a){this.getData()},applyInitialContextData:function(a){this.createPlayOffData(a),this.initDataUpdating()},applyDataChanges:function(a){this.createPlayOffData(a)},createPlayOffData:function(a){if(a&&a.event){var b=a.event.tournament;!b||"True"!=b.display&&"true"!=b.display?this.element.hide():(this.element.show(),can.batch.start(),this.createPlayersData(a.event.tournament),this.createRoundsData(a.event.tournament),can.batch.stop(),this.updateSlider())}else this.element.hide()},createPlayersData:function(a){this.context.attr("legends",this.getLegends(a.legends)),this.context.attr("isFourballChampionship")&&this.context.attr("playoffPlayers",a.teams.team)},createRoundsData:function(a){var b=this.dataToArray(a.course.hole);this.context.holesData.splice(0),this.context.attr("courseHoles",b);var c=this.context.attr("playoffPlayers");b.length>this.minHolesLength&&(this.slidesMinLength=Math.ceil(b.length/this.slideTdLength));for(var d=0,e=0;e<this.slidesMinLength;e++){for(var f={holeNumbers:[],holePar:[],holeYards:[],playersScores:[]},g=0;g<this.slideTdLength;g++){var h=b[d];h?(f.holeNumbers.push(h.coursehole),f.holePar.push(h.par),f.holeYards.push(h.yard)):(f.holeNumbers.push("--"),f.holePar.push("--"),f.holeYards.push("--")),d++}for(var i=0,j=c.length;j>i;i++){var k,l=c[i],m=[];l.attr("score")instanceof can.Map&&!l.score.attr("length")&&(k=l.attr("score"),l.attr("score",new can.List),l.score.push(k));for(var n=0;n<this.slideTdLength;n++){var o=0===e?n:n+e*this.slideTdLength,p=l.score.attr(o);p?p.strokes&&""!==p.strokes||p.attr("strokes","--"):l.score.attr(o,{strokes:"--"}),m.push(l.score.attr(o))}f.playersScores.push(m)}this.context.holesData.push(f)}},initSlider:function(a){var b=this.$element.find(".playoff-slider");b.length&&(this.slider=b.bxSlider(a))},updateSlider:function(){this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()?(this.currentOptions.minSlides=3,this.currentOptions.maxSlides=3,this.currentOptions.slideWidth=can.$(".playoff-slider-wrap").width()/3):this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()||(this.currentOptions.minSlides=1,this.currentOptions.maxSlides=1,this.currentOptions.slideWidth=0),this.slider?this.slider.reloadSlider(this.currentOptions):this.initSlider(this.currentOptions)},onWindowResize:function(){this.slider&&(this.sliderUpdateTimeout&&(window.clearTimeout(this.sliderUpdateTimeout),this.sliderUpdateTimeout=null),this.sliderUpdateTimeout=window.setTimeout(this.proxy(function(){this.updateSlider()}),50))}}),usga.LeaderboardPlayoffModel=usga.LeaderBoardBaseModel.extend({define:{playoffPlayers:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},totalData:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},holesData:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},courseHoles:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}}}),usga.StartingTimesMatchControl=usga.LeaderBoardBaseControl.extend({initialized:!1,defaultSortAttr:"teetime",currentSortAttr:"teetime",chunkSize:15,init:function(){this._super(),this.context=new usga.StartingTimesModel,this.context.attr("tabControl",this.options.tabControl),this.context.attr("lbType",this.options.lbType),this.render()},render:function(){var a=can.view("#startingTimesMatch",this.context,this.getHelpers());this.element.append(a),this.dataUrl=this.options.dataUrl,this.getData()},getHelpers:function(){var a=this.context;return{getFlag:function(a){a=can.isFunction(a)?a():a;var b=null;return b},renderSearchData:function(b){b=can.isFunction(b)?b():b;var c,d,e="";if(a.attr("isFourballChampionship"))d=b.attr("team"),e+=d[0].player.attr("teamName")+" "+d[1].player.attr("teamName");else{c=b.players;for(var f=0,g=c.length;g>f;f++){var h=c[f];h&&(e+=h.attr("displayName")+" ")}}return e}}},applyInitialContextData:function(a){var b=a.event.tournament;b&&(can.batch.start(),this.context.attr("tableLegend",this.getLegends(b.legends)),can.batch.stop(),this.createMatchData(b))},applyDataChanges:function(a){},createMatchData:function(a){var b=a.matches.match;if(can.isArray(b))for(var c=0,d=b.length;d>c;c++){var e=new usga.LeaderBoardMatch(b[c]);e.attr("lbType",this.options.lbType),this.context.matches.push(e)}else this.context.matches.push(b)},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"sortable-row","starting-times-row")},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),null,c),can.batch.stop()}}),usga.StartingTimesModel=usga.LeaderBoardBaseMap.extend({define:{tableLegend:{type:"*",value:null},lbType:{type:"*",value:null},currentTab:{type:"number",value:0},tabcontrol:{Type:usga.BaseMap,Value:usga.BaseMap},times:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},matches:{Type:usga.LeaderBoardMatch.List,Value:usga.LeaderBoardMatch.List}}}),usga.StartingTimesStrokeControl=usga.LeaderBoardBaseControl.extend({initialized:!1,defaultSortAttr:"teetime",currentSortAttr:"teetime",chunkSize:15,init:function(){this._super(),this.context=new usga.StartingTimesModel,this.context.attr("tabControl",this.options.tabControl),this.context.attr("lbType",this.options.lbType),this.render()},render:function(){var a=can.view("#startingTimesStroke",this.context,this.getHelpers());this.element.append(a),this.dataUrl=this.options.dataUrl,this.getData()},getHelpers:function(){var a=this.context;return{getFlag:function(b){b=can.isFunction(b)?b():b;var c=null;return b&&(b.attr("ctyCode")?(c="flag "+b.attr("ctyCode").toUpperCase(),a.attr("isTeamEvent")&&(c="flag state "+b.attr("ctyCode").toUpperCase().replace(/([A-z]*)\s([A-z]*)/,"$1-$2"))):c="flag "+b.attr("country").toUpperCase()),c},renderSearchData:function(b){b=can.isFunction(b)?b():b;for(var c=b.players,d="",e=0,f=c.length;f>e;e++){var g=c[e];g&&(d+=a.attr("isFourballChampionship")?g.attr("teamName")+" ":g.attr("displayName"))}return d}}},applyInitialContextData:function(a){var b=a.event.tournament;b&&(can.batch.start(this.proxy(function(){this.sortDomElements("teetime","asc","time","sortable-row","starting-times-row")})),this.context.attr("tableLegend",this.getLegends(b.legends)),this.createStrokeData(b),can.batch.stop())},applyDataChanges:function(a){},createStrokeData:function(a){var b,c,d,e,f=null,g=null,h=[];this.context.attr("isFourballChampionship")?(d=2,e=this.createTeamsData(a.players.player)):(d=3,e=a.players.player);for(var i,j=0,k=e.length;k>j;j++){var l=new usga.LeaderBoardPlayer(e[j]);l.attr("lbType",this.options.lbType);var m=e[j].teetime,n=e[j].startingtee,o=e[j].coursecode;if(f!=m||g!=n||b!=o){if(c&&c.players.length<d){i=c.players.length;for(var p=0;d-i>p;p++)c.players.push(null)}c=new can.Map({teetime:m,startingtee:n,coursecode:o,players:[]}),c.players.push(l),f=m,g=n,b=o,h.push(c)}else c&&(c.players.length>=d?(c=new can.Map({teetime:m,startingtee:n,coursecode:o,players:[]}),h.push(c),c.players.push(l)):c.players.push(l))}this.context.attr("times",h)},createTeamsData:function(a){for(var b=[],c=this.getUniqueTeamsIds(a),d=0,e=c.length;e>d;d++){var f,g,h=c[d],i=this.getItemsByKeyValue(a,"teamID",h);i&&i.length>1&&(f=i[0],g=i[1],f.name=f.name+" / "+g.name,b.push(f))}return b},getUniqueTeamsIds:function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c],f=e.teamID;-1==b.indexOf(f)&&b.push(f)}return b},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"sortable-row","starting-times-row")},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),null,c),can.batch.stop()}}),usga.LeaderBoardStateTeamStrokeControl=usga.LeaderBoardBaseControl.extend({defaultSortAttr:"pos",currentSortAttr:"pos",chunkSize:5,init:function(){this._super(),this.context=new usga.LeaderBoardBaseModel,this.render(),this.dataUrl=this.options.dataUrl,this.getData()},render:function(){var a=can.view("#leaderBoardStateTeamStroke",this.context,this.getHelpers());this.element.addClass("leaderboard-state-team-stroke"),this.element.append(a)},applyInitialContextData:function(a){var b=a.event.tournament;if(b){can.batch.start(),this.context.attr("tableLegend",this.getLegends(b.legends)),this.context.attr("courseData",b.course),this.context.attr("roundData",b.tabcontrol.round),this.context.attr("currentRound",b.currentround),this.context.attr("lbType",this.options.lbType),this.context.attr("suspended",this.getPlaySuspended(b.playsuspended));var c=b.teams.team;can.batch.stop(),this.applyPartialData(c,0,this.chunkSize,this.proxy(this.createTeamsControls))}},createTeamsControls:function(a){for(var b=0,c=a.length;c>b;b++){var d=new usga.LeaderBoardTeam(a[b]),e=d.attr("idField");d.attr("currentRound",this.context.currentRound),d.attr("courseData",this.context.courseData),d.attr("roundData",this.context.roundData),d.attr("lbType",this.options.lbType),this.createTeamElement(d,"full-leader-board","team-row",e),this.context.teamsData.attr(e,d)}(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType)},createTeamElement:function(a,b,c,d,e){var f=$('<tbody data-search="'+a.state+'" class="'+b+" "+c+'" id="'+d+'"></tbody>');e&&f.data("favorite","true");for(var g in a)a.hasOwnProperty(g)&&"players"!=g&&f.data(g,a[g]);if(this.element){this.element.find("."+b).last().after(f);{new usga.LeaderBoardTeamControl("#"+d,{context:a})}}},applyDataChanges:function(a){this.context.attr("suspended",this.getPlaySuspended(a.event.tournament.playsuspended)),this.changedData=a.event.tournament.teams.team,(this.currentSortAttr!==this.defaultSortAttr||this.currentSortDirection!==this.defaultSortDirection)&&this.sortList(this.changedData,this.currentSortAttr,this.currentSortDirection,this.currentSortType),this.compareData()},compareData:function(){this.hasChanges=!1,can.batch.start(this.proxy(function(){this.hasChanges&&this.sortTables(this.currentSortAttr,this.currentSortDirection,this.currentSortType);

}));for(var a=0,b=this.changedData.length;b>a;a++){var c=this.changedData[a],d=c.idint?"team"+c.idint:c.state.replace(/\s/gi,""),e=this.context.teamsData.attr(d);this.hasChanges===!1?this.hasChanges=this.compareAndSetAttr(c,e,e):this.compareAndSetAttr(c,e,e)}can.batch.stop()},sortTables:function(a,b,c){this.sortDomElements(a,b,c,"team-row","full-leader-board");var d=this.element.find(".my-team-row");d.length&&this.sortDomElements(a,b,c,"my-team-row","my-leader-board")},addToFavorites:function(a){var b=a.closest("tr").data("team"),c="my"+b.attr("idField");b.attr("selected",!0),this.createTeamElement(b,"my-leader-board","my-team-row",c,!0),this.sortDomElements(this.currentSortAttr,this.currentSortDirection,this.currentSortType,"my-team-row","my-leader-board"),this.showTitles(),this.saveToStorage(this.context.attr("lbType")+"."+b.attr("idField"),!0)},removeFromFavorites:function(a){var b=a.closest("tr").data("team"),c=b.attr("idField");b.attr("selected",!1);var d=a.closest("tbody"),e=d.data("favorite");e?d.remove():this.element.find("#my"+c).remove();var f=this.element.find(".my-leader-board");f.length<=1&&this.hideTitles(),this.removeFromStorage(this.context.attr("lbType")+"."+b.attr("idField"))},showTitles:function(){this.element.find("#myLeaderBoardTitle").show()},hideTitles:function(){this.element.find("#myLeaderBoardTitle").hide()},".sort-table click":function(a,b){b.preventDefault(),can.batch.start();var c=this.element.find(".sort-table");this.setSortType(a,a.data("attr"),a.data("type"),this.changedData,c),can.batch.stop()},".favorite click":function(a,b){b.preventDefault(),a.hasClass("inactive")||(a.hasClass("add")?this.addToFavorites(a):this.removeFromFavorites(a))},".leader-board-player click":function(a){this.element.find(".attached-drawer").remove();var b=a.data("player");this.createScorecardDrawer(a,b)},".close-drawer click":function(){this.element.find(".attached-drawer").remove()}}),usga.LeaderBoardBracketsControl=usga.LeaderBoardBaseControl.extend({templates:{fourball:"#leaderBoardBrackets32",amateur:""},init:function(){this._super(),this.context=new usga.LeaderBoardBracketsModel,this.dataUrl=this.options.dataUrl,this.context.attr("lbType",this.options.lbType),this.render()},render:function(){var a=can.view(this.templates[this.options.lbType],this.context,this.getHelpers());this.element.html(a),this.getData()},getHelpers:function(){return{formatDate:function(a){return a=can.isFunction(a)?a():a,a?window.moment(a).format("dddd, MMMM D"):void 0},renderNumber:function(a){return a=can.isFunction(a)?a():a,a?a+1:void 0},splitNames:function(a,b){a=can.isFunction(a)?a():a;var c=a.split("/");return c[b]?c[b].replace(/([A-z\.-]*)\,\s*([A-z\.-]*)/,"$2 $1"):0===b?a:null},renderLeader:function(a,b){a=can.isFunction(a)?a():a;var c,d,e={status:"",standing:"",leaderClass:""},f=a.attr("status"),g=a.attr("teetime"),h=a.attr("standing"),i=a.attr("leader"),j=[];return h&&(j=h.split(/thru/i),c=j[0],d=j[1]?"thru"+j[1]:""),"notstarted"==f?e.standing=g:"completed"==f||(e.status=d,1==i?(e.leaderClass="leader-up",e.standing=c):2==i?(e.leaderClass="leader-down",e.standing=c):(e.standing="All Square",e.leaderClass="")),e[b]},getPreviousRoundStanding:function(a,b,c){a=can.isFunction(a)?a():a,b=can.isFunction(b)?b():b,c=can.isFunction(c)?c():c;var d,e,f=c.attr("length");if(f>0){d=c.attr(b-1),e=d.attr("match");for(var g=0,h=e.length;h>g;g++){var i=e[g],j=i.team.attr(0).attr("player.number"),k=i.team.attr(1).attr("player.number");if(j==a||k==a)return i.attr("standing")}}return null},getTeamsLength:function(a){return a=can.isFunction(a)?a():a,2*a.match.attr("length")},notFirstRound:function(a,b){return a=can.isFunction(a)?a():a,this.attr("roundIndex",a),a>0?b.fn(this):b.inverse(this)},getFinalIndex:function(a){return a=can.isFunction(a)?a():a,a.attr("length")?a.attr("length"):void 0}}},applyInitialContextData:function(a){var b=a.event.tournament;if(b){can.batch.start(),this.context.attr("columns",b.columns.column);var c=b.rounds.round;this.context.attr("champion",this.getChampion(c));for(var d=0,e=c.length;e>d;d++){var f=new usga.LeaderBoardBracketsRoundModel(c[d]);f.attr("lbType",this.options.lbType),this.context.rounds.push(f)}can.batch.stop(),this.initDataUpdating(),this.switchRounds(0)}},applyDataChanges:function(a){var b=a.event.tournament;if(b){can.batch.start(),this.context.attr("champion",this.getChampion(b.rounds.round));var c=this.roundMatchToArray(b.rounds.round),d=this.context.attr("rounds");this.compareAndSetAttr(c,d,d),can.batch.stop()}},getChampion:function(a){var b,c=a.length-1,d=a[c];if(d)for(var e=d.match,f=e.team,g=0,h=f.length;h>g;g++){var i=f[g];if(i.number==e.leader)return b=i.player,b.roundIndex=c+1,b}return b},roundMatchToArray:function(a){for(var b=0,c=a.length;c>b;b++){var d,e=a[b];can.isArray(e.match)||(d=e.match,e.match=[],e.match.push(d))}return a},handleError:function(){this.getData()},switchRounds:function(a){var b=this.element.find(".round-switcher"),c=this.element.find(".round-switcher"+a),d=this.element.find(".bracket-key-round"),e=this.element.find(".bracket-key"+a),f=this.element.find(".brackets__pagination__item"),g=this.element.find(".bracket-pagination-item"+a),h=this.element.find(".section"),i=this.element.find(".bracket-section"+a),j=this.element.find(".bracket-section"+(a+1));b.removeClass("active"),c.addClass("active"),d.removeClass("active"),e.addClass("active"),f.removeClass("active"),g.addClass("active"),h.removeClass("mobile-right").removeClass("mobile-left"),i.addClass("mobile-left"),j.addClass("mobile-right")},".brackets__sections__item click":function(a,b){b.preventDefault();var c=a.data("index");this.switchRounds(c)},".brackets__pagination__item click":function(a,b){b.preventDefault();var c=a.data("index");this.switchRounds(c)},".brackets__sections__item touchend":function(a,b){b.preventDefault();var c=a.data("index");this.switchRounds(c)},".brackets__pagination__item touchend":function(a,b){b.preventDefault();var c=a.data("index");this.switchRounds(c)}}),usga.LeaderBoardBracketsRoundModel=usga.LeaderBoardBaseModel.extend({define:{name:{type:"string",value:""},match:{Type:usga.LeaderBoardMatch.List,Value:usga.LeaderBoardMatch.List}}}),usga.LeaderBoardBracketsModel=usga.BaseMap.extend({define:{rounds:{Type:usga.LeaderBoardBracketsRoundModel.List,Value:usga.LeaderBoardBracketsRoundModel.List},columns:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}}}),usga.LeaderBoardBaseTabsControl=usga.LeaderBoardBaseControl.extend({currentTab:0,currentControl:null,currentLbData:null,currentType:null,currentElement:null,tabControl:null,init:function(){this._super(),this.setupData(this.options)},render:function(){var a=can.view("#leaderBoardMainControl",this.context,this.getHelpers());this.element.html(a),this.options.tabControlUrl?this.getTabsData():(this.applyUrls(this.currentType),this.showLeaderBoard(),this.initCustomSelect())},setupData:function(a){},getTabsData:function(){can.ajax({type:"GET",url:this.options.tabControlUrl,headers:{"Content-Type":"application/json"},success:this.proxy(function(a){this.applyTabsData(a)}),error:this.proxy(function(a){console.log(a)})})},applyTabsData:function(a){for(var b=/match\s*play\s*\-\s*/i,c=/match/i,d=/stroke/i,e=0,f=this.tabControl.length;f>e;e++){var g,h=this.tabControl[e],i=h.type.toLowerCase().replace(b,""),j=i.replace(/\s/gi,""),k=d.test(h.type),l=c.test(h.type),m={name:j,text:i,altText:i.replace(/round/i,"RD").replace(/finals/i,"final").replace(/\s-\s/,"-")};"true"==h.active.toLowerCase()&&(m.display=!0),"true"==h["default"].toLowerCase()&&(this.currentTab=e,m.selected=!0),k?g={container:this.currentLbData.strokeContainer+e,name:this.currentLbData.strokeName+e,lbType:this.currentLbData.strokeLbType,control:this.currentLbData.strokeControl,tableType:"stroke"}:l&&(g={container:this.currentLbData.matchContainer+e,name:this.currentLbData.matchName+e,lbType:this.currentLbData.matchLbType,control:this.currentLbData.matchControl,tableType:"match"}),this.currentLbData.tabs.push(g),this.context.tabs.push(g),this.currentLbData.links.push(m),this.context.links.push(m)}this.applyUrls(this.currentType),this.showLeaderBoard(),this.initCustomSelect()},showLeaderBoard:function(a){a=a||this.currentTab;var b=this.element.find(".lb-tab-link"),c=this.currentLbData;this.currentElement&&this.currentControl&&(this.currentElement.empty(),this.currentControl.destroy(),this.currentControl=null),this.element.find(".leaderboard-tab").hide();var d,e=this.championships,f=c.tabs[a];this.currentType==e.state.type||this.currentType==e.open.type?d=c.tabs[a].url:this.currentType==e.amateur.type||this.currentType==e.fourball.type?(d=c.links[a].url,"stroke"==f.tableType?this.context.attr("isBracketActive",!1):this.context.attr("isBracketActive",!0)):this.currentType==e.cup.type&&(d=c.dataUrl),c.filters&&this.element.find("."+c.filters[0].name).addClass("active"),b.removeClass("active"),b.filter(function(b){return b==a}).addClass("active"),this.context.attr("lbType",f.lbType),this.currentElement=this.element.find(f.container).show(),this.currentControl=new f.control(f.container,{dataUrl:d,lbType:f.lbType,tabControl:this.tabControl,playOff:this.options.playOffUrl})},initCustomSelect:function(){this.element.find(".header-box__list-dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})},".lb-tab-link click":function(a,b){b.preventDefault(),a.hasClass("active")||(this.currentTab=a.data("index"),this.showLeaderBoard(this.currentTab))},".link-select change":function(a){this.showLeaderBoard(a.val())}}),usga.LeaderBoardInitialControl=usga.LeaderBoardBaseTabsControl.extend({currentTab:0,currentControl:null,currentLbData:null,currentType:null,currentElement:null,tabControl:null,brackets:null,championships:{state:{type:"state",tabs:[{container:"#leaderboard-stroke",name:"leaderboard-stroke",lbType:null,control:null,url:null}],links:!1,filters:[{name:"show-all-players",text:"all",tab:"show-all-players"},{name:"show-amateurs",text:"amateurs",tab:"show-amateurs"}]},open:{type:"open",tabs:[{container:"#leaderboard-stroke",name:"leaderboard-stroke",lbType:"individualIntlStroke",control:usga.LeaderBoardIndividualStrokeControl,url:null}],links:!1,filters:[{name:"show-all-players",text:"all",tab:"show-all-players"},{name:"show-amateurs",text:"amateurs",tab:"show-amateurs"}]},cup:{type:"cup",tabs:[{container:"#leaderboardTeamMatch",name:"leaderboardTeamMatch",lbType:"teamMatchPlay",control:usga.LeaderBoardTeamMatchPlayControl}],links:!1,filters:[{name:"show-all-tabs",text:"all",tab:"all"},{name:"show-singles",text:"singles",tab:"singles-table"},{name:"show-foursomes",text:"foursomes",tab:"foursomes-table"},{name:"show-fourball",text:"four ball",tab:"fourball-table"}],dataUrl:{matchStatusUrl:null,roundsUrls:null}},amateur:{type:"amateur",strokeContainer:"#leaderboard-stroke",strokeName:"leaderboard-stroke",strokeLbType:"individualIntlStroke",strokeControl:usga.LeaderBoardIndividualStrokeControl,matchContainer:"#leaderboardIndidvidualMatch",matchName:"leaderboardIndidvidualMatch",matchLbType:"individualMatchPlay",matchControl:usga.LeaderBoardMatchPlayControl,tabs:[],links:[],filters:!1,bracket:!0},fourball:{type:"fourball",strokeContainer:"#leaderboard-stroke",strokeName:"leaderboard-stroke",strokeLbType:"fourballIntlStroke",strokeControl:usga.LeaderBoardFourballStrokeControl,matchContainer:"#leaderboardIndidvidualMatch",matchName:"leaderboardIndidvidualMatch",matchLbType:"fourballMatchPlay",matchControl:usga.LeaderBoardMatchPlayControl,tabs:[],links:[],filters:!1,bracket:!0}},applyTabsData:function(a){this.tabControl=a.menuControl.menuItem,this._super()},setupData:function(a){this.currentType=a.type,this.currentLbData=this.championships[this.currentType],this.currentType==this.championships.state.type&&(this.currentLbData.tabs[0].lbType=a.lbType,"individualStateStroke"==a.lbType?this.currentLbData.tabs[0].control=usga.LeaderBoardIndividualStrokeControl:"teamStroke"==a.lbType&&(this.currentLbData.tabs[0].control=usga.LeaderBoardStateTeamStrokeControl,this.currentLbData.filters=!1)),this.context=new usga.LeaderBoardBaseMap(this.currentLbData),this.context.attr("lbType",a.lbType),this.render()},applyUrls:function(a){var b=this.championships,c=this.currentLbData,d=this.options;if(a==b.state.type||a==b.open.type)c.tabs[0].url=d.strokeDataUrl;else if(a==b.amateur.type||a==b.fourball.type){c.links[0].url=d.strokeDataUrl;for(var e=0,f=d.matchPlayDataUrls.length;f>e;e++)c.links[e+1].url=d.matchPlayDataUrls[e]}else a==b.cup.type&&(c.dataUrl.matchStatusUrl=d.matchStatusUrl,c.dataUrl.roundsUrls=d.matchPlayDataUrls)},showAllPlayers:function(){this.element.find(".player-row").show()},showAmateurs:function(){this.element.find(".player-row").hide(),this.element.find(".player-amateur").show()},hideRoundContainers:function(){this.element.find(".round-container").hide()},showRoundContainers:function(){this.element.find(".round-container").show()},switchMatchRounds:function(a){"all"!=a?(this.hideRoundContainers(),this.element.find("."+a).show()):this.showRoundContainers()},switchView:function(a){"brackets"==a?(this.element.find(".leaderboard-view-item").hide(),this.element.find(".brackets-view-item").show(),this.initBrackets(),this.currentControl&&(this.currentElement.empty(),this.currentControl.destroy(),this.currentControl=null)):(this.element.find(".leaderboard-view-item").show(),this.element.find(".brackets-view-item").hide(),this.showLeaderBoard(this.currentTab),this.brackets&&(this.element.find("#leaderboardBracketsContainer").empty(),this.brackets.destroy(),this.brackets=null))},initBrackets:function(){this.brackets=new usga.LeaderBoardBracketsControl("#leaderboardBracketsContainer",{dataUrl:this.options.bracketDataUrl,lbType:this.options.type})},toggleSearchButton:function(a,b,c){var d=this.$element.find(".search-button");a?d.toggleClass("search-active",!0):d.toggleClass("search-active",!1)},search:function(a){var b,c=this.context.attr("lbType");b=this.element.find("stateTeam"==c||"fourballIntlStroke"==c?".team-row":"fourballMatchPlay"==c||"individualMatchPlay"==c||"teamMatchPlay"==c?".lb-match__container__item":".player-row"),this.findTableElement(a,b)},".show-all-players click":function(a,b){b.preventDefault(),a.hasClass("active")||(this.element.find(".header-box__list__item").removeClass("active"),a.addClass("active"),this.showAllPlayers())},".show-amateurs click":function(a,b){b.preventDefault(),a.hasClass("active")||(this.element.find(".header-box__list__item").removeClass("active"),a.addClass("active"),this.showAmateurs())},".lb-tab-link click":function(a,b){b.preventDefault(),a.hasClass("active")||(this.currentTab=a.data("index"),this.showLeaderBoard(this.currentTab))},".search-button click":function(a){var b=this.$element.find(".search-field");b.val(""),this.toggleSearchButton(),this.search("")},".search-field keyup":function(a){var b=a.val();this.toggleSearchButton(b),this.search(b)},".search-field focus":function(a){var b=a.val();this.toggleSearchButton(b,!0)},".search-field blur":function(a){var b=a.val();this.toggleSearchButton(b,!1,!0)},".header-box__list__item click":function(a,b){b.preventDefault();var c=a.data("tab");this.element.find(".header-box__list__item").removeClass("active"),a.addClass("active"),this.switchMatchRounds(c)},".filter-select change":function(a){"show-all-players"==a.val()?this.showAllPlayers():"show-amateurs"==a.val()?this.showAmateurs():this.switchMatchRounds(a.val())},".link-select change":function(a){this.showLeaderBoard(a.val())},".view-item-switcher click":function(a,b){b.preventDefault();var c=a.data("target");a.hasClass("active")||(this.element.find(".view-item-switcher").removeClass("active"),a.addClass("active"),this.switchView(c))}}),usga.StartingTimesInitialControl=usga.LeaderBoardBaseTabsControl.extend({championships:{state:{type:"state",tabs:[],links:!1,filters:!1},open:{type:"open",tabs:[],links:!1,filters:!1},cup:{type:"cup",tabs:[],links:!1,filters:!1,dataUrl:{matchStatusUrl:null,roundsUrls:null}},amateur:{type:"amateur",strokeContainer:"#leaderboard-stroke",strokeName:"startingTimesStroke",strokeLbType:"stroke",strokeControl:usga.StartingTimesStrokeControl,matchContainer:"#leaderboardIndidvidualMatch",matchName:"startingTimesMatch",matchLbType:"match",matchControl:usga.StartingTimesMatchControl,tabs:[],links:[],filters:!1,bracket:!0},fourball:{type:"fourball",strokeContainer:"#startingTimesStroke",strokeName:"startingTimesStroke",strokeLbType:"fourballIntlStroke",strokeControl:usga.StartingTimesStrokeControl,matchContainer:"#startingTimesMatch",matchName:"startingTimesMatch",matchLbType:"fourballMatchPlay",matchControl:usga.StartingTimesMatchControl,tabs:[],links:[],filters:!1,bracket:!1}},applyTabsData:function(a){this.tabControl=a.teetimeControl.teetimeItem,this._super()},setupData:function(a){this.currentType=a.type,this.currentLbData=this.championships[this.currentType],this.context=new usga.LeaderBoardBaseMap(this.currentLbData),this.context.attr("lbType",a.lbType),this.render()},applyUrls:function(a){var b=this.championships,c=this.currentLbData,d=this.options;if(a==b.state.type||a==b.open.type)c.tabs[0].url=d.strokeDataUrl;else if(a==b.amateur.type||a==b.fourball.type){for(var e=0,f=d.strokeDataUrls.length;f>e;e++)c.links[e].url=d.strokeDataUrls[e];for(var g=0,h=d.matchPlayDataUrls.length;h>g;g++)c.links[g+d.strokeDataUrls.length].url=d.matchPlayDataUrls[g]}else a==b.cup.type&&(c.dataUrl.matchStatusUrl=d.matchStatusUrl,c.dataUrl.roundsUrls=d.matchPlayDataUrls)},toggleSearchButton:function(a){var b=this.$element.find(".search-button");a?b.toggleClass("search-active",!0):b.toggleClass("search-active",!1)},".search-button click":function(a){var b=this.element.find(".search-field");b.val(""),this.toggleSearchButton("");var c=this.element.find(".starting-times-row");this.findTableElement("",c)},".search-field keyup":function(a){var b=a.val();this.toggleSearchButton(b);var c=this.element.find(".starting-times-row");this.findTableElement(b,c)},".search-field focus":function(a){var b=a.val();this.toggleSearchButton(b)},".search-field blur":function(a){var b=a.val();this.toggleSearchButton(b)}}),usga.LeaderBoardTeamControl=usga.BaseModule.extend({init:function(){this._super(),this.context=this.options.context,this.render()},render:function(){var a=can.view("#leaderBoardTeam",this.context,this.getHelpers());this.element.html(a),this.initPlayers()},getHelpers:function(){var a=this.context;return{isCurrentRound:function(b,c){return b=can.isFunction(b)?b():b,b==a.attr("currentRound")?c.fn():c.inverse()},getRoundAttr:function(b){return b=can.isFunction(b)?b():b,a.attr(null!==a.attr("r"+b)&&void 0!==a.attr("r"+b)?"r"+b:"R"+b)},getFlag:function(a){return a=can.isFunction(a)?a():a,a.attr("state").toUpperCase().replace(/([A-z]*)\s([A-z]*)/,"$1-$2")}}},initPlayers:function(){for(var a=this.context.players.player,b=0,c=a.length;c>b;b++){var d=a[b];d.attr("course",this.context.courseData),d.attr("roundData",this.context.roundData),d.attr("state",this.context.state),d.attr("stateTeam",!0),d.attr("currentRound",this.context.currentRound),d.attr("lbType",this.context.lbType);{new usga.LeaderBoardPlayerControl(this.element,{context:d})}}this.addToFavorite()},addToFavorite:function(){var a=this.context.attr("lbType"),b=this.context.attr("idField");window.localStorage.getItem(a+"."+b)&&!this.element.hasClass("my-team-row")&&this.element.find(".favorite").trigger("click")},"{context} change":function(a,b,c,d,e){"players"!=c&&this.element.data(c,e)}}),usga.LeaderboardTickerContentControl=usga.LeaderBoardBaseControl.extend({updateInitialized:!1,suspended:!1,currentTemplate:null,sliderOptions:{slidesPerView:"auto",spaceBetween:0},init:function(){this._super(),this.context=this.options.context,this.config=this.options.leaderBoardConfig,this.dataUrl=this.config.dataUrl,this.context.attr("buttonLink",this.config.pageLink),this.context.attr("lbType",this.config.type),this.render()},render:function(){var a=can.view("#leaderBoardTickerTables",this.context,this.getHelpers());this.element.append(a),this.getData()},destroy:function(){this.element.empty(),this._super()},handleError:function(a){this.getData()},getHelpers:function(){return{matchPlayerName:function(a){return a=can.isFunction(a)?a():a,a?a.replace(/([A-z\-]*),\s*([A-z\-\.])*/,"$2. $1"):null},teamPlayerName:function(a){return a=can.isFunction(a)?a():a,a?a.replace(/([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*\s*(\/)\s*([A-z\.-]*),\s*([A-Z]{1})[A-z\.-]*/,"$2. $1 $3 $5. $4"):null},renderArrow:function(a){a=can.isFunction(a)?a():a;var b=a.attr("isCompleted"),c=a.attr("leader"),d="mini-winl"==c||"1"==c,e="mini-winr"==c||"2"==c;if(b){if(d)return"arrow-1";if(e)return"arrow-4"}else{if(d)return"arrow-2";if(e)return"arrow-3"}}}},applyInitialContextData:function(a){can.batch.start(this.proxy(function(){b.suspended||"cup"==this.config.type||this.initSlider(this.sliderOptions),this.updateInitialized||(this.initDataUpdating(),this.updateInitialized=!0)}));var b=this.checkData(a);this.suspended=b.suspended,this.context.attr("suspended",b.suspended),this.context.attr("isLive",this.checkIsLive()),can.batch.stop()},applyDataChanges:function(a){this.applyInitialContextData(a)},checkIsLive:function(){var a=(new Date).valueOf(),b=this.config.endDate,c=this.config.startDate;return a>=c&&b>=a},checkData:function(a){var b,c={};switch(this.config.type){case"fourball":b=a.event.tournament;break;case"state":a.teams?b=a.teams:a.players&&(b=a.players);break;case"cup":b=a.event.tournament;break;case"open":b=a.players;break;case"amateur":b=a.event.tournament}return c.suspended=this.getPlaySuspended(b.playsuspended),c.items=this.getItems(b),c},getItems:function(a){var b;switch(this.config.type){case"fourball":"matchplay"==a.display.phase?(b="match",this.applyContextItems(a.matchplay.matches.match,"match")):"strokeplay"==a.display.phase&&(this.applyContextItems(a.strokeplay.teams.team,"player"),b="stroke");break;case"amateur":"matchplay"==a.display.phase?b="match":"strokeplay"==a.display.phase&&(this.applyContextItems(a.strokeplay.players.player,"player"),b="stroke");break;case"cup":this.applyCupItems(a),b="cup";break;case"open":this.applyContextItems(a.player,"player"),b="stroke";break;case"state":a.player?this.applyContextItems(a.player,"player"):a.team&&this.applyContextItems(a.team,"player"),b="stroke"}this.context.attr("tableType",b)},applyContextItems:function(a,b){this.context.items.splice(0);for(var c=0,d=a.length;d>c;c++){var e,f=a[c];"player"==b?e=new usga.LeaderBoardPlayer(f):"match"==b&&(e=new usga.LeaderBoardMatch(f)),e.attr("lbType",this.config.type),this.context.items.push(e)}},applyCupItems:function(a){var b=a.cupteams;this.context.items.splice(0),this.context.items.push({teamOneName:b.teamOneName,teamOnePoints:b.teamOnePoints,teamOneAbbr:b.cupteam[0].name,teamTwoName:b.teamTwoName,teamTwoPoints:b.teamTwoPoints,teamTwoAbbr:b.cupteam[1].name})},initSlider:function(a){this.slider=new Swiper(".swiper-container",a)}}),usga.LeaderBoardTickerModel=usga.LeaderBoardBaseMap.extend({define:{items:{Type:usga.BaseMap.List,Value:usga.BaseMap.List},tableType:{type:"string",value:""},tabs:{Type:usga.BaseMap.List,Value:usga.BaseMap.List}},isStroke:can.compute(function(){return"stroke"==this.attr("tableType")}),isMatch:can.compute(function(){return"match"==this.attr("tableType")}),isCup:can.compute(function(){return"cup"==this.attr("tableType")})}),usga.LeaderboardTickerControl=usga.LeaderBoardBaseControl.extend({tabs:null,dropdown:null,currentLeaderBoard:null,currentLeaderBoardData:null,currentTabIndex:null,init:function(){this._super(),this.context=new usga.LeaderBoardTickerModel,this.context.attr("screenSize",this.getScreenSize()),this.dataUrl=this.options.tickerUrl,this.hideTicker(),$("body").addClass("leaderboard-live-ticker"),this.render(),this.getData()},render:function(){var a=can.view("#leaderBoardTickerTabs",this.context,this.getHelpers());this.element.append(a)},applyInitialContextData:function(a){a&&a.items&&a.items.length&&(this.tabs=a.items,this.applyTabs()),this.initDataUpdating()},applyDataChanges:function(a){a&&a.items&&a.items.length&&this.checkTabsChanges(a.items)&&(this.tabs=a.items,this.applyTabs())},applyTabs:function(){this.context.tabs.splice(0);for(var a=0,b=this.tabs.length;b>a;a++){var c=this.tabs[a],d=(new Date).valueOf(),e=c.endDate,f=c.startDate;d>=f&&e>d&&this.context.tabs.push(c),this.toggleLBMenuTabs(c,d)}this.context.tabs.attr("length")>0?(this.showTicker(),this.currentLeaderBoardData=this.context.tabs.attr(0),this.dropdown?this.dropdown.trigger("chosen:updated"):this.initCustomSelect(),this.showLeaderBoard()):this.clearTicker()},toggleLBMenuTabs:function(a,b){var c=a.startDate,d=window.location.href,e=a.pageLink,f=$("#lbScoringTab"),g=$("#lbCourseStatistics"),h=new RegExp(e.replace(/\.html/i,"").replace(/\/scoring/i,"").replace(/\/starting-times/i,"").replace(/\/course-statistics/i,""));h.test(d)?c>b?(f.hide(),g.hide()):(f.show(),g.show()):(f.hide(),g.hide())},handleError:function(a){this.clearTicker(),this.getData()},showTicker:function(){this.element.show(),$("body").addClass("leaderboard-live")},hideTicker:function(){this.element.hide(),$("body").removeClass("leaderboard-live")},clearTicker:function(){this.tabs=null,this.context.attr("tabs")&&this.context.tabs.splice(0),this.currentLeaderBoardData=null,this.destroyLeaderboard(),this.hideTicker()},showLeaderBoard:function(){this.destroyLeaderboard(),this.currentLeaderBoard=new usga.LeaderboardTickerContentControl("#tickerContent",{context:this.context,leaderBoardConfig:this.currentLeaderBoardData})},destroyLeaderboard:function(){this.currentLeaderBoard&&(this.currentLeaderBoard.destroy(),this.currentLeaderBoard=null)},checkTabsChanges:function(a){if(null===this.tabs)return!0;if(this.tabs.length!==a.length)return!0;for(var b=0,c=this.tabs.length;c>b;b++){var d=this.tabs[b],e=a[b];for(var f in d)if(d.hasOwnProperty(f)&&(!e[f]||d[f]!==e[f]))return!0;var g=(new Date).valueOf(),h=d.endDate,i=d.startDate;if(i>g||g>h)return!0}return!1},initCustomSelect:function(){this.dropdown=this.element.find(".ticker-dropdown").chosen({disable_search_threshold:10,width:"100%"})},onLayout:function(){this.context.attr("screenSize",this.getScreenSize())},".ticker-dropdown change":function(a){var b=a.val();this.currentLeaderBoardData=this.context.tabs.attr(b),this.currentTabIndex=b,this.showLeaderBoard()}}),usga.Microsite=usga.BaseCloudinaryModule.extend({init:function(){this._super(),this.$cloudContainer=this.$element.find(".microsite__media, .microsite__header"),this.applyCloudinary(this.$cloudContainer)},onFirstShow:function(){},onLayout:function(){this.applyCloudinary(this.$cloudContainer)}}),usga.AskQuestionModal=usga.BaseModal.extend({defaults:{onMessageWritten:function(a){}}},{message:void 0,context:{},init:function(){this._super(),this.context=new can.Map({status:""}),this.renderTemplate();var a=this.element.find('[name="message"]');a.length>0&&(this.message=can.compute(a[0],"value","change"))},renderTemplate:function(){0!==$("#askQuestionModalTemplate").length&&this.element.append(can.view("#askQuestionModalTemplate",this.context))},setError:function(a){this.element.addClass("error"),this.element.find(".invalid").removeClass("invalid"),this.context.attr("status",a||"Error")},open:function(){this.$element.show()},onSubmitButtonClick:function(a,b){this.element.removeClass("error"),this.element.find(".invalid").removeClass("invalid"),this.context.attr("status",""),this.message&&this.message()?$.isFunction(this.options.onMessageWritten)&&this.options.onMessageWritten(this.message()):(this.element.addClass("error"),this.element.find('[name="message"]').addClass("invalid"),this.context.attr("status","Enter message"))},".ask-button click":function(a,b){b.preventDefault(),this.onSubmitButtonClick(a,this.context)},".modal__body__close click":function(){this.close()}}),usga=window.usga||{},usga.ModalCampaign=usga.BaseModal.extend({init:function(a,b){this._super(a,b),this.$dialogs=this.$element.find(".modal__inner")},open:function(a,b){this.$dialogs.hide().filter(a).show(),this.$element.show(),"object"!=typeof b&&(b={}),"function"!=typeof b.closeCallback&&(b.closeCallback=function(){}),"function"!=typeof b.yesCallback&&(b.yesCallback=function(){}),"function"!=typeof b.noCallback&&(b.noCallback=function(){}),this.$element.find(".confirmation .message").text(b.message),this.params=b},".modal__body__close click":function(){this.close(),this.params.closeCallback()},".button.yes click":function(){this.close(),this.params.yesCallback()},".button.no click":function(){this.close(),this.params.noCallback()}}),usga.IE9Modal=usga.BaseModal.extend({init:function(a,b){this._super(a,b);var c="__old-ie-message-displayed__";usga.browser.ie&&usga.browser.ie<10&&!$.cookie(c)&&($.cookie(c,"true"),this.$element.find(".modal__body__content__version").text(usga.browser.ie),this.open())},".modal__body__dismiss click":function(){this.close()}});var usga=window.usga||{};usga.PartnerModal=usga.BaseCloudinaryModule.extend({defaults:{autoShow:!1,activatorSelector:"[data-partner-modal]"}},{init:function(a,b){this._super(a,b),this.$element.each(function(){var a,c,d=$(this),e=d;d.hasClass("modal")||(e=d.find("modal")),a=e.data("partner"),c="partner-modal-"+a,$("body > ."+c).remove(),e.addClass(c),b.autoShow||e.css("display","none"),$("body").append(e)}),$("body").on("click",b.activatorSelector,this.proxy(this.onActivatorClick)).on("click",".modal_partner .modal__body__close",this.proxy(this.onCloseClick))},onActivatorClick:function(a){var b=$(a.currentTarget);$("body").find('[data-partner="'+b.data("partner-modal")+'"]').toggle(!0),a.preventDefault()},onCloseClick:function(a){var b=$(a.currentTarget);b.closest(".modal_partner").toggle(!1)}}),usga.ProfileInformationModal=usga.BaseModal.extend({COUNTRY_STATES:{US:[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"District of Columbia",code:"DC"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Pennsylvania",code:"PA"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}],Canada:[{name:"Alberta",code:"AB"},{name:"British Columbia",code:"BC"},{name:"Manitoba",code:"MB"},{name:"New Brunswick",code:"NB"},{name:"Newfoundland and Labrador",code:"NL"},{name:"Northwest Territories",code:"NT"},{name:"Nova Scotia",code:"NS"},{name:"Nunavut",code:"NU"},{name:"Ontario",code:"ON"},{name:"Prince Edward Island",code:"PE"},{name:"Quebec",code:"QC"},{name:"Saskatchewan",code:"SK"},{name:"Yukon",code:"YT"}]},defaults:{onProfileUpdated:function(a){},profileScope:"rsvp"}},{context:{},profile:void 0,init:function(){this._super(),this.profile=this.createProfile(),this.context=new can.Map({countryStates:usga.ProfileInformationModal.COUNTRY_STATES.US,profile:this.profile.attr()}),this.renderTemplate()},renderTemplate:function(){0!==$("#profileInformationModalTemplate").length&&this.element.append(can.view("#profileInformationModalTemplate",this.context));

},open:function(){usga.Gigya.getProfileMailingAddress().then(this.proxy(function(a){if(a){if(this.profile=this.createProfile(a),this.context.attr("profile",this.profile.attr()),this.context.attr("profile.country")){this.context.attr("countryStates",usga.ProfileInformationModal.COUNTRY_STATES[this.context.attr("profile.country")]);var b=this.context.attr("profile.state");this.context.attr("profile.state",""),this.context.attr("profile.state",b)}this.element.show(),this.isSmallScreen()&&usga.scrollTo($("body"))}}))},createProfile:function(a){var b=this.options.profileScope&&null!==this.options.profileScope&&-1===["rsvp","ask"].indexOf(this.options.profileScope)&&"rsvp"!==this.options.profileScope?usga.AskQuestionProfileInformation:usga.RsvpProfileInformation;return a?new b(a):new b},onCountryChanged:function(a,b){this.context.attr("countryStates",usga.ProfileInformationModal.COUNTRY_STATES[this.context.attr("profile.country")])},onUpdateButtonClick:function(a,b){this.profile.attr(this.context.attr("profile").attr());var c=this.profile.errors();if(this.element.removeClass("error"),this.element.find(".invalid").removeClass("invalid"),this.context.attr("status",""),null!==c){var d="Please, fill required fields";this.element.addClass("error"),this.context.attr("status",d)}else usga.Gigya.setProfileMailingAddress(this.profile.attr()).then(this.proxy(function(a){a?(this.close(),$.isFunction(this.options.onProfileUpdated)&&this.options.onProfileUpdated(this.profile)):(this.context.attr("status","Server error"),this.element.addClass("error"))}))},'[name="country"] change':function(a,b){this.onCountryChanged(a,b)},".update-button click":function(a,b){this.onUpdateButtonClick(a,b)},".modal__body__close click":function(){this.close()}}),usga.ProtectedContentModal=usga.BaseModal.extend({init:function(a,b){this._super(a,b),this.$dialogs=this.$element.find(".modal__body__content")},open:function(a,b){this.$dialogs.hide().filter(a).show(),this.$element.find(".modal__body__close").toggle(!b),this.$element.show(),this.isSmallScreen()&&usga.scrollTo($("body"))},".modal__body__close click":function(){this.close()},".button.sign-in-button click":function(){this.close(!0),usga.Gigya.login()},".button.register-button click":function(){this.close(!0),usga.Gigya.register()},".button.connect-button click":function(){this.close(!0),usga.Gigya.connect()}}),usga.SignInModal=usga.BaseModal.extend({open:function(a,b){this.$element.find(".modal__body__close").toggle(!b),this.$element.show(),this.isSmallScreen()&&usga.scrollTo($("body"))},".modal__body__close click":function(){this.close()},".button.sign-in-button click":function(){this.close(!0),usga.Gigya.login()},".button.register-button click":function(){this.close(!0),usga.Gigya.register()}}),usga.NavSearch=usga.BaseSearchModule.extend({defaults:{template:"#nav-search-results-template",typesLimits:{all:2,news:2,photos_videos:4},attivioSearchQueryData:{predictive:!0}}},{$search:null,$query:null,$results:null,context:null,_stats:{total:0,type:{}},init:function(a,b){this._super(),this.$search=this.$element.find(".nav-search"),this.$query=this.$search.find(".nav-search__form__field input"),this.$results=this.$search.find(".nav-search__result"),this.context=new can.Map({suggestion:"",results:{},resultLinks:{},categories:{}}),this.$results.append(this._renderTemplate()),this.applyCloudinary(this.$results)},navigateToSearch:function(a){this._getQueryText()&&this.navigate(this.getResultsUrl(a||""))},navigate:function(a){var b=location.pathname,c=usga.url.trimHost(a);location.href=a,b&&"/"!==b&&0===c.indexOf(b)&&setTimeout(function(){location.reload(!0)},0)},_trackDtm:function(a,b){usga.trackDtm("user-predictive-search",{search:{term:a,results:this._stats.total}})},_setStats:function(a){for(var b={total:0,type:{}},c=0,d=a.length;d>c;c++){var e=a[c],f=this._getDocumentType(e),g=f.name;g.match(/rules/i)&&(g="rules"),f&&-1===["courses","store"].indexOf(g)&&(b.type[g]||(b.type[g]=0),b.type[g]+=1,b.total+=1)}this._stats=b},autoComplete:function(){var a=this._getQueryText();a&&this.makeAutocompleteRequest(a).done(this.proxy(function(b){var c=this._getDocuments(b);this._setStats(c),this._trackDtm(a)})).done(this.proxy(this.setRenderItems)).done(this.proxy(function(){this.updateProtectedLinks(),this.$results.toggle(!0)}))},makeAutocompleteRequest:function(a){return this._makeRequest(a)},clearResults:function(){can.batch.start(),this.context.attr("suggestion",""),this.context.attr("results",{}),this.context.attr("resultLinks",{}),this.context.attr("categories",{}),can.batch.stop()},_hasToSetRenderAllItem:function(a){return this.options.typesLimits&&this.options.typesLimits.all&&(!a.all||a.all&&a.all.length<this.options.typesLimits.all)},_setRenderItem:function(a,b,c){if(this._hasToSetRenderAllItem(c))b="all";else if(this.options.typesLimits&&!1===(this.options.typesLimits[b]&&(!c[b]||c[b]&&c[b].length<this.options.typesLimits[b])))return!1;return c[b]||(c[b]=[]),c[b].push(this._prepareRenderItem(a)),!0},setRenderItems:function(a){var b=this._getFacetBucket(a)||this._getSynonyms(a),c=this._getDocuments(a),d={},e={},f=!this.options.typesLimits||!usga.isObject(this.options.typesLimits)||usga.sum(this.options.typesLimits);can.batch.start(),b&&this._getQueryText()!==b.label&&this.context.attr("suggestion",b.label);for(var g=0,h=c.length,i=0;h>g;g++){var j=c[g],k=this._getDocumentType(j),l=k.name;if(l.match(/rules/i)&&(l="rules"),k&&-1===["courses","store"].indexOf(l)&&(d[l]||(d[l]=k.label),this._setRenderItem(j,l,e)&&i++,!1==(f!==!0&&f>i)))break}this.context.attr("categories",d),this.context.attr("resultLinks.all",this.getResultsUrl("all")),this.context.categories.each(this.proxy(function(a,b){this.context.attr("resultLinks."+b,this.getResultsUrl(b))})),this.context.attr("results",e),can.batch.stop(),this.applyCloudinary()},toggleSearch:function(a){this.$search.toggle(a),this.toggleResults(!1),a&&this.$search.find(".nav-search__form__field input:text:visible:first").focus(),this._getQueryText()&&(this.$results.toggle(!0),this.autoComplete())},toggleResults:function(a){this.$results.toggle(a)},onQueryTyping:function(a){switch(a.keyCode){case usga.NavSearch.KEYS.ENTER:a.preventDefault(),this.navigateToSearch();break;default:this.onQueryTyped()}},onQueryTyped:function(){this.$results.toggle(!1),this.clearResults(),this.changeTimeout&&(clearTimeout(this.changeTimeout),this.changeTimeout=null),this.changeTimeout=setTimeout(this.proxy(this.autoComplete),1e3)},".nav-search__form__btn click":function(a,b){b.preventDefault(),this._getQueryText()&&this.navigateToSearch()},".nav-search__form__field input keydown":function(a,b){this.onQueryTyping(b)},'.nav-search__suggest__text[data-words!=""] click':function(a,b){b.preventDefault(),this.$query.val(a.data("words")),this.navigateToSearch("all")},".nav-search__category-title click":function(a,b){b.preventDefault();var c=a.data("type");this._trackDtmTypedSearch(this._getQueryText(),this._stats.type[c],a.data("type")),setTimeout(this.proxy(this.navigate,a[0].href),1e3)},".nav-search__all-results click":function(a,b){b.preventDefault(),this._trackDtmTypedSearch(this._getQueryText(),this._stats.total,"all"),setTimeout(this.proxy(this.navigate,a[0].href),1e3)},".nav-search__more.all click":function(a,b){b.preventDefault(),this._trackDtmTypedSearch(this._getQueryText(),this._stats.total,"all"),setTimeout(this.proxy(this.navigate,a[0].href),1e3)}}),function(){var a=function(){if(usga.Gigya.isLoggedIn()){var a=$.Deferred();return usga.Gigya.getDataStore(function(b){var c={};return b&&usga.isObject(b)&&b.data&&usga.isObject(b.data)&&b.data.membership&&usga.isObject(b.data.membership)&&(c=b.data.membership),a.resolve(c)}),a.promise()}return $.when(!1)};usga.Navigation=usga.BaseCloudinaryModule.extend({MAIN_MENU_ANIMATABLE_CLASS:"animatable",MAIN_MENU_ACTIVE_CLASS:"active",MAIN_MENU_SUB_VISIBLE_CLASS:"main-menu__item_sub_mod1",SUB_MAIN_MENU_SUB_VISIBLE_CLASS:"sub-main-menu__item_sub_mod1",MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS:"active-page-item",MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS:"active-page-item-submenu",defaults:{submenuDissapearDelay:1e3,moreMenuDissapearDelay:2e3,sticky:!0,cover:!1,baseUrl:location.protocol+"//"+location.host,baseSearchPageUrl:"",highlightActiveItem:!0,showActivePageSubMenu:!1}},{minIndent:0,flyClass:"navigation_scroll",invokableAction:!1,navSearch:null,menuLayoutDelay:550,init:function(){this.options.sticky&&this.$element.addClass("navigation_fixed"),this.$mainMenuContainer=this.$element.find(".main-menu"),this.$mainMenu=this.$element.find(".main-menu__inner"),this.$secondaryMenu=this.$element.find(".secondary_main-menu"),this.$dropdown=this.$mainMenu.find("li.main-menu__dropdown"),this.minIndent=this.getMinStickyIndent(),this.navSearch=new usga.NavSearch(this.$element,{baseUrl:this.options.baseUrl,baseSearchPageUrl:this.options.baseSearchPageUrl}),this._super(),this.setInitialClasses(),this.highlightActivePageMenuItem(),this.showActivePageSubMenu(),usga.Gigya.onReady(this.proxy(this.onGigyaActionsReady)),$("body").on("click",this.proxy(this.onOutsideClick))},isPageHasLiveLeaderboardTicker:function(){return $("body").hasClass("leaderboard-live-ticker")},isMainMenu:function(a){return 0!==this.$mainMenu.has(a).length},inSubMoreMenu:function(a){var b=this.getSubMoreMenu(a),c=0!==b.length&&!a.is(".sub-main-menu__more-menu")&&b.has(a);if(c){var d=a.parentsUntil(".sub-main-menu__more-menu");c=d.filter(".sub-main-menu__item__submenu").length>0}return c},isSubMoreMenu:function(a){return a.is(".sub-main-menu__more-menu")||0!==a.closest(".sub-main-menu__more-menu").length},isMoreMenu:function(a){return 0!==this.$dropdown.has(a).length},isSubMenu:function(a){return a.is(".sub-main-menu__item_sub")||0!==a.closest(".sub-main-menu__item_sub").length},isSubMenuItem:function(a){return a.is(".main-menu__item_sub, .sub-main-menu__item_sub")},isGigyaAction:function(a){return-1!==["login","sign-in","logout","register","sign-up","profile","campaignRegister","campaignLogin"].indexOf(a)},hasLink:function(a){var b=a.is("a")?a:a.find(">a"),c=b[0].href;return c&&-1===c.search(/^javascript/i)&&-1===c.search(/#$/)},isFlyPosition:function(){return this.isSmallScreen()?!1:this.options.sticky?$(window).scrollTop()>=this.minIndent&&$(window).scrollTop()>0:void 0},isSubMoreMenuApplicable:function(a,b){for(var c=0,d=b.length,e=0;d>c;c++){var f=$(b[c]);if(e+=Math.ceil(f.outerWidth(!0)),e>a)return!0}return!1},hasActiveMainMenuItem:function(){return 1===this.$element.find(".main-menu__inner > li.main-menu__item.active").length},hasHoveringMenuItemOnFirstLevel:function(){return 0!==this.$element.find(".main-menu__inner > li.main-menu__item.mouse-on").length},isMainMenuScrolled:function(){return this.$element.hasClass(this.flyClass)},isSearchActive:function(){return this.$element.find(".secondary_main-menu__item__link.search").hasClass("search-active")},isHamburgerOpened:function(){return this.$element.find(".navigation__toggle").hasClass("navigation__toggle_mod1")},getMinStickyIndent:function(){var a=this.element.find(".main-menu").outerHeight();return $("body").hasClass("leaderboard-live")&&$("#leaderBoardTicker").length>0&&(a+=$("#leaderBoardTicker").outerHeight()),a},getOpenedHamburgerHeight:function(){return this.isHamburgerOpened()?this.$element.height()+this.$element.find(".navigation__box").height():0},setInitialClasses:function(){if(this.options.highlightActiveItem){this.$element.find("li.active").addClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS);var a=null,b=this.$element.find("li.sub-main-menu__item_active"),c=this.$element.find("li.sub-main-menu__item__submenu__item_active");if(c.length>0){c.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS).addClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS);var d=c.closest(".sub-main-menu__item_sub");a=c.closest(".main-menu__item_sub"),a.length>0&&a.addClass(this.options.showActivePageSubMenu?usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS:usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS),d.length>0&&d.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS).addClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS)}b.length>0&&(b.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS).addClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS),a=b.closest(".main-menu__item_sub"),a.length>0&&a.addClass(this.options.showActivePageSubMenu?usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS:usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS))}else this.$element.find(".sub-main-menu__item__submenu__item_active, .sub-main-menu__item_active, .active").removeClass("sub-main-menu__item__submenu__item_active").removeClass("sub-main-menu__item_active").removeClass("active")},layoutMenuItems:function(){if(this.toggleFlyMode(),usga.supports.touch&&(this.closeMoreMenu(),this.closeSubMenus(!0,!0),this.closeSecondarySubmenus(),this.removeActiveStateFromMenuItemsOnFirstLevel(),this.highlightActivePageMenuItem(),this.showActivePageSubMenu()),this.isSmallScreen()||!usga.supports.touch&&this.isHamburgerOpened()&&this.getOpenedHamburgerHeight()<$(window).height()&&this.closeHamburgerMenu(),!this.isSmallScreen()&&!this.isMediumScreen()){var a=[],b=!1,c=parseInt(this.$mainMenuContainer.css("padding-left")),d=this.$mainMenuContainer.width(),e=null;if(this.$dropdown.addClass("hide"),this.restoreMainMenuItems(),this.$dropdown.find("ul:first li:first").siblings().addBack().remove(),e=this.$mainMenu.find(">li").not(".main-menu__dropdown"),e.each(function(){var a=$(this);return a.position().left-c+a.width()>d?(b=!0,!1):void 0}),b){this.$dropdown.removeClass("hide");var f=this.$dropdown.find(">a").width();this.$mainMenu.append(this.$dropdown.find("ul>li")),e=this.$mainMenu.find(">li").not(".main-menu__dropdown"),e.each(function(){var b=$(this);b.position().left-c+b.width()>d-f&&a.push(this)})}if(a.length>0){var g=$(a);this.backupMainMenuItems(g),this.$dropdown.find(">ul").empty().append(g),g.filter(".main-menu__item_sub").each(function(){$(this).find("a:first")[0].href="#",$(this).find(".sub-main-menu__item_sub").each(function(){$(this).find("a:first")[0].href="#"})}),this.$dropdown.find(".active").each(function(){$(this).removeClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS)}),this.$dropdown.hasClass("mouse-on")&&this.$dropdown.addClass("open")}else this.$dropdown.addClass("hide");var h=this.$element.find("ul:first li:first").siblings("li").addBack().filter(".main-menu__item_sub."+usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS+":not(.main-menu__dropdown)");0!==h.length&&this.putSubMenuItemsToSubMoreMenu(h),this.isSmallScreen()||this.isMainMenuScrolled()||this.hasActiveMainMenuItem()||this.hasHoveringMenuItemOnFirstLevel()||(this.highlightActivePageMenuItem(),this.showActivePageSubMenu())}},toggleOverlay:function(a){var b=$("body > .nav-overlay");b.length||(b=$('<div class="nav-overlay"></div>').toggleClass("visible",!1),$("body").append(b)),b.toggleClass("visible",a)},toggleFlyMode:function(){if(!this.isSmallScreen()&&!this.isMediumScreen()&&this.options.sticky){var a=this.isFlyPosition();this.menuTimeout&&(clearTimeout(this.menuTimeout),this.menuTimeout=void 0),a?(this.$element.addClass(this.flyClass),$("body").addClass("scroll")):a||(this.$element.removeClass(this.flyClass),$("body").removeClass("scroll"),this.hasActiveMainMenuItem()||this.hasHoveringMenuItemOnFirstLevel()||(this.highlightActivePageMenuItem(),this.showActivePageSubMenu()))}},toggleNavigationBox:function(a){var b=a.hasClass("search-active"),c=!b;this.navSearch.toggleSearch(c),this.toggleOverlay(c),a.removeClass("search-"+(b?"":"in")+"active").addClass("search-"+(c?"":"in")+"active"),this.$element.find(".navigation__box").removeClass("active"),this.$element.find(".navigation__toggle").removeClass("navigation__toggle_mod1"),this.$element.removeClass("hamburger-mode")},setMouseHoverState:function(a,b){usga.supports.touch||(this.$element.find("mouse-on").removeClass("mouse-on"),a.toggleClass("mouse-on",b))},removeActiveStateFromMenuItemsOnFirstLevel:function(){this.$element.find(".main-menu__inner > li.main-menu__item").removeClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS)},highlightActivePageMenuItem:function(){if(!this.isHamburgerOpened()){var a=this.findActivePageMenuItem(!0);a.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS),this.isPageHasLiveLeaderboardTicker()&&(a=this.findActivePageMenuItem(!0,":not(.sub-main-menu__item_sub)"),a.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS))}},unhighlightActivePageMenuItem:function(){this.$element.find(".main-menu__inner > li."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS).removeClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS)},findActivePageMenuItem:function(a,b){var c=this.$element.find("."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS+(b?b:""));return a&&this.isMoreMenu(c)?$([]):c[0]?$(c[0]):c},showActivePageSubMenu:function(){if(0!==this.$element.find("."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS).length){if(!this.isHamburgerOpened()&&!this.isSearchActive()&&!this.isMainMenuScrolled()&&this.options.showActivePageSubMenu){var a=this.$element.find("."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS+":not(.sub-main-menu__item_sub):first");this.closeSubMenus(!0),a.addClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS),this.isMoreMenu(a)||this.isHamburgerOpened()||this.putSubMenuItemsToSubMoreMenu(a)}this.isHamburgerOpened()&&this.$element.find(".sub-main-menu__item_sub."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS).addClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS)}},hideActivePageSubMenu:function(){this.$element.find("."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS).removeClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS)},updateMenuItemsAccordingToAuthorizationState:function(){a().done(this.proxy(function(a){var b=this.$element.find(".sub-main-menu__item__submenu__item:has(a[data-role])"),c=usga.isObject(a)&&a.autorenew;this.$element.toggleClass("login",usga.Gigya.isLoggedIn()),b.toggle(!1),!usga.Gigya.isLoggedIn()||usga.Gigya.isFan()||usga.Gigya.isProspect()?b.filter(":has([data-role~=default])").toggle(!0):c?b.filter(":has([data-role~=user-has-autorenew])").toggle(!0):usga.Gigya.isExpiringFederatedUserWithinRenewalWindow()||usga.Gigya.isExpiredFederatedUser()?b.filter(":has([data-role~=expired-federated]), :has([data-role~=expiring-federated-within-renewal-window])").toggle(!0):usga.Gigya.isLapsedFederatedUser()?b.filter(":has([data-role~=lapsed-federated])").toggle(!0):usga.Gigya.isFederatedUserOutsideRenewalWindow()&&b.filter(":has([data-role~=federated-outside-renewal-window])").toggle(!0)}))},invokeAction:function(a){if(this.isGigyaAction(a)){var b=usga.Gigya,c={"sign-in":"login","sign-up":"register"},d=b[a]||b[c[a]];d&&d.apply(b)}},putSubMenuItemsToSubMoreMenu:function(a){var b,c,d,e=a.find(".sub-main-menu__inner:first"),f=Math.floor(e.width()),g=a.find(".sub-main-menu__more-menu");if(e.css("whiteSpace","nowrap"),0===g.length&&(g=this.createSubMoreMenu(),e.append(g)),b=g.find(".sub-main-menu__item__submenu"),this.restoreSubMenuItems(a),b.find("li:first").siblings().addBack().remove(),g.css("visibility","hidden"),c=g.outerWidth(!0),d=e.find("li:first").siblings(":not(.sub-main-menu__more-menu)").addBack(),this.isSubMoreMenuApplicable(f,d)){for(var h,i,j=f-c,k=0,l=d.length,m=0;l>k;k++){var n=$(d[k]);if(m+=Math.ceil(n.outerWidth(!0)),m>j){i=k;break}}i&&(h=d.filter(":gt("+(i-1)+")"),this.backupSubMenuItems(a,h),b.append(h),b.find("li:first").siblings().addBack().each(function(){var a=$(this).hasClass("sub-main-menu__item_sub");a&&$(this).find("a:first").attr("href","#").prop("href","#"),$(this).removeClass().addClass("sub-main-menu__item"),a&&$(this).addClass("sub-main-menu__item_sub"),$(this).find("a:first").removeClass().addClass("sub-main-menu__item__link")}),g.css("visibility",""))}else g.remove()},backupSubMenuItems:function(a,b){var c=b.clone(!0,!0);a.data("cloned-items",c)},restoreSubMenuItems:function(a){var b=a.find(".sub-main-menu__more-menu"),c=a.data("cloned-items");c&&(b.length>0?b.before(c):a.find(".sub-main-menu__inner:first").append(c)),a.data("cloned-items",null)},createSubMoreMenu:function(){var a=$("<li/>").addClass("sub-main-menu__item").addClass("sub-main-menu__item_sub").addClass("sub-main-menu__more-menu");return a.append($("<a />").addClass("sub-main-menu__item__link sub-main-menu__item__link__more-menu").prop("href","#").html("More")),a.append($("<ul />").addClass("sub-main-menu__item__submenu")),a},getSubMoreMenu:function(a){var b=a.is(".sub-main-menu__more-menu")?a:void 0;return b||(b=a.closest(".sub-main-menu__more-menu").first()),b},openHamburgerMenu:function(){this.$element.toggleClass("hamburger-mode",!0),this.$element.find(".navigation__box").toggleClass("active",!0),$el.toggleClass("navigation__toggle_mod1",!0)},closeHamburgerMenu:function(){this.$element.find(".navigation__toggle").removeClass("navigation__toggle_mod1"),this.$element.find(".navigation__box").removeClass("active"),this.$element.removeClass("hamburger-mode"),this.toggleOverlay(this.isSearchActive())},showSubMenu:function(a,b){if(this.isMoreMenu(a))this.closeMoreMenuSubMenus(a);else if(this.closeMoreMenu(),b&&this.isSubMenu($(b.target))){var c=this.getSubMenu($(b.target)),d=c.closest(".sub-main-menu__more-menu"),e="submenu-"+(new Date).valueOf();c.addClass(e),d.addClass(e),this.closeSubMenus(this.isMoreMenu(a),!1,"."+e),c.removeClass(e),d.removeClass(e)}else this.closeSubMenus(this.isMoreMenu(a),!1);this.removeActiveStateFromMenuItemsOnFirstLevel(),a.addClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS),this.isMoreMenu($(b.target))||this.isSubMoreMenu($(b.target))||this.inSubMoreMenu($(b.target))||this.isHamburgerOpened()||this.putSubMenuItemsToSubMoreMenu(a),a.hasClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_MENU_ITEM_CLASS)||this.unhighlightActivePageMenuItem(),a.hasClass(usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS)||this.hideActivePageSubMenu()},closeSubMenus:function(a,b,c){this.$mainMenu.find("."+usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS+(a&&!b?":not(."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS+")":"")).removeClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS),this.$mainMenu.find("."+usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS+c?":not("+c+")":"").removeClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS),a||(this.highlightActivePageMenuItem(),this.showActivePageSubMenu())},getSubMenu:function(a){var b=a.is(".sub-main-menu__item_sub")?a:void 0;return b||(b=a.closest(".sub-main-menu__item_sub").first()),b},showSecondarySubmenu:function(a){this.closeSecondarySubmenus(),a.toggleClass("secondary_main-menu__item_sub_mod1",!0)},closeSecondarySubmenus:function(){this.secondarySubMenuTimer&&(clearInterval(this.secondarySubMenuTimer),this.secondarySubMenuTimer=null),this.$secondaryMenu.find(".secondary_main-menu__item_sub").toggleClass("secondary_main-menu__item_sub_mod1",!1)},toggleTertiaryMenu:function(a,b,c){b.preventDefault(),a.hasClass("sub-main-menu__more-menu")&&a.find("."+usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS).removeClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS),c&&a.siblings("."+usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS).removeClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS),a.toggleClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS,c)},openMoreMenu:function(a,b){a.find(".sub-main-menu__inner").css("whiteSpace",""),a.addClass("open"),this.onMoreMenuOpen(a,b)},closeMoreMenu:function(a,b){this.$dropdown.removeClass("open"),this.highlightActivePageMenuItem(),this.showActivePageSubMenu()},backupMainMenuItems:function(a){var b=this.$element.find("ul:first"),c=a.clone();b.data("cloned-items",c)},restoreMainMenuItems:function(){var a=this.$element.find("ul:first"),b=a.data("cloned-items");b&&this.$dropdown.before(b),a.data("cloned-items",null)},openActivePageItemSubmenuInMoreMenu:function(a,b){a.find("."+usga.Navigation.MAIN_MENU_ACTIVE_PAGE_ITEM_SUBMENU_CLASS).addClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS)},closeMoreMenuSubMenus:function(a){this.$dropdown.find("."+usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS).removeClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS),a&&a.find("."+usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS).removeClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS)},removeActiveStateFromMenuItemsInMoreMenu:function(){var a=this.$dropdown.find(".main-menu__dropdown_menu > li");a.filter("."+usga.Navigation.MAIN_MENU_ACTIVE_CLASS).removeClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS),a.filter("."+usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS).removeClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS)},checkDoubleTap:function(a){var b,c;if(this._elementUidTap||(this._elementUidTap=1),a.data("element-uid-tap")||(a.data("element-uid-tap",this._elementUidTap),this._elementUidTap++),b=a.data("element-uid-tap"),c="_lastTap"+b,usga.supports.touch){if(this[c]&&(new Date).valueOf()-this[c]<=600)return!0;this[c]=(new Date).valueOf()}return!1},onDocumentReady:function(){var a=this.$element.next(".navigation-spacer");this.options.sticky?(a.length||(a=$('<div class="navigation-spacer"></div>').insertAfter(this.$element)),(this.options.cover||$("body > .wrapper").hasClass("top-nav-overflow"))&&a.addClass("navigation-spacer_cover")):a.remove(),usga.Gigya.onUser(this.proxy(this.updateMenuItemsAccordingToAuthorizationState)),this.layoutMenuItems(),this.$element.addClass(usga.Navigation.MAIN_MENU_ANIMATABLE_CLASS)},onWindowLoad:function(){this.layoutMenuItems()},onGigyaActionsReady:function(){this.invokableAction&&(this.invokeAction(this.invokableAction),this.invokableAction=!1)},onWindowScroll:function(){usga.device.touch&&this.options.sticky&&this.isFlyPosition()?(this.closeSubMenus(!0,!0),this.closeMoreMenu()):this.isSmallScreen()||this.isMediumScreen()||this.options.sticky&&(this.toggleFlyMode(),this.isFlyPosition()&&!this.hasHoveringMenuItemOnFirstLevel()&&(this.unhighlightActivePageMenuItem(),this.hideActivePageSubMenu())),this.menuTimeout&&(clearTimeout(this.menuTimeout),this.menuTimeout=void 0),this.menuTimeout=window.setTimeout(this.proxy(function(){clearTimeout(this.menuTimeout),this.menuTimeout=void 0,this.layoutMenuItems()}),this.menuLayoutDelay)},onWindowResize:function(){this.resizeTimeOut&&(window.clearTimeout(this.resizeTimeOut),this.resizeTimeOut=null),this.resizeTimeOut=window.setTimeout($.proxy(this.layoutMenuItems,this),this.menuLayoutDelay)},onMoreMenuOpen:function(a,b,c){this.unhighlightActivePageMenuItem(),this.hideActivePageSubMenu(),c||this.openActivePageItemSubmenuInMoreMenu(a,b)},onOutsideClick:function(a){0!==$(a.target).closest(".navigation__box").length||$(a.target).is(".navigation__box")||this.$element.hasClass("hamburger-mode")||(this.removeActiveStateFromMenuItemsInMoreMenu(),this.closeSubMenus(),this.closeMoreMenu(this.$dropdown)),$(a.target).is(".nav-overlay")&&this.isHamburgerOpened()&&this.closeHamburgerMenu()},onSubMenuItemWithSubMenuClick:function(a,b){$(b.target);if(a.hasClass("sub-main-menu__item_sub")){if(!usga.supports.touch&&this.hasLink(a))return!0;if(this.checkDoubleTap(a))return!0;this.toggleTertiaryMenu(a,b,!a.hasClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS))}},onSubMenuItemWithSubMenuHover:function(a,b,c){return this.isHamburgerOpened()||this.isMoreMenu($(c.target))?!0:void(b.hasClass("sub-main-menu__item_sub")&&this.toggleTertiaryMenu(b,c,a))},".navigation__toggle click":function(a){var b=!a.hasClass("navigation__toggle_mod1");if(b){this.$element.removeClass(this.flyClass);var c=this.$element.find("ul:first li:first").siblings("li").addBack().filter(".main-menu__item_sub:not(.main-menu__dropdown)");0!==c.length&&c.each(this.proxy(function(a,b){this.restoreSubMenuItems($(b)),$(b).find(".sub-main-menu__more-menu").remove()}))}this.closeSecondarySubmenus(),this.removeActiveStateFromMenuItemsInMoreMenu(),this.restoreMainMenuItems(),this.$dropdown.find("ul:first li:first").siblings().addBack().remove(),this.$element.find(".sub-main-menu__more-menu").remove(),this.$element.toggleClass("hamburger-mode",b),this.$element.find(".navigation__box").toggleClass("active",b),a.toggleClass("navigation__toggle_mod1",b),this.highlightActivePageMenuItem(),this.showActivePageSubMenu(),this.toggleOverlay(this.$element.hasClass("hamburger-mode")),this.element.find(".navigation__search").removeClass("search-active").addClass("search-inactive"),this.element.find(".secondary_main-menu__item__link.search").removeClass("search-active").addClass("search-inactive"),this.navSearch.toggleSearch(!1),b||this.layoutMenuItems()},"a[data-action] click":function(a,b){var c=$(b.currentTarget).data("action");b.preventDefault(),!this.isGigyaAction(c)||usga.Gigya.isReady()?this.invokeAction(c):this.invokableAction=c},".navigation__search click":function(a,b){this.element.find(".secondary_main-menu__item__link.search").removeClass("search-inactive").addClass("search-active"),this.toggleNavigationBox(a)},".main-menu__item__link click":function(a,b){var c=a.parent();return this.isSubMenuItem(c)&&this.checkDoubleTap(a)?!0:void(this.isSubMenuItem(c)&&(usga.supports.touch||!this.hasLink(a)||this.isHamburgerOpened())&&(b.preventDefault(),(this.isSmallScreen()||this.isMediumScreen())&&(this.closeSecondarySubmenus(),b.preventDefault()),!this.isHamburgerOpened()||!usga.device.ios&&!usga.device.android||this.isSmallScreen()||this.isMediumScreen()||(b.preventDefault(),this.$mainMenu.find(".sub-main-menu__item__submenu").removeClass(usga.Navigation.SUB_MAIN_MENU_SUB_VISIBLE_CLASS)),c.hasClass(usga.Navigation.MAIN_MENU_SUB_VISIBLE_CLASS)?(usga.supports.touch&&this.removeActiveStateFromMenuItemsOnFirstLevel(),this.isMoreMenu(a)?this.closeSubMenus(!0,!0):this.closeSubMenus(!usga.supports.touch)):this.showSubMenu(c,b)))},".main-menu__inner > li.main-menu__item:not(.main-menu__item_sub) mouseenter":function(a,b){this.setMouseHoverState(a,!0),this.isSmallScreen()||this.isMediumScreen()||this.isMoreMenu($(b.target))||0!==$(b.target).closest(".main-menu__item_sub").length||(this.subMenuTimer&&(clearInterval(this.subMenuTimer),this.subMenuTimer=null),this.closeMoreMenu(),this.closeSubMenus(),this.removeActiveStateFromMenuItemsOnFirstLevel(),this.hideActivePageSubMenu(),this.unhighlightActivePageMenuItem(),a.hasClass("main-menu__dropdown")||a.hasClass("main-menu__item_sub")||a.addClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS))},".main-menu__item:not(.main-menu__item_sub).active mouseleave":function(a,b){this.setMouseHoverState(a,!1),this.isSmallScreen()||this.isMoreMenu($(b.target))||0!==$(b.target).closest(".main-menu__item_sub").length||(a.removeClass(usga.Navigation.MAIN_MENU_ACTIVE_CLASS),this.highlightActivePageMenuItem(),this.showActivePageSubMenu())},".main-menu__item_sub mouseenter":function(a,b){if(this.setMouseHoverState(a,!0),!(this.isSmallScreen()||this.isMediumScreen()||this.isMoreMenu($(b.target))||this.inSubMoreMenu($(b.target)))){if(this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null),usga.device.ios||usga.device.android)return;this.subMenuTimer&&(clearInterval(this.subMenuTimer),this.subMenuTimer=null),this.showSubMenu(a,b)}},".main-menu__item_sub mouseleave":function(a,b){if(this.setMouseHoverState(a,!1),!this.isSmallScreen()&&!this.isMediumScreen()&&!this.isMoreMenu($(b.target))){if(this.subMenuTimer&&(clearInterval(this.subMenuTimer),this.subMenuTimer=null),usga.device.ios||usga.device.android)return;this.subMenuTimer=setTimeout(this.proxy(this.closeSubMenus),this.isMoreMenu($(b.relatedTarget))?this.options.submenuDissapearDelay:this.options.moreMenuDissapearDelay)}},".sub-main-menu__item mouseenter":function(a,b){this.subMenuTimer&&(clearTimeout(this.subMenuTimer),this.subMenuTimer=null),a.is(".sub-main-menu__item_sub")&&!this.inSubMoreMenu($(b.target))&&(this.onSubMenuItemWithSubMenuHover(!0,a,b),b.stopPropagation())},".sub-main-menu__item mouseleave":function(a,b){a.is(".sub-main-menu__item_sub")&&!this.inSubMoreMenu($(b.target))&&(this.subMenuTimer&&(clearTimeout(this.subMenuTimer),this.subMenuTimer=null),this.subMenuTimer=setTimeout(this.proxy(function(){
this.onSubMenuItemWithSubMenuHover(!1,a,b)}),this.options.submenuDissapearDelay))},".sub-main-menu__item click":function(a,b){var c=$(b.target);c.is("li.sub-main-menu__item__submenu__item")||c.is("a.sub-main-menu__item__submenu__item__link")||(this.onSubMenuItemWithSubMenuClick(a,b),b.stopPropagation())},".main-menu__dropdown-toggle click":function(a,b){var c=a.parent();b.preventDefault(),this.closeSubMenus(!0,!0),c.hasClass("open")?this.closeMoreMenu():this.openMoreMenu(c,b)},".main-menu__dropdown mouseenter":function(a,b){if(this.setMouseHoverState(a,!0),this.subMenuTimer&&clearTimeout(this.subMenuTimer),this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null),!usga.device.ios&&!usga.device.android){var c=$(b.target),d=a.hasClass("open");a.find(".sub-main-menu__inner").css("whiteSpace",""),a.addClass("open"),a.find(".sub-main-menu__more-menu").remove(),this.isMoreMenu(c)&&(c.hasClass("main-menu__item_sub")||c.closest(".main-menu__item_sub").length>0)||(this.closeSubMenus(!0),this.closeMoreMenuSubMenus()),this.onMoreMenuOpen(a,b,d)}},".main-menu__dropdown mouseleave":function(a,b){if(this.setMouseHoverState(a,!1),!usga.device.ios&&!usga.device.android){this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null);var c=this.options.submenuDissapearDelay;this.isMoreMenu($(b.relatedTarget))||(c=this.options.moreMenuDissapearDelay),this.moreMenuTimer=setTimeout(this.proxy(function(){a.removeClass("open"),this.closeSubMenus()}),c)}},".main-menu__dropdown .main-menu__item mouseenter":function(a,b){this.isMoreMenu($(b.target))&&this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null)},".main-menu__dropdown .main-menu__item_sub mouseleave":function(a,b){this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null);var c=this.options.submenuDissapearDelay;this.isMoreMenu($(b.relatedTarget))||(c=this.options.moreMenuDissapearDelay),this.moreMenuTimer=setTimeout(this.proxy(this.closeSubMenus),c)},".secondary_main-menu__item__link click":function(a){var b=a.parent(),c=!1;b.hasClass("secondary_main-menu__item_sub")&&(this.isSmallScreen()||this.isMediumScreen())&&(c=!b.hasClass("secondary_main-menu__item_sub_mod1"),this.closeSubMenus(!0,!0),this.closeSecondarySubmenus(),b.toggleClass("secondary_main-menu__item_sub_mod1",c))},".secondary_main-menu__item_sub mouseenter":function(a){this.isSmallScreen()||this.isMediumScreen()||this.isSearchActive()||this.showSecondarySubmenu(a)},".secondary_main-menu__item_sub mouseleave":function(a,b){if(!this.isSmallScreen()&&!this.isMediumScreen()&&!this.isSearchActive())if(this.secondarySubMenuTimer)this.closeSecondarySubmenus();else{var c=this.options.submenuDissapearDelay;this.secondarySubMenuTimer=setTimeout(this.proxy(this.closeSecondarySubmenus),c)}},".secondary_main-menu__item_sub .secondary_main-menu__item__submenu:first mouseenter":function(a){this.isSmallScreen()||this.isMediumScreen()||this.isSearchActive()||this.showSecondarySubmenu(a.closest(".secondary_main-menu__item_sub"))},".secondary_main-menu__item_sub .secondary_main-menu__item__submenu:first mouseleave":function(a){if(!this.isSmallScreen()&&!this.isMediumScreen()&&!this.isSearchActive())if(this.secondarySubMenuTimer)this.closeSecondarySubmenus();else{var b=a.find(".secondary_main-menu__item__submenu:gt(0)")[0]?this.options.submenuDissapearDelay:10;this.secondarySubMenuTimer=setTimeout(this.proxy(this.closeSecondarySubmenus),b)}},".secondary_main-menu__item__link.search click":function(a,b){var c=this.isHamburgerOpened();this.closeSubMenus(),this.closeSecondarySubmenus(),this.element.find(".navigation__search").removeClass("search-inactive").addClass("search-active"),this.toggleNavigationBox(a),c&&usga.scrollTo(this.$element),this.moreMenuTimer&&(clearTimeout(this.moreMenuTimer),this.moreMenuTimer=null),a.hasClass("search-active")?this.hideActivePageSubMenu():this.showActivePageSubMenu()}})}(),usga.Promo=usga.BaseCloudinaryModule.extend({onFirstShow:function(){this.isSmallScreen()||this._super()},onLayout:function(){this.isSmallScreen()||this._super()}}),usga.Registration=usga.BaseModule.extend({onDocumentReady:function(){this.$element.find(".registration__header__dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})}}),usga.ReigningChampions=usga.VariableSlider.extend({sliderSelector:".reigning-champions__slider",getSliderConfig:function(){this.getScreenSize();if(this.isSmallScreen()||this.isMediumScreen())return null;var a={infiniteLoop:!1,hideControlOnEnd:!0,minSlides:3,maxSlides:3,slideWidth:this.mediumMaxWidth-8,slideMargin:30,adaptiveHeight:!0};return this.isBigScreen()&&(a.minSlides=2,a.maxSlides=2),a},getCloudinaryLogoConfig:function(){return{crop:"fit",height:80}},getCloudinaryPhotosConfig:function(){var a={crop:"fill",width:370,height:208},b=this.getScreenSize();switch(b){case"big":a.width=443,a.height=249;break;case"medium":a.width=740,a.height=416;break;case"small":a.width=460,a.height=258}return a},showNextItems:function(){var a=this.$element.find("li:hidden:first");a.length&&a.show(),this.$element.find("li:hidden").length?this.moreButton.show():this.moreButton.hide()},onFirstShow:function(){this._super(),this.moreButton=this.$element.find(".show-more__button"),this.isSmallScreen()||this.isMediumScreen()?(this.$element.find("li").hide(),this.showNextItems()):this.moreButton.hide()},onLayout:function(a){this.isSmallScreen()||this.isMediumScreen()||(this.$element.find("li").show(),this.moreButton.hide()),this._super()},".show-more__button click":function(a){this.showNextItems()}}),usga.RulesResources=usga.BaseModule.extend({initSlider:function(){this.slider=this.$element.find(".resources__slider").bxSlider({controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideWidth:this.mediumMaxWidth-8,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch})},onDocumentReady:function(){this.onLayout()},onLayout:function(){(this.isBiggerScreen()||this.isInfinityScreen())&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBiggerScreen()||this.isInfinityScreen()||this.slider||this.initSlider()}});var usga=window.usga||{};usga.RuleBook=usga.BaseCloudinaryModule.extend({context:null,helpers:null,onDocumentReady:function(){var a=this;this.rulesOrder=[],this.previousRuleId="",this.nextRuleId="",this.options.urlMatches?this.urlMatches=this.options.urlMatches:this.urlMatches={ids:["14252","14253","14322","14323","14324","21474844050","14325","14326"],aliases:["etiquette","definitions","appendix-i","appendix-ii","appendix-iii","appendix-iv","amateur-status","gambling"]},this.options.decisions&&(this.decisions=this.options.decisions),this.options.currentSelectedRule?this.currentSelectedRule=this.options.currentSelectedRule:this.currentSelectedRule="01",this.viewMode="rule",this.skipUrlSet=!1,this.context=new can.Map(this.options),this.readHash(),this.initialHash=window.location.hash,this.firstLoad=!0,this.helpers={addNavId:function(b){a.rulesOrder.push(b())},rendered:function(){return function(b){setTimeout(function(){a.$element.find(".rule-book__side__item__box__list__block__item .numeric a").each(function(){var b=$(this),c=b.attr("href");b.attr("href",a.hrefToHash(c)),b.attr("target",""),b.click(function(){var b=c.indexOf("#");return b>0&&(a.iframeHash=c.substring(b)),a.$element.find(".contentIframe").attr("src",c),a.hashAlreadySet=!1,a.setHash(),a.scrollIntoFrameHeader(),!1})}),a.selectRule(a.currentSelectedRule,a.viewMode),!a.mobileCheck()&&a.initialHash&&a.scrollIntoFrameHeader()},500)}}},$.getJSON(this.options.feedUrl,this.proxy(this.onFeedLoaded)),this.$element.find(".contentIframe").load(function(){return a.iFrameChanged(this.contentWindow.location),!1}),$(".search .search__button").click(function(){var a=encodeURIComponent($(".search .search__input").val());a&&(document.location="/search-results.html#q="+a+"&type=rules")})},hrefToHash:function(a){return"#!"+a.replace(this.context.baseUrl,"").replace("#",",").replace(".html","")},readHash:function(){if(d=window.location.hash,this.iframeHash="",d){var a=d.split(",");d=a[0],a.length>1&&(this.iframeHash="#"+a[1])}var b=new RegExp("([a-z]+)-([0-9]+)"),c=b.exec(d);if(null===c){if(d&&d.length<3)return;for(var d=d.substring(2),e=0;e<this.urlMatches.aliases.length;e++)if(d==this.urlMatches.aliases[e]){c=[],c[1]="rule",c[2]=this.urlMatches.ids[e];break}if(null===c)return}("rule"==c[1]||"decision"==c[1])&&(this.viewMode=c[1],this.currentSelectedRule=c[2])},setHash:function(){if(!this.hashAlreadySet){if(this.hashAlreadySet=!0,this.iframeHashComa=this.iframeHash.replace("#",","),this.currentSelectedRule.length<3)return window.location.hash="#!"+this.viewMode+"-"+this.currentSelectedRule+this.iframeHashComa,void(this.iframeHash="");for(var a=0;a<this.urlMatches.ids.length;a++)if(this.currentSelectedRule==this.urlMatches.ids[a])return window.location.hash="#!"+this.urlMatches.aliases[a]+this.iframeHashComa,void(this.iframeHash="");window.location.hash="#!"+this.viewMode+"-"+this.currentSelectedRule+this.iframeHashComa.replace("#",","),this.iframeHash=""}},onFeedLoaded:function(a){this.context.attr("sections",a.sections),this.context.baseUrl=this.options.baseUrl;var b=can.view("#ruleBookNavListTemplate",this.context,this.helpers);this.$element.find(".rule-book__side").empty().append(b)},".ruleLinkDiv a click":function(){return this.showRule()},".decisionLinkDiv a click":function(){return this.showDecision()},".previousLink click":function(){if(""!==this.previousRuleId){if("decision"==this.viewMode&&this.previousRuleId>100)return!1;this.selectRule(this.previousRuleId,this.viewMode)}return!1},".nextLink click":function(){if(""!==this.nextRuleId){if("decision"==this.viewMode&&this.nextRuleId>100)return!1;this.selectRule(this.nextRuleId,this.viewMode)}return!1},".rule-book__side__item__box__list__link click":function(a){var b=a.attr("itemId");this.selectRule(b,"rule"),b.length>2&&this.scrollIntoFrameHeader()},mobileCheck:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},scrollIntoFrameHeader:function(){this.mobileCheck()?window.scrollBy(0,-100):(document.getElementById("ruleLink").scrollIntoView(),window.scrollBy(0,-70-($("#leaderBoardTicker").is(":visible")?61:0)))},iFrameChanged:function(a){var b=this;!(a.href.indexOf("#")>=0)&&this.mobileCheck()||b.firstTimeLoadNoHash()||this.scrollIntoFrameHeader(),b.firstLoad=!1;var c=this.$element.find(".contentIframe").contents().find("a");c.each(function(){if(this.href.indexOf("#")>=0){var a=$(this);a.attr("onclick",'document.location="'+this.href+'";return false;');var c=this.href.split("/");this.href="http://"+window.location.hostname+window.location.pathname+b.hrefToHash(c[c.length-1])}}),c.bind("click",function(a){setTimeout(function(){b.scrollIntoFrameHeader()},200)});var d=new RegExp("([a-z]+)-([0-9]+)"),e=d.exec(a);if(null!==e&&!("rule"!=e[1]&&"decision"!=e[1]||e[2]==this.currentSelectedRule&&e[1]==this.viewMode)){if(this.skipUrlSet=!0,this.selectRule(e[2],e[1]),this.mobileCheck())return;var f=this.$element.find("."+e[1]+e[2]+"Navigation");this.scrollRightMenu(f)}},loadContent:function(){var a="";a=this.currentSelectedRule.length<2?"0"+this.currentSelectedRule:this.currentSelectedRule,this.$element.find(".contentIframe").attr("src",this.options.baseUrl+this.viewMode+"-"+a+".html"+this.iframeHash),this.setHash()},showDecision:function(){return this.isDecisionExists()?(this.viewMode="decision",this.loadContent(),this.$element.find(".decisionLinkDiv").addClass("active"),this.$element.find(".ruleLinkDiv").removeClass("active"),this.collapseEntry(this.currentSelectedRule,"rule"),this.expandEntry(this.currentSelectedRule,"decision"),!1):!1},showRule:function(){this.$element.find(".ruleLinkDiv").addClass("active");var a=this.$element.find(".decisionLinkDiv");return a.removeClass("active"),this.collapseEntry(this.currentSelectedRule,"decision"),this.expandEntry(this.currentSelectedRule,"rule"),this.isDecisionExists()?a.show():a.hide(),this.viewMode="rule",this.skipUrlSet||this.loadContent(),this.skipUrlSet=!1,!1},isDecisionExists:function(){return this.decisions?-1!=this.decisions.indexOf(parseFloat(this.currentSelectedRule)):this.currentSelectedRule<100},selectRule:function(a,b){return this.collapseEntry(this.currentSelectedRule,"rule"),this.collapseEntry(this.currentSelectedRule,"decision"),this.currentSelectedRule=a,this.hashAlreadySet=!1,"rule"==b?this.showRule():this.showDecision(),this.retrieveNextPreviousValues(),this.setHash(),!1},firstTimeLoadNoHash:function(){return this.firstLoad&&!this.initialHash},expandEntry:function(a,b){var c=this.$element.find("."+b+a+"Navigation");c.removeClass("off"),this.$element.find(".rule"+a+"Title").addClass("off"),this.mobileCheck()||this.firstTimeLoadNoHash()||this.scrollRightMenu(c)},scrollRightMenu:function(a){var b=this.$element.find(".rule-book__side");b.scrollTop(b.scrollTop()+a.position().top-20)},collapseEntry:function(a,b){this.$element.find("."+b+a+"Navigation").addClass("off"),this.$element.find(".rule"+a+"Title").removeClass("off")},retrieveNextPreviousValues:function(){for(i=0;i<this.rulesOrder.length;i++)this.rulesOrder[i]==this.currentSelectedRule&&(i>0?this.previousRuleId=this.rulesOrder[i-1]:this.previousRuleId="",i<this.rulesOrder.length-1?this.nextRuleId=this.rulesOrder[i+1]:this.nextRuleId="")}});var usga=window.usga||{};usga.ScheduleCompetitions=usga.BaseCloudinaryModule.extend({context:null,helpers:null,onDocumentReady:function(){this.tabControl=new usga.Tabs(this.$element.find(".tabbable")),this.tabControl.bind("onTabChanged",this.proxy(this.onTabChanged));this.context=new can.Map($.extend({items:[],sortBy:"date",sortOrder:{date:"asc",name:"asc"}},this.options)),this.helpers={range:function(a){var b=usga.getMomentInNewYorkTimezone(a.context.startDate),c=usga.getMomentInNewYorkTimezone(a.context.endDate);return b.format("MMM D")+(a.context.oneDayEvent?"":"-"+c.format((b.month()!=c.month()?"MMM ":"")+"D"))},iconClass:function(a,b){var c=a.context.cssClass;return c&&(c=can.hyphenate(c.charAt(0).toLowerCase()+c.substring(1))+"__icon"),c}};var a=this.options.feedUrl+"."+this.options.defaultYear+"-01-01."+this.options.defaultYear+"-12-31."+this.options.eventsType+this.options.feedSuffix;$.getJSON(a,this.proxy(this.onFeedLoaded,this.options.defaultYear))},onFeedLoaded:function(a,b){can.batch.start();var c=b&&b.items?b.items:[];this.context.items.replace(c),this.sortItems();var d=can.view("#scheduleCompetitionEventsTemplate",this.context,this.helpers),e=this.$element.find("div#tab"+a+" .block-schedule-competitions__envelope");e.empty().append(d),can.batch.stop(),this.applyCloudinary()},sortItems:function(){var a=this;can.batch.start(),"name"===this.context.sortBy&&a.context.items.sort(this.proxy(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase(),e=0;if(c>d?e=1:d>c&&(e=-1),c===d){var f=usga.getMomentInNewYorkTimezone(a.startDate).valueOf(),g=usga.getMomentInNewYorkTimezone(b.startDate).valueOf();f>g?e=1:g>f&&(e=-1)}return 0!==e&&"desc"===this.context.sortOrder.name&&(e*=-1),e})),"date"===this.context.sortBy&&a.context.items.sort(this.proxy(function(a,b){var c=usga.getMomentInNewYorkTimezone(a.startDate).valueOf(),d=usga.getMomentInNewYorkTimezone(b.startDate).valueOf(),e=0;if(c>d?e=1:d>c&&(e=-1),c===d){var f=a.name.toLowerCase(),g=b.name.toLowerCase();f>g?e=1:g>f&&(e=-1)}return 0!==e&&"desc"===this.context.sortOrder.date&&(e*=-1),e})),this.context.attr("items",this.context.items.slice(0)),can.batch.stop(),this.applyCloudinary()},onTabChanged:function(a,b){var c=b.substr(3);if(c){var d=this.options.feedUrl+"."+c+"-01-01."+c+"-12-31."+this.options.eventsType+this.options.feedSuffix;$.getJSON(d,this.proxy(this.onFeedLoaded,c))}},".cell-more click":function(a){var b=a.closest("div.tr"),c=a.find("span.cell-more__item"),d=b.hasClass("tr_open");d?(b.removeClass("tr_open"),c.text("more")):(b.addClass("tr_open"),c.text("less"))},"a.sort-link click":function(a){var b=a.data("sort-field"),c=a.closest(".thead");if(0!==c.length&&b){var d=this.context.sortOrder&&this.context.sortOrder[b]?this.context.sortOrder[b]:"asc";c.find('.sort-link[data-sort-field!="'+b+'"]').removeClass("sort-asc").removeClass("sort-desc"),(a.hasClass("sort-asc")||a.hasClass("sort-desc"))&&(d="asc"===d?"desc":"asc"),this.context.attr("sortBy",b),this.context.attr("sortOrder."+b,d),a.removeClass("sort-asc").removeClass("sort-desc").addClass("sort-"+d),this.sortItems()}return!1}});var usga=window.usga||{};usga.Schedule=usga.BaseCloudinaryModule.extend({context:null,helpers:null,init:function(){this._super()},onDocumentReady:function(){0===this.$element.closest(".frame").find(".block__social").length&&this.$element.addClass("block-schedule-no-socials"),this.context=new can.Map(this.options),this.helpers={range:function(a){var b=usga.getMomentInNewYorkTimezone(a.context.startDate),c=usga.getMomentInNewYorkTimezone(a.context.endDate);return b.format("MMM D")+(a.context.oneDayEvent?"":"-"+c.format((b.month()!=c.month()?"MMM ":"")+"D"))},iconClass:function(a){var b=a.context.attr("smallBreakpointEventItem.cssClass");return b&&(b=can.hyphenate(b.charAt(0).toLowerCase()+b.substring(1)+"__icon")),b}};var a=can.view("#scheduleItemsTemplate",this.context,this.helpers);this.$element.find(".block-schedule__envelope").append(a),$.getJSON(this.options.feedUrl,this.proxy(this.onFeedLoaded))},onFeedLoaded:function(a){this.context.attr("items",a.items);var b=can.view("#scheduleItemsTemplate",this.context,this.helpers);this.$element.find(".block-schedule__envelope").empty().append(b),this.applyCloudinary(),this.checkItemsVisibility()},onLayout:function(){this.checkItemsVisibility()},checkItemsVisibility:function(){var a=this.$element.find(".block-schedule__envelope"),b=a.find(".block-schedule__envelope__item");if(this.isSmallScreen()||this.isMediumScreen()||this.isBigScreen())b.css("display","");else{var c=a.outerHeight(!0),d=0;b.each(function(){var a=$(this);d+=a.outerHeight(!0),a.toggle(c>=d)})}}}),usga.SearchResults=usga.BaseSearchModule.extend({defaults:{template:"#search-results-template",paginatorTemplate:"#search-paginator-template",limit:10}},{$query:null,isInitialQuery:!1,fullSearchExperience:!0,_queriedPage:0,init:function(a,b){var c=this._getQueriedQuery();this._super(),this._setPaginator(),this._setData(),this.$element.find("> .inner").append(this._renderTemplate()),this.$query=this.$element.find(".search-results__form__field input"),this._setEvents(),c&&(this.$query.val(c),this.context.attr("query",c),this.isInitialQuery=!0,this.search(!0,""===this._getQueriedType())),this.updateTypeList()},_setData:function(){var a=this._getQueriedType();this.context=new can.Map({query:"",typedQuery:"",type:a||"all",results:null,totalResults:0,facetCounts:null,error:null,paginator:new usga.Paginator({limit:this.options.limit})}),this._queriedPage=this._getQueriedPage(),this._queriedPage>1&&this.context.paginator.page(this._queriedPage)},_setPaginator:function(){can.Component.extend({tag:"paginator",template:$(this.options.paginatorTemplate)[0]?can.view(this.options.paginatorTemplate):"",events:{"a[data-page] click":this.proxy(function(a,b){b.preventDefault(),this.context.paginator.page(a.data("page")),this.search(!0,this.fullSearchExperience)}),".results__content__pagination__nav_link click":this.proxy(function(a,b){b.preventDefault(),this.search(!0,this.fullSearchExperience)})}})},_setEvents:function(){this.context.bind("change",this.proxy(function(a,b,c,d,e){"type"===b&&d!==e&&this.onTypeChanged()}))},_isFullSearchExperienceApplicable:function(){return this.fullSearchExperience&&(!this.context.type||"all"===this.context.type)},_getQueriedQuery:function(){var a=usga.url.getHash(),b=a.q?(""+a.q).trim():"";return decodeURIComponent(b)},_getQueriedPage:function(){var a=usga.url.getHash();return a.page?+a.page:0},_getQueriedType:function(){var a=usga.url.getHash(),b=a.type?(""+a.type).trim():"";return b.match(/rules/i)&&(b="rules"),b=-1!==["all","news","videos","photos","rules"].indexOf(b)?b:""},_setError:function(a,b){this.context.attr("error",{title:a,message:b})},onDocumentReady:function(){this.$element.find(".results__content__header__dropdown .dropdown").chosen({disable_search_threshold:10,width:"100%"})},search:function(a,b){this.clearForm(),usga.scrollTo(this.$element.find(".inner:first")),a||this.context.paginator.attr("offset",0);var c=this.context.paginator.page();if(this.fullSearchExperience=!!b,this.context.query){document.location.replace(can.sub("#q={q}{type}{page}",{q:usga.BaseSearchModule.prepareQueryText(this.context.query),type:this.context.type?"&type="+this.context.type:"",page:c?"&page="+c:""}));var d={},e=this.context.query;this.context.type&&"all"!==this.context.type&&(d.contentType=can.capitalize(this.context.type)),this.context.paginator.offset>0&&(d.offset=this.context.paginator.offset),d.hits=this.options.limit,this._makeRequest(e,d).done(this.proxy(function(a){this.isInitialQuery||this._isFullSearchExperienceApplicable()?this._trackDtmFullSearch(e,this._getSearchTotal(a)):this._trackDtmTypedSearch(e,this._getSearchTotal(a),this.context.type),this.isInitialQuery=!1})).done(this.proxy(this.setRenderItems)).done(this.proxy(function(){this.updateProtectedLinks()})).fail(this.proxy(function(a){this._setError("Error",a.statusText)}))}},clearForm:function(){this.context.attr("error",null)},_setupHighlightText:function(a){for(var b=$("<div/>").html(a),c=b.find(':first:not(span[class~="highlight"])');c[0];)c.replaceWith(c.html()),c=b.find(':first:not(span[class~="highlight"])');return b.find('span[class~="highlight"]').each(function(){var a=$(this);a.removeClass().addClass("results__content__list__item__body-highlight"),a.html(usga.stripTags(a.html()))}),b.html()},_prepareRenderItem:function(a){var b=this._super(a,!0);return b.title=this._setupHighlightText(b.title),b.text=this._setupHighlightText(b.text),b},_getSearchTotal:function(a){if(!this.context.type||"all"===this.context.type)return this._getDocumentsCount(a);if(this.context.type){var b=this._getFacetCounts(a);return b[this.context.type]?b[this.context.type].count||0:0}return 0},_getFacetCounts:function(a){var b={};if(usga.isObject(a)&&a.facets)for(var c=0,d=a.facets.length;d>c;c++){var e=a.facets[c];if("contentType"===e.field&&$.isArray(e.buckets))for(var f=$.merge([],e.buckets),g=0,h=f.length;h>g;g++){var i=this._plainDocumentType(f[g].label);i.match(/rules/i)&&(i="rules"),b[i]||(b[i]={count:0,label:f[g].label||"",type:i}),b[i].count+=f[g].count||0}}return $.each(usga.keys(b),function(a,c){c.count&&null!==c.count||delete b[a]}),b},setRenderItems:function(a){var b=this._getDocuments(a),c=[],d={};can.batch.start();for(var e=0,f=b.length;f>e;e++){var g=b[e],h=this._getDocumentType(g),i=h.name;i.match(/rules/i)&&(i="rules"),d[i]||(d[i]=h.label),h&&-1===["courses","store"].indexOf(h.name)&&c.push(this._prepareRenderItem(g))}var j=this._getSearchTotal(a),k=this._getDocumentsCount(a),l=this._getFacetCounts(a);this.context.type&&"all"!==this.context.type&&!l[this.context.type]&&(l[this.context.type]={count:0}),this.context.attr("facetCounts",null),this.context.attr("results",null),this.context.attr({typedQuery:this.context.query,results:c,facetCounts:l,resultsCount:j,documentsCount:k}),this.context.paginator.attr("count",j),can.batch.stop(),this.context.attr("foundOfType",this.$element.find(can.sub('.results__content__header__list a[data-type="{type}"]',{type:this.context.type||"all"})).data("label")),this.updateTypeList(),this.applyCloudinary(),this.updateProtectedLinks()},updateTypeList:function(){var a=this.$element.find(".results__content__header__list");a.find("a[data-type]").removeClass("active"),a.find(can.sub('[data-type="{type}"]',{type:this.context.type})).addClass("active")},onTypeChanged:function(){this.updateTypeList()},_getQueryText:function(){var a=this._super();return this.$query.val(a),a},".search-results__form .button click":function(){this.context.attr("query",this._getQueryText()),this.context.query&&(this.context.attr("type","all"),this.search(!1,!0))},".search-results__form__field input keydown":function(a,b){switch(b.keyCode){case usga.BaseSearchModule.KEYS.ENTER:b.preventDefault(),this.context.attr("query",this._getQueryText()),this.context.query&&(this.context.attr("type","all"),this.search(!1,!0))}},".results__content__header__list a[data-type] click":function(a,b){b.preventDefault(),this.context.attr("type",a.data("type")),this.search(!1,!1)},".results__content__header .dropdown change":function(a,b){b.preventDefault(),this.search(!1,!1)}}),usga.SearchRules=usga.BaseCloudinaryModule.extend({defaults:{baseSearchPageUrl:"",searchPageUrl:"/search-results.html#q={query}{type}"}},{onFirstShow:function(){this._super(),this.getQuizData()},getQuizData:function(){this.options.quizUrl&&$.getJSON(this.options.quizUrl,this.proxy(this.onGetQuiz))},onGetQuiz:function(a){var b=can.view("#quizTemplate",a.item);this.$element.find(".quiz-holder").append(b),this.$quiz=this.$element.find(".block__test.quiz"),this.$result=this.$element.find(".block__test.result"),this.$result.hide()},".search-rules__form submit":function(a,b){b.preventDefault();var c=a.find(".search-rules__form__input").val().trim();c.length>0&&usga.BaseSearchModule.navigateToUrl(usga.BaseSearchModule.getResultsUrl(this.options.baseSearchPageUrl,this.options.searchPageUrl,c,"rules"))},".block__test__form__item__input change":function(a,b){this.correctAnswer=!!a.attr("data-correct")},".block__test__form__item__submit click":function(){this.$quiz.hide(),this.$result.show(),(this.isSmallScreen()||this.isMediumScreen())&&window.usga.scrollTo(this.$element.find(".quiz-holder")),this.correctAnswer?(this.$result.find(".block__test__answer-status.correct").show(),this.$result.find(".block__test__answer-status.incorrect").hide()):(this.$result.find(".block__test__answer-status.incorrect").show(),this.$result.find(".block__test__answer-status.correct").hide())}}),usga.ChampionshipSliderLive=usga.VariableSlider.extend({sliderSelector:".main_slider_championships-live",getSliderConfig:function(){var a={minSlides:1,maxSlides:3,slideWidth:370,slideMargin:30,controls:!1,adaptiveHeight:!0},b=this.getScreenSize();switch(b){case"bigger":case"big":a.maxSlides=2;break;case"medium":case"small":a.maxSlides=1,a.slideMargin=0,a.slideWidth=0}return a}}),usga.ChampionshipMediaSlider=usga.BaseCloudinaryModule.extend({_sliderIsLoaded:!1,_initSlider:function(){var a={nextButton:".swiper-button-next",prevButton:".swiper-button-prev",pagination:".swiper-pagination",paginationClickable:!0,slidesPerView:"auto",spaceBetween:1,simulateTouch:!1,onImagesReady:this.proxy(this._onSliderLoaded)};this.options.delay&&(a.autoplay=1e3*this.options.delay),this.options.carousel&&(a.loop=!0),new Swiper(this.$element.find(".slider-wrapper"),a)},onFirstShow:function(){this._super(),this._initSlider()},_onSliderLoaded:function(){this._sliderIsLoaded=!0}}),usga.ChampionshipSlider=usga.BaseCloudinaryModule.extend({initSlider:function(){var a={minSlides:1,maxSlides:8,slideWidth:390,slideMargin:1,controls:!0,adaptiveHeight:!0,infiniteLoop:!1,hideControlOnEnd:!0,adjustOnResize:!0,touchEnabled:usga.supports.touch};this.options.delay&&(a.auto=!0,a.pause=1e3*this.options.delay),this.options.carousel&&(a.infiniteLoop=!0),this.slider=this.$element.find(".main_slider_championships").bxSlider(a)},redrawSlider:function(){var a=this;setTimeout(function(){a.slider.redrawSlider()},500)},onFirstShow:function(){this._super(),this.initSlider()}}),usga.JoinSlider=usga.BaseCloudinaryModule.extend({initSlider:function(){var a=this.$element.find("#slider-menu_join"),b={pagerCustom:a,controls:!1,touchEnabled:usga.supports.touch};this.options.delay&&(b.auto=!0,b.pause=1e3*this.options.delay),this.$element.find(".main_slider_join").bxSlider(b)},onFirstShow:function(){this._super(),this.initSlider()}}),usga.TicketSlider=usga.BaseCloudinaryModule.extend({$slider:null,initSlider:function(){this.$slider=this.$element.find(".main_slider_ticket"),this.$slider.slick({dots:!1,arrows:!0,draggable:!1,swipe:!0,appendArrows:this.$element.find(".slick-nav__inner")}),this.$slider.on("afterChange",this.proxy(this.onSlickSlideChanged)),this.updateSliderMenu()},_updateLayout:function(){var a="infinity"===this.getScreenSize();this.$slider.find(".main_slider__item").each(function(){$(this).find(".slides__item:gt(1)").toggle(a)})},onLayout:function(){this._updateLayout()},onFirstShow:function(){this._super(),this.initSlider(),this._updateLayout()},updateSliderMenu:function(){var a=this.$slider.slick("slickCurrentSlide"),b=this.$element.find("#slider-menu_ticket .slider-menu__item__link");b.removeClass("active"),b.filter(":eq("+a+")").addClass("active")},onSlickSlideChanged:function(a,b){this.updateSliderMenu()},"#slider-menu_ticket .slider-menu__item__link click":function(a,b){b.preventDefault(),this.$slider.slick("slickGoTo",a.data("slide-index")||0)}}),usga=window.usga||{},usga.SlideLatestNavUp=usga.BaseModule.extend({".main_slider__item__latest_nav_up .slider-menu__item__link click":function(a){var b=$(a),c=b.closest(".main_slider__item__latest_nav_up"),d=c.find(".slider-menu__item__link"),e=d.index(b);return d.filter(":lt("+e+"),:gt("+e+")").removeClass("active"),b.addClass("active"),c.find(".tab-pane").removeClass("active"),c.find("."+b.data("toggle-class")).addClass("active"),!1}});var usga=window.usga||{};usga.SocialShare=usga.BaseModule.extend({twitterUrl:function(){return"http://www.twitter.com/share?url={shareUrl}"},facebookUrl:function(){return"http://www.facebook.com/sharer/sharer.php?u={shareUrl}"},googleplusUrl:function(){return"https://plus.google.com/share?url={shareUrl}"},linkedinUrl:function(){return"https://www.linkedin.com/shareArticle?url={shareUrl}"},showSocialWindow:function(a){var b=a.data("social-name"),c=document.URL.split("?")[0].split("#")[0];if("email"===b)document.location="mailto:?subject=Share&body="+encodeURIComponent(c);else if(b)if(c=a.data("url"))window.open(c,"_blank","resizable=yes");else{var d=b.toLowerCase().replace(/[^a-z]/i,"")+"Url";if(this[d]){var e=a.data("share-url")||document.URL.split("?")[0];window.open(this[d]().replace("{shareUrl}",encodeURIComponent(e)),"_blank","width=600,height=400,resizable=yes")}}},".social__item mouseup":function(a,b){b.preventDefault(),this.showSocialWindow(a)},".social__item touchend":function(a,b){b.preventDefault(),this.showSocialWindow(a)}}),usga.Store=usga.BaseCloudinaryModule.extend({onFirstShow:function(){this.isSmallScreen()||this._super()},onLayout:function(){this.isSmallScreen()||this._super()}}),usga.Tabs=usga.BaseCloudinaryModule.extend({onDocumentReady:function(){this.$element.find(".nav-tabs-drop").tabdrop({updateSelect:!0}).on("tabChange",this.proxy(this.onTabChanged))},onFirstShow:function(){this.applyCloudinary(this.$element.find(".tabbable-head"))},onLayout:function(){this.applyCloudinary(this.$element.find(".tabbable-head"))},onTabChanged:function(a,b){this.trigger("onTabChanged",b)}}),usga.VideoDetails=usga.BaseCloudinaryModule.extend({init:function(){this._super(),this.$sideBar=this.$element.find(".video-details__container__sidebar"),this.$playerContainer=this.$element.find(".video-details__container__content__player")},initSlider:function(){this.slider=this.$element.find(".video-details__container__sidebar .related-list").bxSlider({controls:!1,infiniteLoop:!1,minSlides:1,maxSlides:1,slideWidth:this.mediumMaxWidth-8,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch})},syncSideBarHeight:function(){var a="auto";this.isBigSize()&&(a=this.$playerContainer.height()-30),this.$sideBar.height(a)},isBigSize:function(){return this.isBigScreen()||this.isBiggerScreen()||this.isInfinityScreen()},onDocumentReady:function(){this.syncSideBarHeight(),this.isBigSize()||this.slider||this.initSlider()},onLayout:function(){
this.isBigSize()&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBigSize()||this.slider||this.initSlider()},onWindowResize:function(){this.syncSideBarHeight()}}),usga.VideoPlayer=usga.BaseModule.extend({onFirstShow:function(){var a=Math.floor(100*Math.random())+1;window["onTemplateLoad"+a]=this.proxy(this.onTemplateLoad),window["onTemplateReady"+a]=this.proxy(this.onTemplateReady);var b={playerId:this.options.playerId,playerKey:this.options.playerKey,videoId:this.options.videoId,number:a},c=can.view("#videoPlayerTemplate",b);this.$element.append(c),brightcove.createExperiences()},onTemplateLoad:function(a){this.player=brightcove.api.getExperience(a),this.APIModules=brightcove.api.modules.APIModules,this.$experianceContainer=this.$element.find(".BrightcoveExperience")},onTemplateReady:function(a){var b=this.player.getModule(this.APIModules.VIDEO_PLAYER);this.experienceModule=this.player.getModule(this.APIModules.EXPERIENCE),this.options.autoplay&&b.play()},onWindowResize:function(){if("html"==this.experienceModule.experience.type){var a=this.$experianceContainer.width(),b=this.$experianceContainer.height();this.experienceModule.setSize(a,b)}}}),usga.WelcomeWidget=usga.BaseModule.extend({context:null,accountUser:null,onDocumentReady:function(){this.context=new can.Map(this.options),usga.Gigya.onUser(this.proxy(this.updateUI))},createWidgetCustomMessages:function(a){var b=[];if(this.options.overrideMessage)$.each(this.options.overrideMessage.values,function(a,c){b.push(c)});else{var c=null;if(this.accountUser.data.memberLevel&&this.options.memberlevels)switch(this.accountUser.data.memberLevel.toLowerCase()){case"basic membership":case"dual membership":this.options.memberlevels.member&&(c=this.options.memberlevels.member);break;case"championship club membership":case"champion club dual membership":this.options.memberlevels.champion&&(c=this.options.memberlevels.champion);break;case"eagle club membership":case"eagle club dual membership":this.options.memberlevels.eagle&&(c=this.options.memberlevels.eagle);break;case"medal club membership":case"medal club dual membership":this.options.memberlevels.medal&&(c=this.options.memberlevels.medal);break;case"honor club member":case"honor club dual membership":this.options.memberlevels.honor&&(c=this.options.memberlevels.honor);break;case"patron of golf":case"patron of golf dual membership":this.options.memberlevels.patron&&(c=this.options.memberlevels.patron);break;case"patron plus member":case"patron plus dual member":this.options.memberlevels.patronplus&&(c=this.options.memberlevels.patronplus);break;default:this.options.memberlevels.member&&(c=this.options.memberlevels.member)}var d=[];if(a&&a.data&&a.data.interests&&this.options.interests){var e=a.data.interests;e.amateurgolf&&this.options.interests.amateur&&d.push(this.options.interests.amateur.values),e.coursecare&&this.options.interests.course&&d.push(this.options.interests.course.values),e.equipment&&this.options.interests.equipment&&d.push(this.options.interests.equipment.values),e.handicapping&&this.options.interests.handicapping&&d.push(this.options.interests.handicapping.values),e.history&&this.options.interests.history&&d.push(this.options.interests.history.values),e.juniorgolf&&this.options.interests.juniorgolf&&d.push(this.options.interests.juniorgolf.values),e.paceofplay&&this.options.interests.paceofplay&&d.push(this.options.interests.paceofplay.values),e.rules&&this.options.interests.rules&&d.push(this.options.interests.rules.values),e.usopen&&this.options.interests.usopens&&d.push(this.options.interests.usopens.values),e.volunteering&&this.options.interests.volunteering&&d.push(this.options.interests.volunteering.values),e.etitquette&&this.options.interests.etiquette&&d.push(this.options.interests.etiquette.values)}var f=null;this.options.userstates&&(usga.Gigya.isMember()&&usga.Gigya.isUserState("standard-active")&&(f=this.options.userstates.standardactive),usga.Gigya.isMember()&&usga.Gigya.isUserState("standard-expiring")&&(f=this.options.userstates.standardexpiring,a&&a.data&&a.data.membership&&a.data.membership.autorenew===!0&&(f=this.options.userstates.standardactive)),usga.Gigya.isMember()&&usga.Gigya.isUserState("standard-expired")&&(f=this.options.userstates.standardexpired),usga.Gigya.isMember()&&usga.Gigya.isUserState("standard-in-grace")&&(f=this.options.userstates.standardingrace),usga.Gigya.isFan()&&(f=this.options.userstates.standardnonmember),usga.Gigya.isProspect()&&(f=this.options.userstates.standardprospect)),c&&$.each(c.values,function(a,c){b.push(c)}),d&&$.each(d,function(a,c){$.each(c,function(a,c){b.push(c)})}),f&&$.each(f.values,function(a,c){b.push(c)})}var g=[];if($.each(b,function(a,b){b.start&&moment(new Date(b.start)).isValid()&&!(moment()>moment(new Date(b.start)))||b.end&&moment(new Date(b.end)).isValid()&&!(moment()<moment(new Date(b.end)))||g.push(b)}),0!==g.length){var h=g.length,i=Math.floor(Math.random()*h),j=$.extend(!0,{},g[i]),k=this.replaceKeys(j,this.accountUser);k.buttons=this.parseWelcomeWidgetButton(k);var l=can.view("#welcomeWidgetForm",k,this.accountUser);this.$element.find(".welcome-widget-content").html(l)}},updateUI:function(a){if(a)this.accountUser=a,usga.Gigya.getDataStore(this.proxy(this.createWidgetCustomMessages));else{var b=[];$.each(this.options.userstates.anonymous.values,function(a,c){b.push(c)});var c=this.options.userstates.anonymous.values.length,d=Math.floor(Math.random()*c),e=b[d];e.buttons=this.parseWelcomeWidgetButton(e);var f=can.view("#signInWidgetForm",e);this.$element.find(".welcome-widget-content").html(f)}},parseWelcomeWidgetButton:function(a){var b=[];return b.push({buttonUrl:this.replaceUrl(a.button1url),buttonText:a.button1text,buttonCss:a.button1css}),b.push({buttonUrl:this.replaceUrl(a.button2url),buttonText:a.button2text,buttonCss:a.button2css}),b.push({buttonUrl:this.replaceUrl(a.button3url),buttonText:a.button3text,buttonCss:a.button3css}),b},replaceUrl:function(a){return a&&0!==a.indexOf("http")&&0!==a.indexOf("www")&&-1==a.indexOf(".html")?a+".html":a},replaceKeys:function(a,b){var c=[{key:"##FirstName##",value:b.profile.firstName?b.profile.firstName:""},{key:"##LastName##",value:b.profile.lastName?b.profile.lastName:""},{key:"##MemberID##",value:b.data.memberId?b.data.memberId:""},{key:"##MembershipLevel##",value:b.data.memberLevel?b.data.memberLevel:""},{key:"##ExpirationDate##",value:b.data.memberExpDate?b.data.memberExpDate:""}];return $.each(c,function(b,c){a.subtitle=a.subtitle.replace(c.key,c.value),a.title=a.title.replace(c.key,c.value),a.body=a.body.replace(c.key,c.value),a.footer=a.footer.replace(c.key,c.value)}),a},".signin.button.button_color1 click":function(a){usga.Gigya.login()},".join.button.button_color1 click":function(a){usga.Gigya.register()},".my_account.button.button_color1 click":function(a){usga.Gigya.profile()},".member_login click":function(a){usga.Gigya.login()},".member_register click":function(a){usga.Gigya.register()},".member_connect click":function(a){usga.Gigya.connectAccount()}}),usga.WorldRanking=usga.BaseModule.extend({initSlider:function(){this.slider=this.$element.find(".world-ranking__slider").bxSlider({infiniteLoop:!1,minSlides:1,maxSlides:1,slideWidth:this.mediumMaxWidth-8,slideMargin:0,adaptiveHeight:!0,touchEnabled:usga.supports.touch})},onDocumentReady:function(){this.onLayout()},onLayout:function(){(this.isBiggerScreen()||this.isInfinityScreen())&&this.slider?(this.slider.destroySlider(),this.slider=null):this.isBiggerScreen()||this.isInfinityScreen()||this.slider||this.initSlider()}});;