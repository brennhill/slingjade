<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
          jcr:primaryType="cq:Dialog"
          width="{Long}800"
          xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tab
                jcr:primaryType="cq:Widget"
                hideMode="offsets"
                xtype="panel">
            <items jcr:primaryType="cq:WidgetCollection">
                <autoRotation
                        jcr:primaryType="cq:Widget"
                        defaultValue="false"
                        fieldLabel="Auto Rotation"
                        name="./autoRotation"
                        type="radio"
                        xtype="selection">
                    <options jcr:primaryType="cq:WidgetCollection">
                        <false
                                text="No"
                                jcr:primaryType="nt:unstructured"
                                value="false"/>
                        <true
                                text="Yes"
                                jcr:primaryType="nt:unstructured"
                                value="true"/>
                    </options>
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            selectionchanged="function(box,value){var textfields = box.ownerCt.findByType('textfield'); if(textfields[0].name=='./rotationSpeed'){ if(value == 'true'){ textfields[0].show();} else { textfields[0].hide(); }}}"/>
                </autoRotation>
                <showWelcomeWidget
                        jcr:primaryType="cq:Widget"
                        defaultValue="true"
                        fieldLabel="Show Welcome Widget"
                        name="./showWelcomeWidget"
                        type="radio"
                        xtype="selection">
                    <options jcr:primaryType="cq:WidgetCollection">
                        <false
                                text="No"
                                jcr:primaryType="nt:unstructured"
                                value="false"/>
                        <true
                                text="Yes"
                                jcr:primaryType="nt:unstructured"
                                value="true"/>
                    </options>
                </showWelcomeWidget>
                <rotationSpeed
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Rotation speed (sec)"
                        name="./rotationSpeed"
                        regex="/^[0-9]{1,4}$/"
                        regexText="Please enter a number from 1 to 9999"
                        xtype="textfield"/>
                <multifield
                        jcr:primaryType="cq:Widget"
                        customMultiFieldName="./slides"
                        hideLabel="false"
                        fieldLabel="Slides"
                        name="./slides"
                        xtype="custommultifield">
                    <fieldConfig jcr:primaryType="cq:WidgetCollection">
                        <slideType
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean} false"
                                fieldLabel="Slide Type"
                                defaultValue="image"
                                boxMaxWidth="{Long}200"
                                name="./slideType"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <video
                                        jcr:primaryType="nt:unstructured"
                                        text="Video"
                                        value="video"/>
                                <image
                                        jcr:primaryType="nt:unstructured"
                                        text="Image"
                                        value="image"/>
                            </options>
                        </slideType>
                        <slideDestination
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Linked page"
                                name="./slideDestination"
                                xtype="pathfield"/>
                        <newWindow
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Open linked page in a new window"
                                defaultValue="no"
                                boxMaxWidth="{Long}200"
                                name="./newWindow"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <yes
                                        jcr:primaryType="nt:unstructured"
                                        text="Yes"
                                        value="yes"/>
                                <no
                                        jcr:primaryType="nt:unstructured"
                                        text="No"
                                        value="no"/>
                            </options>
                        </newWindow>
                        <title
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Title Linked Page"
                                name="./title"
                                xtype="textfield"/>
                        <category
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Category"
                                name="./category"
                                xtype="textfield"/>
                        <slideDescription
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Description"
                                name="./slideDescription"
                                xtype="textarea"/>
                        <buttonCount
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Buttons count"
                                defaultValue="one"
                                boxMaxWidth="{Long}200"
                                name="./buttonCount"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <one
                                        jcr:primaryType="nt:unstructured"
                                        text="1"
                                        value="one"/>
                                <two
                                        jcr:primaryType="nt:unstructured"
                                        text="2"
                                        value="two"/>
                            </options>
                            <listeners
                                    jcr:primaryType="nt:unstructured"
                                    selectionchanged="function(box,value){var textfield; box.ownerCt.findByType('textfield').forEach(function(entry) { if (entry.name=='./secondButtonLabel') {textfield = entry;} }); var pathfield; box.ownerCt.findByType('pathfield').forEach(function(entry) { if (entry.name=='./secondButtonDestination') {pathfield = entry;} }); if(textfield &amp;&amp; pathfield) { if(value == 'two'){ textfield.show(); pathfield.show();} else { textfield.hide(); pathfield.hide(); }}}"
                                    loadcontent="function(box,value){var textfield; box.ownerCt.findByType('textfield').forEach(function(entry) { if (entry.name=='./secondButtonLabel') {textfield = entry;} }); var pathfield; box.ownerCt.findByType('pathfield').forEach(function(entry) { if (entry.name=='./secondButtonDestination') {pathfield = entry;} }); if(textfield &amp;&amp; pathfield) { if(value.data.buttonCount == 'two'){ textfield.show(); pathfield.show();} else { textfield.hide(); pathfield.hide(); }}}"/>
                        </buttonCount>
                        <buttonLabel
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Button Label"
                                name="./buttonLabel"
                                xtype="textfield"/>
                        <buttonDestination
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Button Destination"
                                name="./buttonDestination"
                                xtype="pathfield"/>
                        <secondButtonLabel
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Second Button Label"
                                name="./secondButtonLabel"
                                xtype="textfield"/>
                        <secondButtonDestination
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Second Button Destination"
                                name="./secondButtonDestination"
                                xtype="pathfield"/>
                        <showSmallScreenButtons
                                jcr:primaryType="cq:Widget"
                                boxMaxWidth="{Long}100"
                                defaultValue="no"
                                fieldLabel="Show Small Screen Buttons"
                                name="./showSmallScreenButtons"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <false
                                        jcr:primaryType="nt:unstructured"
                                        text="No"
                                        value="no"/>
                                <true
                                        jcr:primaryType="nt:unstructured"
                                        text="Yes"
                                        value="yes"/>
                            </options>
                        </showSmallScreenButtons>
                        <background
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Background Image"
                                name="./background"
                                predicate="nosystem"
                                rootPath="/content/dam/usga"
                                width="{Long}50"
                                xtype="pathfield">
                        <treeRoot
                                jcr:primaryType="nt:unstructured"
                                name="content/dam/usga"
                                text="Media Assets"/>
                        </background>
                        <navTitle
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Title of slide in navigation bar"
                                name="./navTitle"
                                xtype="textfield"/>
                    </fieldConfig>
                </multifield>
            </items>
        </tab>
    </items>
</jcr:root>