<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
          jcr:primaryType="cq:Dialog"
          width="850"
          height="900"
          xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tab
                jcr:primaryType="cq:Widget"
                hideMode="offsets"
                xtype="panel">
            <items jcr:primaryType="cq:WidgetCollection">
                <actionLinks
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Action Links"
                        name="./actionLinks"
                        orderable="{Boolean}true"
                        xtype="multifield">
                    <fieldConfig
                            jcr:primaryType="cq:Widget"
                            xtype="multifieldpanel">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <linkIcon
                                    jcr:primaryType="cq:Widget"
                                    allowBlank="{Boolean}true"
                                    fieldLabel="Icon: "
                                    key="linkIcon"
                                    predicate="nosystem"
                                    rootPath="/content/dam/usga"
                                    width="400"
                                    xtype="pathfield">
                                <treeRoot
                                        jcr:primaryType="nt:unstructured"
                                        name="content/dam/usga"
                                        text="Media Assets"/>
                            </linkIcon>
                            <linkLabel
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Label 1: "
                                    width="400"
                                    key="linkLabel"
                                    xtype="textfield"/>
                            <linkURL
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Link 1: "
                                    fieldDescription="Leave empty to use login/registration and logout/profile options"
                                    key="linkURL"
                                    width="400"
                                    xtype="pathfield"/>
                            <linkType1
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Type 1: "
                                    defaultValue="sign-in"
                                    boxMaxWidth="200"
                                    key="linkType1"
                                    type="select"
                                    xtype="selection">
                                <options jcr:primaryType="cq:WidgetCollection">
                                    <none
                                            jcr:primaryType="nt:unstructured"
                                            text="none"
                                            value=""/>
                                    <search
                                        jcr:primaryType="nt:unstructured"
                                        text="Search"
                                        value="search"/>
                                    <signIn
                                            jcr:primaryType="nt:unstructured"
                                            text="Sign In"
                                            value="campaignLogin"/>
                                    <register
                                        jcr:primaryType="nt:unstructured"
                                        text="Register"
                                        value="campaignRegister"/>
                                    <profileLogout
                                            jcr:primaryType="nt:unstructured"
                                            text="Profile/Log out"
                                            value="profileLogout"/>
                                    <home
                                            jcr:primaryType="nt:unstructured"
                                            text="Clubhouse Home button"
                                            value="home"/>
                                </options>
                                <listeners
                                        jcr:primaryType="nt:unstructured"
                                        selectionchanged="function(box,value){
                                            var selection = box.ownerCt.findByType('selection');
                                            if(selection[0].fieldLabel=='Type 1: '){
                                                var pathfield = box.ownerCt.findByType('pathfield');
                                                if(pathfield[1].fieldLabel=='Link 1: '){
                                                    if(value == ''){ pathfield[1].show();
                                                    } else {
                                                        pathfield[1].hide();
                                                    }
                                                }
                                            }
                                        }"/>
                            </linkType1>
                            <linkLabel_2
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Label 2: "
                                    key="linkLabel_2"
                                    xtype="textfield"/>
                            <linkURL_2
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Link 2: "
                                    fieldDescription="Leave empty to use login/registration options"
                                    width="400"
                                    key="linkURL_2"
                                    xtype="pathfield"/>
                            <linkType2
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Type 2: "
                                    defaultValue="register"
                                    boxMaxWidth="200"
                                    key="linkType2"
                                    type="select"
                                    xtype="selection">
                                <options jcr:primaryType="cq:WidgetCollection">
                                    <none
                                            jcr:primaryType="nt:unstructured"
                                            text="none"
                                            value=""/>
                                    <signIn
                                            jcr:primaryType="nt:unstructured"
                                            text="Sign In"
                                            value="login"/>
                                    <register
                                        jcr:primaryType="nt:unstructured"
                                        text="Register"
                                        value="campaignRegister"/>
                                    <profileLogout
                                            jcr:primaryType="nt:unstructured"
                                            text="Profile/Log out"
                                            value="profileLogout"/>
                                </options>
                                <listeners
                                        jcr:primaryType="nt:unstructured"
                                        selectionchanged="function(box,value){
                                            var selection = box.ownerCt.findByType('selection');
                                            if(selection[1].fieldLabel=='Type 2: '){
                                                var pathfield = box.ownerCt.findByType('pathfield');
                                                if(pathfield[2].fieldLabel=='Link 2: '){
                                                    if(value == ''){ pathfield[2].show();
                                                    } else {
                                                        pathfield[2].hide();
                                                    }
                                                }
                                            }
                                        }"/>
                            </linkType2>
                            <newWindow
                                    jcr:primaryType="cq:Widget"
                                    fieldLabel="Open link in a new window: "
                                    defaultValue="no"
                                    boxMaxWidth="200"
                                    key="newWindow"
                                    type="select"
                                    xtype="selection">
                                <options jcr:primaryType="cq:WidgetCollection">
                                    <yes
                                            jcr:primaryType="nt:unstructured"
                                            text="Yes"
                                            value="_blank"/>
                                    <no
                                            jcr:primaryType="nt:unstructured"
                                            text="No"
                                            value="_self"/>
                                </options>
                            </newWindow>
                        </items>
                    </fieldConfig>
                </actionLinks>
            </items>
        </tab>
    </items>
</jcr:root>